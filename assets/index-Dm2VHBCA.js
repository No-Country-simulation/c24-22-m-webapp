(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ym(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ff={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function PE(){if(Jy)return jl;Jy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:i,key:h,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var ev;function LE(){return ev||(ev=1,Ff.exports=PE()),Ff.exports}var f=LE(),Gf={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function UE(){if(tv)return Se;tv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,K={};function Q(j,ee,he){this.props=j,this.context=ee,this.refs=K,this.updater=he||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},Q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function le(){}le.prototype=Q.prototype;function oe(j,ee,he){this.props=j,this.context=ee,this.refs=K,this.updater=he||k}var W=oe.prototype=new le;W.constructor=oe,P(W,Q.prototype),W.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function O(j,ee,he,ae,ie,Ae){return he=Ae.ref,{$$typeof:a,type:j,key:ee,ref:he!==void 0?he:null,props:Ae}}function R(j,ee){return O(j.type,ee,void 0,void 0,void 0,j.props)}function A(j){return typeof j=="object"&&j!==null&&j.$$typeof===a}function I(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return ee[he]})}var V=/\/+/g;function z(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):ee.toString(36)}function C(){}function _t(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(C,C):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ft(j,ee,he,ae,ie){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(Ae){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case a:case e:we=!0;break;case x:return we=j._init,ft(we(j._payload),ee,he,ae,ie)}}if(we)return ie=ie(j),we=ae===""?"."+z(j,0):ae,re(ie)?(he="",we!=null&&(he=we.replace(V,"$&/")+"/"),ft(ie,ee,he,"",function(rt){return rt})):ie!=null&&(A(ie)&&(ie=R(ie,he+(ie.key==null||j&&j.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+we)),ee.push(ie)),1;we=0;var mt=ae===""?".":ae+":";if(re(j))for(var Ue=0;Ue<j.length;Ue++)ae=j[Ue],Ae=mt+z(ae,Ue),we+=ft(ae,ee,he,Ae,ie);else if(Ue=w(j),typeof Ue=="function")for(j=Ue.call(j),Ue=0;!(ae=j.next()).done;)ae=ae.value,Ae=mt+z(ae,Ue++),we+=ft(ae,ee,he,Ae,ie);else if(Ae==="object"){if(typeof j.then=="function")return ft(_t(j),ee,he,ae,ie);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function ne(j,ee,he){if(j==null)return j;var ae=[],ie=0;return ft(j,ae,"","",function(Ae){return ee.call(he,Ae,ie++)}),ae}function _e(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Fe(){}return Se.Children={map:ne,forEach:function(j,ee,he){ne(j,function(){ee.apply(this,arguments)},he)},count:function(j){var ee=0;return ne(j,function(){ee++}),ee},toArray:function(j){return ne(j,function(ee){return ee})||[]},only:function(j){if(!A(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Se.Component=Q,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=oe,Se.StrictMode=i,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Se.act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.cache=function(j){return function(){return j.apply(null,arguments)}},Se.cloneElement=function(j,ee,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ae=P({},j.props),ie=j.key,Ae=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Ae=void 0),ee.key!==void 0&&(ie=""+ee.key),ee)!Ne.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(ae[we]=ee[we]);var we=arguments.length-2;if(we===1)ae.children=he;else if(1<we){for(var mt=Array(we),Ue=0;Ue<we;Ue++)mt[Ue]=arguments[Ue+2];ae.children=mt}return O(j.type,ie,void 0,void 0,Ae,ae)},Se.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Se.createElement=function(j,ee,he){var ae,ie={},Ae=null;if(ee!=null)for(ae in ee.key!==void 0&&(Ae=""+ee.key),ee)Ne.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ie[ae]=ee[ae]);var we=arguments.length-2;if(we===1)ie.children=he;else if(1<we){for(var mt=Array(we),Ue=0;Ue<we;Ue++)mt[Ue]=arguments[Ue+2];ie.children=mt}if(j&&j.defaultProps)for(ae in we=j.defaultProps,we)ie[ae]===void 0&&(ie[ae]=we[ae]);return O(j,Ae,void 0,void 0,null,ie)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(j){return{$$typeof:g,render:j}},Se.isValidElement=A,Se.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:_e}},Se.memo=function(j,ee){return{$$typeof:v,type:j,compare:ee===void 0?null:ee}},Se.startTransition=function(j){var ee=ue.T,he={};ue.T=he;try{var ae=j(),ie=ue.S;ie!==null&&ie(he,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Fe,me)}catch(Ae){me(Ae)}finally{ue.T=ee}},Se.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Se.use=function(j){return ue.H.use(j)},Se.useActionState=function(j,ee,he){return ue.H.useActionState(j,ee,he)},Se.useCallback=function(j,ee){return ue.H.useCallback(j,ee)},Se.useContext=function(j){return ue.H.useContext(j)},Se.useDebugValue=function(){},Se.useDeferredValue=function(j,ee){return ue.H.useDeferredValue(j,ee)},Se.useEffect=function(j,ee){return ue.H.useEffect(j,ee)},Se.useId=function(){return ue.H.useId()},Se.useImperativeHandle=function(j,ee,he){return ue.H.useImperativeHandle(j,ee,he)},Se.useInsertionEffect=function(j,ee){return ue.H.useInsertionEffect(j,ee)},Se.useLayoutEffect=function(j,ee){return ue.H.useLayoutEffect(j,ee)},Se.useMemo=function(j,ee){return ue.H.useMemo(j,ee)},Se.useOptimistic=function(j,ee){return ue.H.useOptimistic(j,ee)},Se.useReducer=function(j,ee,he){return ue.H.useReducer(j,ee,he)},Se.useRef=function(j){return ue.H.useRef(j)},Se.useState=function(j){return ue.H.useState(j)},Se.useSyncExternalStore=function(j,ee,he){return ue.H.useSyncExternalStore(j,ee,he)},Se.useTransition=function(){return ue.H.useTransition()},Se.version="19.0.0",Se}var nv;function Xm(){return nv||(nv=1,Gf.exports=UE()),Gf.exports}var X=Xm();const ra=Ym(X);var Kf={exports:{}},Dl={},Qf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function zE(){return rv||(rv=1,function(a){function e(ne,_e){var me=ne.length;ne.push(_e);e:for(;0<me;){var Fe=me-1>>>1,j=ne[Fe];if(0<o(j,_e))ne[Fe]=_e,ne[me]=j,me=Fe;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var _e=ne[0],me=ne.pop();if(me!==_e){ne[0]=me;e:for(var Fe=0,j=ne.length,ee=j>>>1;Fe<ee;){var he=2*(Fe+1)-1,ae=ne[he],ie=he+1,Ae=ne[ie];if(0>o(ae,me))ie<j&&0>o(Ae,ae)?(ne[Fe]=Ae,ne[ie]=me,Fe=ie):(ne[Fe]=ae,ne[he]=me,Fe=he);else if(ie<j&&0>o(Ae,me))ne[Fe]=Ae,ne[ie]=me,Fe=ie;else break e}}return _e}function o(ne,_e){var me=ne.sortIndex-_e.sortIndex;return me!==0?me:ne.id-_e.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();a.unstable_now=function(){return h.now()-g}}var p=[],v=[],x=1,S=null,w=3,k=!1,P=!1,K=!1,Q=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function W(ne){for(var _e=n(v);_e!==null;){if(_e.callback===null)i(v);else if(_e.startTime<=ne)i(v),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(v)}}function re(ne){if(K=!1,W(ne),!P)if(n(p)!==null)P=!0,_t();else{var _e=n(v);_e!==null&&ft(re,_e.startTime-ne)}}var ue=!1,Ne=-1,O=5,R=-1;function A(){return!(a.unstable_now()-R<O)}function I(){if(ue){var ne=a.unstable_now();R=ne;var _e=!0;try{e:{P=!1,K&&(K=!1,le(Ne),Ne=-1),k=!0;var me=w;try{t:{for(W(ne),S=n(p);S!==null&&!(S.expirationTime>ne&&A());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,w=S.priorityLevel;var j=Fe(S.expirationTime<=ne);if(ne=a.unstable_now(),typeof j=="function"){S.callback=j,W(ne),_e=!0;break t}S===n(p)&&i(p),W(ne)}else i(p);S=n(p)}if(S!==null)_e=!0;else{var ee=n(v);ee!==null&&ft(re,ee.startTime-ne),_e=!1}}break e}finally{S=null,w=me,k=!1}_e=void 0}}finally{_e?V():ue=!1}}}var V;if(typeof oe=="function")V=function(){oe(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=I,V=function(){C.postMessage(null)}}else V=function(){Q(I,0)};function _t(){ue||(ue=!0,V())}function ft(ne,_e){Ne=Q(function(){ne(a.unstable_now())},_e)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ne){ne.callback=null},a.unstable_continueExecution=function(){P||k||(P=!0,_t())},a.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_getFirstCallbackNode=function(){return n(p)},a.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var me=w;w=_e;try{return ne()}finally{w=me}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(ne,_e){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=w;w=ne;try{return _e()}finally{w=me}},a.unstable_scheduleCallback=function(ne,_e,me){var Fe=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Fe+me:Fe):me=Fe,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=me+j,ne={id:x++,callback:_e,priorityLevel:ne,startTime:me,expirationTime:j,sortIndex:-1},me>Fe?(ne.sortIndex=me,e(v,ne),n(p)===null&&ne===n(v)&&(K?(le(Ne),Ne=-1):K=!0,ft(re,me-Fe))):(ne.sortIndex=j,e(p,ne),P||k||(P=!0,_t())),ne},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(ne){var _e=w;return function(){var me=w;w=_e;try{return ne.apply(this,arguments)}finally{w=me}}}}($f)),$f}var av;function BE(){return av||(av=1,Qf.exports=zE()),Qf.exports}var Yf={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function qE(){if(iv)return Qt;iv=1;var a=Xm();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:v,implementation:x}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qt.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,x)},Qt.flushSync=function(p){var v=h.T,x=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=v,i.p=x,i.d.f()}},Qt.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},Qt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Qt.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,S=g(x,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:k}):x==="script"&&i.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qt.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},Qt.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,S=g(x,v.crossOrigin);i.d.L(p,x,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qt.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=g(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},Qt.requestFormReset=function(p){i.d.r(p)},Qt.unstable_batchedUpdates=function(p,v){return p(v)},Qt.useFormState=function(p,v,x){return h.H.useFormState(p,v,x)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var sv;function HE(){if(sv)return Yf.exports;sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Yf.exports=qE(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function FE(){if(ov)return Dl;ov=1;var a=BE(),e=Xm(),n=HE();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case x:return"Profiler";case v:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case P:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return r=t.displayName||null,r!==null?r:R(t.type)||"Memo";case oe:r=t._payload,t=t._init;try{return R(t(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,z;function C(t){if(V===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var _t=!1;function ft(t,r){if(!t||_t)return"";_t=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var N=b.split(`
`),M=E.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===M.length)for(l=N.length-1,d=M.length-1;1<=l&&0<=d&&N[l]!==M[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==M[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==M[d]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=d);break}}}finally{_t=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?C(s):""}function ne(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function _e(t){try{var r="";do r+=ne(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function me(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Fe(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function j(t){if(me(t)!==t)throw Error(i(188))}function ee(t){var r=t.alternate;if(!r){if(r=me(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,l=r;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return j(d),t;if(m===l)return j(d),r;m=m.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=m;else{for(var b=!1,E=d.child;E;){if(E===s){b=!0,s=d,l=m;break}if(E===l){b=!0,l=d,s=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===s){b=!0,s=m,l=d;break}if(E===l){b=!0,l=m,s=d;break}E=E.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function he(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=he(t),r!==null)return r;t=t.sibling}return null}var ae=Array.isArray,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},we=[],mt=-1;function Ue(t){return{current:t}}function rt(t){0>mt||(t.current=we[mt],we[mt]=null,mt--)}function Qe(t,r){mt++,we[mt]=t.current,t.current=r}var Zt=Ue(null),Sr=Ue(null),wn=Ue(null),ha=Ue(null);function fa(t,r){switch(Qe(wn,r),Qe(Sr,t),Qe(Zt,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Ry(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Ry(t),r=Cy(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}rt(Zt),Qe(Zt,r)}function Ar(){rt(Zt),rt(Sr),rt(wn)}function No(t){t.memoizedState!==null&&Qe(ha,t);var r=Zt.current,s=Cy(r,t.type);r!==s&&(Qe(Sr,t),Qe(Zt,s))}function cs(t){Sr.current===t&&(rt(Zt),rt(Sr)),ha.current===t&&(rt(ha),Nl._currentValue=Ae)}var us=Object.prototype.hasOwnProperty,pi=a.unstable_scheduleCallback,ds=a.unstable_cancelCallback,Gd=a.unstable_shouldYield,Ro=a.unstable_requestPaint,an=a.unstable_now,dc=a.unstable_getCurrentPriorityLevel,bt=a.unstable_ImmediatePriority,It=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,hc=a.unstable_LowPriority,Co=a.unstable_IdlePriority,Kd=a.log,yi=a.unstable_setDisableYieldValue,ma=null,Gt=null;function Io(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}}function Zn(t){if(typeof Kd=="function"&&yi(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ma,t)}catch{}}var Jt=Math.clz32?Math.clz32:mc,ko=Math.log,fc=Math.LN2;function mc(t){return t>>>=0,t===0?32:31-(ko(t)/fc|0)|0}var Jn=128,ga=4194304;function Hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,d=t.suspendedLanes,m=t.pingedLanes,b=t.warmLanes;t=t.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~d,s!==0?l=Hn(s):(m&=E,m!==0?l=Hn(m):t||(b=E&~b,b!==0&&(l=Hn(b))))):(E=s&~d,E!==0?l=Hn(E):m!==0?l=Hn(m):t||(b=s&~b,b!==0&&(l=Hn(b)))),l===0?0:r!==0&&r!==l&&!(r&d)&&(d=l&-l,b=r&-r,d>=b||d===32&&(b&4194176)!==0)?r:l}function pa(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function hs(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=Jn;return Jn<<=1,!(Jn&4194176)&&(Jn=128),t}function ya(){var t=ga;return ga<<=1,!(ga&62914560)&&(ga=4194304),t}function fs(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function ut(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gc(t,r,s,l,d,m){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,M=t.hiddenUpdates;for(s=b&~s;0<s;){var G=31-Jt(s),Z=1<<G;E[G]=0,N[G]=-1;var q=M[G];if(q!==null)for(M[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}s&=~Z}l!==0&&va(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function va(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Jt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function _a(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Jt(s),d=1<<l;d&r|t[l]&r&&(t[l]|=r),s&=~d}}function pc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function yc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function ba(t,r){var s=ie.p;try{return ie.p=t,r()}finally{ie.p=s}}var er=Math.random().toString(36).slice(2),kt="__reactFiber$"+er,xt="__reactProps$"+er,Rr="__reactContainer$"+er,vi="__reactEvents$"+er,ms="__reactListeners$"+er,tr="__reactHandles$"+er,Do="__reactResources$"+er,xa="__reactMarker$"+er;function _i(t){delete t[kt],delete t[xt],delete t[vi],delete t[ms],delete t[tr]}function Fn(t){var r=t[kt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Rr]||s[kt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=jy(t);t!==null;){if(s=t[kt])return s;t=jy(t)}return r}t=s,s=t.parentNode}return null}function Cr(t){if(t=t[kt]||t[Rr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ea(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ta(t){var r=t[Do];return r||(r=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Je(t){t[xa]=!0}var Oo=new Set,gs={};function hn(t,r){sn(t,r),sn(t+"Capture",r)}function sn(t,r){for(gs[t]=r,t=0;t<r.length;t++)Oo.add(r[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function vc(t){return us.call(Vo,t)?!0:us.call(Mo,t)?!1:Qd.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function wa(t,r,s){if(vc(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Sa(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function An(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _c(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $d(t){var r=_c(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bi(t){t._valueTracker||(t._valueTracker=$d(t))}function Po(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=_c(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function at(t){return t.replace(Ir,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Aa(t,r,s,l,d,m,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+en(r)):t.value!==""+en(r)&&(t.value=""+en(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?ys(t,b,en(r)):s!=null?ys(t,b,en(s)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function xi(t,r,s,l,d,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;s=s!=null?""+en(s):"",r=r!=null?""+en(r):s,E||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ys(t,r,s){r==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ze(t,r,s,l){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+en(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Ei(t,r,s){if(r!=null&&(r=""+en(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+en(s):""}function Na(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(i(92));if(ae(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=en(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Nn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Yd.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function bc(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&s[d]!==l&&Lo(t,d,l)}else for(var m in r)r.hasOwnProperty(m)&&Lo(t,m,r[m])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(t){return Wd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rn=null;function vs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,jr=null;function Dr(t){var r=Cr(t);if(r&&(t=r.stateNode)){var s=t[xt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Aa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+at(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var d=l[xt]||null;if(!d)throw Error(i(90));Aa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Po(l)}break e;case"textarea":Ei(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ze(t,!!s.multiple,r,!1)}}}var zo=!1;function xc(t,r,s){if(zo)return t(r,s);zo=!0;try{var l=t(r);return l}finally{if(zo=!1,(kr!==null||jr!==null)&&(hu(),kr&&(r=kr,t=jr,jr=kr=null,Dr(r),t)))for(r=0;r<t.length;r++)Dr(t[r])}}function Ti(t,r){var s=t.stateNode;if(s===null)return null;var l=s[xt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var Cn=!1;if(fn)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Cn=!1}var rr=null,Ra=null,Or=null;function Bo(){if(Or)return Or;var t,r=Ra,s=r.length,l,d="value"in rr?rr.value:rr.textContent,m=d.length;for(t=0;t<s&&r[t]===d[t];t++);var b=s-t;for(l=1;l<=b&&r[s-l]===d[m-l];l++);return Or=d.slice(t,1<l?1-l:void 0)}function ar(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function qo(){return!1}function jt(t){function r(s,l,d,m,b){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ir:qo,this.isPropagationStopped=qo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=jt(Ge),Si=I({},Ge,{view:0,detail:0}),Ec=jt(Si),bs,xs,sr,Ai=I({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(bs=t.screenX-sr.screenX,xs=t.screenY-sr.screenY):xs=bs=0,sr=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:xs}}),In=jt(Ai),Tc=I({},Ai,{dataTransfer:0}),Zd=jt(Tc),Ni=I({},Si,{relatedTarget:0}),Es=jt(Ni),Ho=I({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=jt(Ho),wc=I({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ws=jt(wc),Jd=I({},Ge,{data:0}),Fo=jt(Jd),Ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ac[t])?!!r[t]:!1}function Ci(){return Go}var Nc=I({},Si,{key:function(t){if(t.key){var r=Ri[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(t){return t.type==="keypress"?ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ss=jt(Nc),Rc=I({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=jt(Rc),Mr=I({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),Cc=jt(Mr),Ic=I({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),kc=jt(Ic),jc=I({},Ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),As=jt(jc),tn=I({},Ge,{newState:0,oldState:0}),Dc=jt(tn),Oc=[9,13,27,32],or=fn&&"CompositionEvent"in window,u=null;fn&&"documentMode"in document&&(u=document.documentMode);var y=fn&&"TextEvent"in window&&!u,_=fn&&(!or||u&&8<u&&11>=u),T=" ",U=!1;function H(t,r){switch(t){case"keyup":return Oc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function Et(t,r){switch(t){case"compositionend":return te(r);case"keypress":return r.which!==32?null:(U=!0,T);case"textInput":return t=r.data,t===T&&U?null:t;default:return null}}function Ve(t,r){if(Me)return t==="compositionend"||!or&&H(t,r)?(t=Bo(),Or=Ra=rr=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Vr(t,r,s,l){kr?jr?jr.push(l):jr=[l]:kr=l,r=yu(r,"onChange"),0<r.length&&(s=new _s("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Lt=null,lr=null;function Qo(t){Ty(t,0)}function Mc(t){var r=Ea(t);if(Po(r))return t}function Zg(t,r){if(t==="change")return r}var Jg=!1;if(fn){var eh;if(fn){var th="oninput"in document;if(!th){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),th=typeof ep.oninput=="function"}eh=th}else eh=!1;Jg=eh&&(!document.documentMode||9<document.documentMode)}function tp(){Lt&&(Lt.detachEvent("onpropertychange",np),lr=Lt=null)}function np(t){if(t.propertyName==="value"&&Mc(lr)){var r=[];Vr(r,lr,t,vs(t)),xc(Qo,r)}}function f2(t,r,s){t==="focusin"?(tp(),Lt=r,lr=s,Lt.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function m2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(lr)}function g2(t,r){if(t==="click")return Mc(r)}function p2(t,r){if(t==="input"||t==="change")return Mc(r)}function y2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:y2;function $o(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!us.call(r,d)||!mn(t[d],r[d]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,r){var s=rp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rp(s)}}function ip(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ip(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ps(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=ps(t.document)}return r}function nh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function v2(t,r){var s=sp(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&ip(r.ownerDocument.documentElement,r)){if(l!==null&&nh(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var d=r.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!s.extend&&m>l&&(d=l,l=m,m=d),d=ap(r,m);var b=ap(r,l);d&&b&&(s.rangeCount!==1||s.anchorNode!==d.node||s.anchorOffset!==d.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),s.removeAllRanges(),m>l?(s.addRange(t),s.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _2=fn&&"documentMode"in document&&11>=document.documentMode,Ns=null,rh=null,Yo=null,ah=!1;function op(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ah||Ns==null||Ns!==ps(l)||(l=Ns,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&$o(Yo,l)||(Yo=l,l=yu(rh,"onSelect"),0<l.length&&(r=new _s("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ns)))}function Ii(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Rs={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},ih={},lp={};fn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function ki(t){if(ih[t])return ih[t];if(!Rs[t])return t;var r=Rs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in lp)return ih[t]=r[s];return t}var cp=ki("animationend"),up=ki("animationiteration"),dp=ki("animationstart"),b2=ki("transitionrun"),x2=ki("transitionstart"),E2=ki("transitioncancel"),hp=ki("transitionend"),fp=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(t,r){fp.set(t,r),hn(r,[t])}var kn=[],Cs=0,sh=0;function Vc(){for(var t=Cs,r=sh=Cs=0;r<t;){var s=kn[r];kn[r++]=null;var l=kn[r];kn[r++]=null;var d=kn[r];kn[r++]=null;var m=kn[r];if(kn[r++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&gp(s,d,m)}}function Pc(t,r,s,l){kn[Cs++]=t,kn[Cs++]=r,kn[Cs++]=s,kn[Cs++]=l,sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,r,s,l){return Pc(t,r,s,l),Lc(t)}function Ca(t,r){return Pc(t,null,null,r),Lc(t)}function gp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;d&&r!==null&&t.tag===3&&(m=t.stateNode,d=31-Jt(s),m=m.hiddenUpdates,t=m[d],t===null?m[d]=[r]:t.push(r),r.lane=s|536870912)}function Lc(t){if(50<bl)throw bl=0,mf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Is={},pp=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var s=pp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:_e(r)},pp.set(t,r),r)}return{value:t,source:r,stack:_e(r)}}var ks=[],js=0,Uc=null,zc=0,Dn=[],On=0,ji=null,Pr=1,Lr="";function Di(t,r){ks[js++]=zc,ks[js++]=Uc,Uc=t,zc=r}function yp(t,r,s){Dn[On++]=Pr,Dn[On++]=Lr,Dn[On++]=ji,ji=t;var l=Pr;t=Lr;var d=32-Jt(l)-1;l&=~(1<<d),s+=1;var m=32-Jt(r)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Pr=1<<32-Jt(r)+d|s<<d|l,Lr=m+t}else Pr=1<<m|s<<d|l,Lr=t}function lh(t){t.return!==null&&(Di(t,1),yp(t,1,0))}function ch(t){for(;t===Uc;)Uc=ks[--js],ks[js]=null,zc=ks[--js],ks[js]=null;for(;t===ji;)ji=Dn[--On],Dn[On]=null,Lr=Dn[--On],Dn[On]=null,Pr=Dn[--On],Dn[On]=null}var nn=null,Ut=null,Be=!1,Kn=null,cr=!1,uh=Error(i(519));function Oi(t){var r=Error(i(418,""));throw Zo(jn(r,t)),uh}function vp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[kt]=t,r[xt]=l,s){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<El.length;s++)De(El[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),xi(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bi(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Na(r,l.value,l.defaultValue,l.children),bi(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Ny(r.textContent,s)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=vu),r=!0):r=!1,r||Oi(t)}function _p(t){for(nn=t.return;nn;)switch(nn.tag){case 3:case 27:cr=!0;return;case 5:case 13:cr=!1;return;default:nn=nn.return}}function Xo(t){if(t!==nn)return!1;if(!Be)return _p(t),Be=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||kf(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&Ut&&Oi(t),_p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Ut=$n(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Ut=null}}else Ut=nn?$n(t.stateNode.nextSibling):null;return!0}function Wo(){Ut=nn=null,Be=!1}function Zo(t){Kn===null?Kn=[t]:Kn.push(t)}var Jo=Error(i(460)),bp=Error(i(474)),dh={then:function(){}};function xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bc(){}function Ep(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Bc,Bc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Jo?Error(i(483)):t;default:if(typeof r.status=="string")r.then(Bc,Bc);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Jo?Error(i(483)):t}throw el=r,Jo}}var el=null;function Tp(){if(el===null)throw Error(i(459));var t=el;return el=null,t}var Ds=null,tl=0;function qc(t){var r=tl;return tl+=1,Ds===null&&(Ds=[]),Ep(Ds,t,r)}function nl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Hc(t,r){throw r.$$typeof===c?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function wp(t){var r=t._init;return r(t._payload)}function Sp(t){function r(L,D){if(t){var B=L.deletions;B===null?(L.deletions=[D],L.flags|=16):B.push(D)}}function s(L,D){if(!t)return null;for(;D!==null;)r(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function d(L,D){return L=Ba(L,D),L.index=0,L.sibling=null,L}function m(L,D,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<D?(L.flags|=33554434,D):B):(L.flags|=33554434,D)):(L.flags|=1048576,D)}function b(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function E(L,D,B,$){return D===null||D.tag!==6?(D=sf(B,L.mode,$),D.return=L,D):(D=d(D,B),D.return=L,D)}function N(L,D,B,$){var ce=B.type;return ce===p?G(L,D,B.props.children,$,B.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&wp(ce)===D.type)?(D=d(D,B.props),nl(D,B),D.return=L,D):(D=ou(B.type,B.key,B.props,null,L.mode,$),nl(D,B),D.return=L,D)}function M(L,D,B,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=of(B,L.mode,$),D.return=L,D):(D=d(D,B.children||[]),D.return=L,D)}function G(L,D,B,$,ce){return D===null||D.tag!==7?(D=Fi(B,L.mode,$,ce),D.return=L,D):(D=d(D,B),D.return=L,D)}function Z(L,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sf(""+D,L.mode,B),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case h:return B=ou(D.type,D.key,D.props,null,L.mode,B),nl(B,D),B.return=L,B;case g:return D=of(D,L.mode,B),D.return=L,D;case oe:var $=D._init;return D=$(D._payload),Z(L,D,B)}if(ae(D)||Ne(D))return D=Fi(D,L.mode,B,null),D.return=L,D;if(typeof D.then=="function")return Z(L,qc(D),B);if(D.$$typeof===k)return Z(L,au(L,D),B);Hc(L,D)}return null}function q(L,D,B,$){var ce=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ce!==null?null:E(L,D,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===ce?N(L,D,B,$):null;case g:return B.key===ce?M(L,D,B,$):null;case oe:return ce=B._init,B=ce(B._payload),q(L,D,B,$)}if(ae(B)||Ne(B))return ce!==null?null:G(L,D,B,$,null);if(typeof B.then=="function")return q(L,D,qc(B),$);if(B.$$typeof===k)return q(L,D,au(L,B),$);Hc(L,B)}return null}function F(L,D,B,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(B)||null,E(D,L,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return L=L.get($.key===null?B:$.key)||null,N(D,L,$,ce);case g:return L=L.get($.key===null?B:$.key)||null,M(D,L,$,ce);case oe:var Ce=$._init;return $=Ce($._payload),F(L,D,B,$,ce)}if(ae($)||Ne($))return L=L.get(B)||null,G(D,L,$,ce,null);if(typeof $.then=="function")return F(L,D,B,qc($),ce);if($.$$typeof===k)return F(L,D,B,au(D,$),ce);Hc(D,$)}return null}function de(L,D,B,$){for(var ce=null,Ce=null,fe=D,ye=D=0,Vt=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var qe=q(L,fe,B[ye],$);if(qe===null){fe===null&&(fe=Vt);break}t&&fe&&qe.alternate===null&&r(L,fe),D=m(qe,D,ye),Ce===null?ce=qe:Ce.sibling=qe,Ce=qe,fe=Vt}if(ye===B.length)return s(L,fe),Be&&Di(L,ye),ce;if(fe===null){for(;ye<B.length;ye++)fe=Z(L,B[ye],$),fe!==null&&(D=m(fe,D,ye),Ce===null?ce=fe:Ce.sibling=fe,Ce=fe);return Be&&Di(L,ye),ce}for(fe=l(fe);ye<B.length;ye++)Vt=F(fe,L,ye,B[ye],$),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?ye:Vt.key),D=m(Vt,D,ye),Ce===null?ce=Vt:Ce.sibling=Vt,Ce=Vt);return t&&fe.forEach(function($a){return r(L,$a)}),Be&&Di(L,ye),ce}function Ee(L,D,B,$){if(B==null)throw Error(i(151));for(var ce=null,Ce=null,fe=D,ye=D=0,Vt=null,qe=B.next();fe!==null&&!qe.done;ye++,qe=B.next()){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var $a=q(L,fe,qe.value,$);if($a===null){fe===null&&(fe=Vt);break}t&&fe&&$a.alternate===null&&r(L,fe),D=m($a,D,ye),Ce===null?ce=$a:Ce.sibling=$a,Ce=$a,fe=Vt}if(qe.done)return s(L,fe),Be&&Di(L,ye),ce;if(fe===null){for(;!qe.done;ye++,qe=B.next())qe=Z(L,qe.value,$),qe!==null&&(D=m(qe,D,ye),Ce===null?ce=qe:Ce.sibling=qe,Ce=qe);return Be&&Di(L,ye),ce}for(fe=l(fe);!qe.done;ye++,qe=B.next())qe=F(fe,L,ye,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?ye:qe.key),D=m(qe,D,ye),Ce===null?ce=qe:Ce.sibling=qe,Ce=qe);return t&&fe.forEach(function(VE){return r(L,VE)}),Be&&Di(L,ye),ce}function ot(L,D,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var ce=B.key;D!==null;){if(D.key===ce){if(ce=B.type,ce===p){if(D.tag===7){s(L,D.sibling),$=d(D,B.props.children),$.return=L,L=$;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&wp(ce)===D.type){s(L,D.sibling),$=d(D,B.props),nl($,B),$.return=L,L=$;break e}s(L,D);break}else r(L,D);D=D.sibling}B.type===p?($=Fi(B.props.children,L.mode,$,B.key),$.return=L,L=$):($=ou(B.type,B.key,B.props,null,L.mode,$),nl($,B),$.return=L,L=$)}return b(L);case g:e:{for(ce=B.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){s(L,D.sibling),$=d(D,B.children||[]),$.return=L,L=$;break e}else{s(L,D);break}else r(L,D);D=D.sibling}$=of(B,L.mode,$),$.return=L,L=$}return b(L);case oe:return ce=B._init,B=ce(B._payload),ot(L,D,B,$)}if(ae(B))return de(L,D,B,$);if(Ne(B)){if(ce=Ne(B),typeof ce!="function")throw Error(i(150));return B=ce.call(B),Ee(L,D,B,$)}if(typeof B.then=="function")return ot(L,D,qc(B),$);if(B.$$typeof===k)return ot(L,D,au(L,B),$);Hc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(s(L,D.sibling),$=d(D,B),$.return=L,L=$):(s(L,D),$=sf(B,L.mode,$),$.return=L,L=$),b(L)):s(L,D)}return function(L,D,B,$){try{tl=0;var ce=ot(L,D,B,$);return Ds=null,ce}catch(fe){if(fe===Jo)throw fe;var Ce=Ln(29,fe,null,L.mode);return Ce.lanes=$,Ce.return=L,Ce}finally{}}}var Mi=Sp(!0),Ap=Sp(!1),Os=Ue(null),Fc=Ue(0);function Np(t,r){t=Yr,Qe(Fc,t),Qe(Os,r),Yr=t|r.baseLanes}function hh(){Qe(Fc,Yr),Qe(Os,Os.current)}function fh(){Yr=Fc.current,rt(Os),rt(Fc)}var Mn=Ue(null),ur=null;function Ia(t){var r=t.alternate;Qe(wt,wt.current&1),Qe(Mn,t),ur===null&&(r===null||Os.current!==null||r.memoizedState!==null)&&(ur=t)}function Rp(t){if(t.tag===22){if(Qe(wt,wt.current),Qe(Mn,t),ur===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ur=t)}}else ka()}function ka(){Qe(wt,wt.current),Qe(Mn,Mn.current)}function Ur(t){rt(Mn),ur===t&&(ur=null),rt(wt)}var wt=Ue(0);function Gc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var T2=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},w2=a.unstable_scheduleCallback,S2=a.unstable_NormalPriority,St={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new T2,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&w2(S2,function(){t.controller.abort()})}var al=null,gh=0,Ms=0,Vs=null;function A2(t,r){if(al===null){var s=al=[];gh=0,Ms=Ef(),Vs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return gh++,r.then(Cp,Cp),r}function Cp(){if(--gh===0&&al!==null){Vs!==null&&(Vs.status="fulfilled");var t=al;al=null,Ms=0,Vs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function N2(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Ip=A.S;A.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A2(t,r),Ip!==null&&Ip(t,r)};var Vi=Ue(null);function ph(){var t=Vi.current;return t!==null?t:We.pooledCache}function Kc(t,r){r===null?Qe(Vi,Vi.current):Qe(Vi,r.pool)}function kp(){var t=ph();return t===null?null:{parent:St._currentValue,pool:t}}var ja=0,Re=null,$e=null,gt=null,Qc=!1,Ps=!1,Pi=!1,$c=0,il=0,Ls=null,R2=0;function dt(){throw Error(i(321))}function yh(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!mn(t[s],r[s]))return!1;return!0}function vh(t,r,s,l,d,m){return ja=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=t===null||t.memoizedState===null?Li:Da,Pi=!1,m=s(l,d),Pi=!1,Ps&&(m=Dp(r,s,l,d)),jp(t),m}function jp(t){A.H=dr;var r=$e!==null&&$e.next!==null;if(ja=0,gt=$e=Re=null,Qc=!1,il=0,Ls=null,r)throw Error(i(300));t===null||Ot||(t=t.dependencies,t!==null&&ru(t)&&(Ot=!0))}function Dp(t,r,s,l){Re=t;var d=0;do{if(Ps&&(Ls=null),il=0,Ps=!1,25<=d)throw Error(i(301));if(d+=1,gt=$e=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=Ui,m=r(s,l)}while(Ps);return m}function C2(){var t=A.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),r}function _h(){var t=$c!==0;return $c=0,t}function bh(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function xh(t){if(Qc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Qc=!1}ja=0,gt=$e=Re=null,Ps=!1,il=$c=0,Ls=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=t:gt=gt.next=t,gt}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=gt===null?Re.memoizedState:gt.next;if(r!==null)gt=r,$e=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},gt===null?Re.memoizedState=gt=t:gt=gt.next=t}return gt}var Yc;Yc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var r=il;return il+=1,Ls===null&&(Ls=[]),t=Ep(Ls,t,r),r=Re,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Li:Da),t}function Xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===k)return Kt(t)}throw Error(i(438,String(t)))}function Eh(t){var r=null,s=Re.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Yc(),Re.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=re;return r.index++,s}function zr(t,r){return typeof r=="function"?r(t):r}function Wc(t){var r=pt();return Th(r,$e,t)}function Th(t,r,s){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}r.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{r=d.next;var E=b=null,N=null,M=r,G=!1;do{var Z=M.lane&-536870913;if(Z!==M.lane?(Pe&Z)===Z:(ja&Z)===Z){var q=M.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Z===Ms&&(G=!0);else if((ja&q)===q){M=M.next,q===Ms&&(G=!0);continue}else Z={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},N===null?(E=N=Z,b=m):N=N.next=Z,Re.lanes|=q,qa|=q;Z=M.action,Pi&&s(m,Z),m=M.hasEagerState?M.eagerState:s(m,Z)}else q={lane:Z,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},N===null?(E=N=q,b=m):N=N.next=q,Re.lanes|=Z,qa|=Z;M=M.next}while(M!==null&&M!==r);if(N===null?b=m:N.next=E,!mn(m,t.memoizedState)&&(Ot=!0,G&&(s=Vs,s!==null)))throw s;t.memoizedState=m,t.baseState=b,t.baseQueue=N,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var r=pt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,m=r.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);mn(m,r.memoizedState)||(Ot=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function Op(t,r,s){var l=Re,d=pt(),m=Be;if(m){if(s===void 0)throw Error(i(407));s=s()}else s=r();var b=!mn(($e||d).memoizedState,s);if(b&&(d.memoizedState=s,Ot=!0),d=d.queue,Nh(Pp.bind(null,l,d,t),[t]),d.getSnapshot!==r||b||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Us(9,Vp.bind(null,l,d,s,r),{destroy:void 0},null),We===null)throw Error(i(349));m||ja&60||Mp(l,r,s)}return s}function Mp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Re.updateQueue,r===null?(r=Yc(),Re.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Vp(t,r,s,l){r.value=s,r.getSnapshot=l,Lp(r)&&Up(t)}function Pp(t,r,s){return s(function(){Lp(r)&&Up(t)})}function Lp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!mn(t,s)}catch{return!0}}function Up(t){var r=Ca(t,2);r!==null&&rn(r,t,2)}function Sh(t){var r=on();if(typeof t=="function"){var s=t;if(t=s(),Pi){Zn(!0);try{s()}finally{Zn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},r}function zp(t,r,s,l){return t.baseState=s,Th(t,$e,typeof l=="function"?l:zr)}function I2(t,r,s,l,d){if(eu(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};A.T!==null?s(!0):m.isTransition=!1,l(m),s=r.pending,s===null?(m.next=r.pending=m,Bp(r,m)):(m.next=s.next,r.pending=s.next=m)}}function Bp(t,r){var s=r.action,l=r.payload,d=t.state;if(r.isTransition){var m=A.T,b={};A.T=b;try{var E=s(d,l),N=A.S;N!==null&&N(b,E),qp(t,r,E)}catch(M){Ah(t,r,M)}finally{A.T=m}}else try{m=s(d,l),qp(t,r,m)}catch(M){Ah(t,r,M)}}function qp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Hp(t,r,l)},function(l){return Ah(t,r,l)}):Hp(t,r,s)}function Hp(t,r,s){r.status="fulfilled",r.value=s,Fp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Bp(t,s)))}function Ah(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Fp(r),r=r.next;while(r!==l)}t.action=null}function Fp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gp(t,r){return r}function Kp(t,r){if(Be){var s=We.formState;if(s!==null){e:{var l=Re;if(Be){if(Ut){t:{for(var d=Ut,m=cr;d.nodeType!==8;){if(!m){d=null;break t}if(d=$n(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ut=$n(d.nextSibling),l=d.data==="F!";break e}}Oi(l)}l=!1}l&&(r=s[0])}}return s=on(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:r},s.queue=l,s=u0.bind(null,Re,l),l.dispatch=s,l=Sh(!1),m=jh.bind(null,Re,!1,l.queue),l=on(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,s=I2.bind(null,Re,d,m,s),d.dispatch=s,l.memoizedState=t,[r,s,!1]}function Qp(t){var r=pt();return $p(r,$e,t)}function $p(t,r,s){r=Th(t,r,Gp)[0],t=Wc(zr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?sl(r):r;var l=pt(),d=l.queue,m=d.dispatch;return s!==l.memoizedState&&(Re.flags|=2048,Us(9,k2.bind(null,d,s),{destroy:void 0},null)),[r,m,t]}function k2(t,r){t.action=r}function Yp(t){var r=pt(),s=$e;if(s!==null)return $p(r,s,t);pt(),r=r.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Us(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=Re.updateQueue,r===null&&(r=Yc(),Re.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Xp(){return pt().memoizedState}function Zc(t,r,s,l){var d=on();Re.flags|=t,d.memoizedState=Us(1|r,s,{destroy:void 0},l===void 0?null:l)}function Jc(t,r,s,l){var d=pt();l=l===void 0?null:l;var m=d.memoizedState.inst;$e!==null&&l!==null&&yh(l,$e.memoizedState.deps)?d.memoizedState=Us(r,s,m,l):(Re.flags|=t,d.memoizedState=Us(1|r,s,m,l))}function Wp(t,r){Zc(8390656,8,t,r)}function Nh(t,r){Jc(2048,8,t,r)}function Zp(t,r){return Jc(4,2,t,r)}function Jp(t,r){return Jc(4,4,t,r)}function e0(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function t0(t,r,s){s=s!=null?s.concat([t]):null,Jc(4,4,e0.bind(null,r,t),s)}function Rh(){}function n0(t,r){var s=pt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&yh(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function r0(t,r){var s=pt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&yh(r,l[1]))return l[0];if(l=t(),Pi){Zn(!0);try{t()}finally{Zn(!1)}}return s.memoizedState=[l,r],l}function Ch(t,r,s){return s===void 0||ja&1073741824?t.memoizedState=r:(t.memoizedState=s,t=iy(),Re.lanes|=t,qa|=t,s)}function a0(t,r,s,l){return mn(s,r)?s:Os.current!==null?(t=Ch(t,s,l),mn(t,r)||(Ot=!0),t):ja&42?(t=iy(),Re.lanes|=t,qa|=t,r):(Ot=!0,t.memoizedState=s)}function i0(t,r,s,l,d){var m=ie.p;ie.p=m!==0&&8>m?m:8;var b=A.T,E={};A.T=E,jh(t,!1,r,s);try{var N=d(),M=A.S;if(M!==null&&M(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=N2(N,l);ol(t,r,G,vn(t))}else ol(t,r,l,vn(t))}catch(Z){ol(t,r,{then:function(){},status:"rejected",reason:Z},vn())}finally{ie.p=m,A.T=b}}function j2(){}function Ih(t,r,s,l){if(t.tag!==5)throw Error(i(476));var d=s0(t).queue;i0(t,d,r,Ae,s===null?j2:function(){return o0(t),s(l)})}function s0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:Ae},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function o0(t){var r=s0(t).next.queue;ol(t,r,{},vn())}function kh(){return Kt(Nl)}function l0(){return pt().memoizedState}function c0(){return pt().memoizedState}function D2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=vn();t=Va(s);var l=Pa(r,t,s);l!==null&&(rn(l,r,s),ul(l,r,s)),r={cache:mh()},t.payload=r;return}r=r.return}}function O2(t,r,s){var l=vn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},eu(t)?d0(r,s):(s=oh(t,r,s,l),s!==null&&(rn(s,t,l),h0(s,r,l)))}function u0(t,r,s){var l=vn();ol(t,r,s,l)}function ol(t,r,s,l){var d={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(eu(t))d0(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,E=m(b,s);if(d.hasEagerState=!0,d.eagerState=E,mn(E,b))return Pc(t,r,d,0),We===null&&Vc(),!1}catch{}finally{}if(s=oh(t,r,d,l),s!==null)return rn(s,t,l),h0(s,r,l),!0}return!1}function jh(t,r,s,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(r)throw Error(i(479))}else r=oh(t,s,l,2),r!==null&&rn(r,t,2)}function eu(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function d0(t,r){Ps=Qc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function h0(t,r,s){if(s&4194176){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,_a(t,s)}}var dr={readContext:Kt,use:Xc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};dr.useCacheRefresh=dt,dr.useMemoCache=dt,dr.useHostTransitionStatus=dt,dr.useFormState=dt,dr.useActionState=dt,dr.useOptimistic=dt;var Li={readContext:Kt,use:Xc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Wp,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Zc(4194308,4,e0.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Zc(4194308,4,t,r)},useInsertionEffect:function(t,r){Zc(4,2,t,r)},useMemo:function(t,r){var s=on();r=r===void 0?null:r;var l=t();if(Pi){Zn(!0);try{t()}finally{Zn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=on();if(s!==void 0){var d=s(r);if(Pi){Zn(!0);try{s(r)}finally{Zn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=O2.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Sh(t);var r=t.queue,s=u0.bind(null,Re,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Rh,useDeferredValue:function(t,r){var s=on();return Ch(s,t,r)},useTransition:function(){var t=Sh(!1);return t=i0.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Re,d=on();if(Be){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),We===null)throw Error(i(349));Pe&60||Mp(l,r,s)}d.memoizedState=s;var m={value:s,getSnapshot:r};return d.queue=m,Wp(Pp.bind(null,l,m,t),[t]),l.flags|=2048,Us(9,Vp.bind(null,l,m,s,r),{destroy:void 0},null),s},useId:function(){var t=on(),r=We.identifierPrefix;if(Be){var s=Lr,l=Pr;s=(l&~(1<<32-Jt(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=$c++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=R2++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return on().memoizedState=D2.bind(null,Re)}};Li.useMemoCache=Eh,Li.useHostTransitionStatus=kh,Li.useFormState=Kp,Li.useActionState=Kp,Li.useOptimistic=function(t){var r=on();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=jh.bind(null,Re,!0,s),s.dispatch=r,[t,r]};var Da={readContext:Kt,use:Xc,useCallback:n0,useContext:Kt,useEffect:Nh,useImperativeHandle:t0,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:r0,useReducer:Wc,useRef:Xp,useState:function(){return Wc(zr)},useDebugValue:Rh,useDeferredValue:function(t,r){var s=pt();return a0(s,$e.memoizedState,t,r)},useTransition:function(){var t=Wc(zr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Op,useId:l0};Da.useCacheRefresh=c0,Da.useMemoCache=Eh,Da.useHostTransitionStatus=kh,Da.useFormState=Qp,Da.useActionState=Qp,Da.useOptimistic=function(t,r){var s=pt();return zp(s,$e,t,r)};var Ui={readContext:Kt,use:Xc,useCallback:n0,useContext:Kt,useEffect:Nh,useImperativeHandle:t0,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:r0,useReducer:wh,useRef:Xp,useState:function(){return wh(zr)},useDebugValue:Rh,useDeferredValue:function(t,r){var s=pt();return $e===null?Ch(s,t,r):a0(s,$e.memoizedState,t,r)},useTransition:function(){var t=wh(zr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Op,useId:l0};Ui.useCacheRefresh=c0,Ui.useMemoCache=Eh,Ui.useHostTransitionStatus=kh,Ui.useFormState=Yp,Ui.useActionState=Yp,Ui.useOptimistic=function(t,r){var s=pt();return $e!==null?zp(s,$e,t,r):(s.baseState=t,[t,s.queue.dispatch])};function Dh(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:I({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oh={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=vn(),d=Va(l);d.payload=r,s!=null&&(d.callback=s),r=Pa(t,d,l),r!==null&&(rn(r,t,l),ul(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=vn(),d=Va(l);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Pa(t,d,l),r!==null&&(rn(r,t,l),ul(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=vn(),l=Va(s);l.tag=2,r!=null&&(l.callback=r),r=Pa(t,l,s),r!==null&&(rn(r,t,s),ul(r,t,s))}};function f0(t,r,s,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!$o(s,l)||!$o(d,m):!0}function m0(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Oh.enqueueReplaceState(r,r.state,null)}function zi(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=I({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function g0(t){tu(t)}function p0(t){console.error(t)}function y0(t){tu(t)}function nu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function v0(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mh(t,r,s){return s=Va(s),s.tag=3,s.payload={element:null},s.callback=function(){nu(t,r)},s}function _0(t){return t=Va(t),t.tag=3,t}function b0(t,r,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){v0(r,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){v0(r,s,l),typeof d!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M2(t,r,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&cl(r,s,d,!0),s=Mn.current,s!==null){switch(s.tag){case 13:return ur===null?yf():s.alternate===null&&st===0&&(st=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===dh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),_f(t,l,d)),!1;case 22:return s.flags|=65536,l===dh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),_f(t,l,d)),!1}throw Error(i(435,s.tag))}return _f(t,l,d),yf(),!1}if(Be)return r=Mn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==uh&&(t=Error(i(422),{cause:l}),Zo(jn(t,s)))):(l!==uh&&(r=Error(i(423),{cause:l}),Zo(jn(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=jn(l,s),d=Mh(t.stateNode,l,d),Xh(t,d),st!==4&&(st=2)),!1;var m=Error(i(520),{cause:l});if(m=jn(m,s),vl===null?vl=[m]:vl.push(m),st!==4&&(st=2),r===null)return!0;l=jn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Mh(s.stateNode,l,t),Xh(s,t),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ha===null||!Ha.has(m))))return s.flags|=65536,d&=-d,s.lanes|=d,d=_0(d),b0(d,t,s,l),Xh(s,d),!1}s=s.return}while(s!==null);return!1}var x0=Error(i(461)),Ot=!1;function zt(t,r,s,l){r.child=t===null?Ap(r,null,s,l):Mi(r,t.child,s,l)}function E0(t,r,s,l,d){s=s.render;var m=r.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return qi(r),l=vh(t,r,s,b,m,d),E=_h(),t!==null&&!Ot?(bh(t,r,d),Br(t,r,d)):(Be&&E&&lh(r),r.flags|=1,zt(t,r,l,d),r.child)}function T0(t,r,s,l,d){if(t===null){var m=s.type;return typeof m=="function"&&!af(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,w0(t,r,m,l,d)):(t=ou(s.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Fh(t,d)){var b=m.memoizedProps;if(s=s.compare,s=s!==null?s:$o,s(b,l)&&t.ref===r.ref)return Br(t,r,d)}return r.flags|=1,t=Ba(m,l),t.ref=r.ref,t.return=r,r.child=t}function w0(t,r,s,l,d){if(t!==null){var m=t.memoizedProps;if($o(m,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=m,Fh(t,d))t.flags&131072&&(Ot=!0);else return r.lanes=t.lanes,Br(t,r,d)}return Vh(t,r,s,l,d)}function S0(t,r,s){var l=r.pendingProps,d=l.children,m=(r.stateNode._pendingVisibility&2)!==0,b=t!==null?t.memoizedState:null;if(ll(t,r),l.mode==="hidden"||m){if(r.flags&128){if(l=b!==null?b.baseLanes|s:s,t!==null){for(d=r.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return A0(t,r,l,s)}if(s&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kc(r,b!==null?b.cachePool:null),b!==null?Np(r,b):hh(),Rp(r);else return r.lanes=r.childLanes=536870912,A0(t,r,b!==null?b.baseLanes|s:s,s)}else b!==null?(Kc(r,b.cachePool),Np(r,b),ka(),r.memoizedState=null):(t!==null&&Kc(r,null),hh(),ka());return zt(t,r,d,s),r.child}function A0(t,r,s,l){var d=ph();return d=d===null?null:{parent:St._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&Kc(r,null),hh(),Rp(r),t!==null&&cl(t,r,l,!0),null}function ll(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function Vh(t,r,s,l,d){return qi(r),s=vh(t,r,s,l,void 0,d),l=_h(),t!==null&&!Ot?(bh(t,r,d),Br(t,r,d)):(Be&&l&&lh(r),r.flags|=1,zt(t,r,s,d),r.child)}function N0(t,r,s,l,d,m){return qi(r),r.updateQueue=null,s=Dp(r,l,s,d),jp(t),l=_h(),t!==null&&!Ot?(bh(t,r,m),Br(t,r,m)):(Be&&l&&lh(r),r.flags|=1,zt(t,r,s,m),r.child)}function R0(t,r,s,l,d){if(qi(r),r.stateNode===null){var m=Is,b=s.contextType;typeof b=="object"&&b!==null&&(m=Kt(b)),m=new s(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Oh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},$h(r),b=s.contextType,m.context=typeof b=="object"&&b!==null?Kt(b):Is,m.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Dh(r,s,b,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Oh.enqueueReplaceState(m,m.state,null),hl(r,l,m,d),dl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var E=r.memoizedProps,N=zi(s,E);m.props=N;var M=m.context,G=s.contextType;b=Is,typeof G=="object"&&G!==null&&(b=Kt(G));var Z=s.getDerivedStateFromProps;G=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||M!==b)&&m0(r,m,l,b),Ma=!1;var q=r.memoizedState;m.state=q,hl(r,l,m,d),dl(),M=r.memoizedState,E||q!==M||Ma?(typeof Z=="function"&&(Dh(r,s,Z,l),M=r.memoizedState),(N=Ma||f0(r,s,N,l,q,M,b))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=M),m.props=l,m.state=M,m.context=b,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Yh(t,r),b=r.memoizedProps,G=zi(s,b),m.props=G,Z=r.pendingProps,q=m.context,M=s.contextType,N=Is,typeof M=="object"&&M!==null&&(N=Kt(M)),E=s.getDerivedStateFromProps,(M=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Z||q!==N)&&m0(r,m,l,N),Ma=!1,q=r.memoizedState,m.state=q,hl(r,l,m,d),dl();var F=r.memoizedState;b!==Z||q!==F||Ma||t!==null&&t.dependencies!==null&&ru(t.dependencies)?(typeof E=="function"&&(Dh(r,s,E,l),F=r.memoizedState),(G=Ma||f0(r,s,G,l,q,F,N)||t!==null&&t.dependencies!==null&&ru(t.dependencies))?(M||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=N,l=G):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,ll(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Mi(r,t.child,null,d),r.child=Mi(r,null,s,d)):zt(t,r,s,d),r.memoizedState=m.state,t=r.child):t=Br(t,r,d),t}function C0(t,r,s,l){return Wo(),r.flags|=256,zt(t,r,s,l),r.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function Lh(t){return{baseLanes:t,cachePool:kp()}}function Uh(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Un),t}function I0(t,r,s){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(d?Ia(r):ka(),Be){var E=Ut,N;if(N=E){e:{for(N=E,E=cr;N.nodeType!==8;){if(!E){E=null;break e}if(N=$n(N.nextSibling),N===null){E=null;break e}}E=N}E!==null?(r.memoizedState={dehydrated:E,treeContext:ji!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912},N=Ln(18,null,null,0),N.stateNode=E,N.return=r,r.child=N,nn=r,Ut=null,N=!0):N=!1}N||Oi(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?r.lanes=16:r.lanes=536870912,null;Ur(r)}return E=l.children,l=l.fallback,d?(ka(),d=r.mode,E=Bh({mode:"hidden",children:E},d),l=Fi(l,d,s,null),E.return=r,l.return=r,E.sibling=l,r.child=E,d=r.child,d.memoizedState=Lh(s),d.childLanes=Uh(t,b,s),r.memoizedState=Ph,l):(Ia(r),zh(r,E))}if(N=t.memoizedState,N!==null&&(E=N.dehydrated,E!==null)){if(m)r.flags&256?(Ia(r),r.flags&=-257,r=qh(t,r,s)):r.memoizedState!==null?(ka(),r.child=t.child,r.flags|=128,r=null):(ka(),d=l.fallback,E=r.mode,l=Bh({mode:"visible",children:l.children},E),d=Fi(d,E,s,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,Mi(r,t.child,null,s),l=r.child,l.memoizedState=Lh(s),l.childLanes=Uh(t,b,s),r.memoizedState=Ph,r=d);else if(Ia(r),E.data==="$!"){if(b=E.nextSibling&&E.nextSibling.dataset,b)var M=b.dgst;b=M,l=Error(i(419)),l.stack="",l.digest=b,Zo({value:l,source:null,stack:null}),r=qh(t,r,s)}else if(Ot||cl(t,r,s,!1),b=(s&t.childLanes)!==0,Ot||b){if(b=We,b!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(b.suspendedLanes|s)?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Ca(t,l),rn(b,t,l),x0}E.data==="$?"||yf(),r=qh(t,r,s)}else E.data==="$?"?(r.flags|=128,r.child=t.child,r=X2.bind(null,t),E._reactRetry=r,r=null):(t=N.treeContext,Ut=$n(E.nextSibling),nn=r,Be=!0,Kn=null,cr=!1,t!==null&&(Dn[On++]=Pr,Dn[On++]=Lr,Dn[On++]=ji,Pr=t.id,Lr=t.overflow,ji=r),r=zh(r,l.children),r.flags|=4096);return r}return d?(ka(),d=l.fallback,E=r.mode,N=t.child,M=N.sibling,l=Ba(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,M!==null?d=Ba(M,d):(d=Fi(d,E,s,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,E=t.child.memoizedState,E===null?E=Lh(s):(N=E.cachePool,N!==null?(M=St._currentValue,N=N.parent!==M?{parent:M,pool:M}:N):N=kp(),E={baseLanes:E.baseLanes|s,cachePool:N}),d.memoizedState=E,d.childLanes=Uh(t,b,s),r.memoizedState=Ph,l):(Ia(r),s=t.child,t=s.sibling,s=Ba(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=s,r.memoizedState=null,s)}function zh(t,r){return r=Bh({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Bh(t,r){return ny(t,r,0,null)}function qh(t,r,s){return Mi(r,t.child,null,s),t=zh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function k0(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Kh(t.return,r,s)}function Hh(t,r,s,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=d)}function j0(t,r,s){var l=r.pendingProps,d=l.revealOrder,m=l.tail;if(zt(t,r,l.children,s),l=wt.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k0(t,s,r);else if(t.tag===19)k0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(wt,l),d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&Gc(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),Hh(r,!1,d,s,m);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Gc(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Hh(r,!0,s,null,m);break;case"together":Hh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Br(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),qa|=r.lanes,!(s&r.childLanes))if(t!==null){if(cl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=Ba(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Ba(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Fh(t,r){return t.lanes&r?!0:(t=t.dependencies,!!(t!==null&&ru(t)))}function V2(t,r,s){switch(r.tag){case 3:fa(r,r.stateNode.containerInfo),Oa(r,St,t.memoizedState.cache),Wo();break;case 27:case 5:No(r);break;case 4:fa(r,r.stateNode.containerInfo);break;case 10:Oa(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ia(r),r.flags|=128,null):s&r.child.childLanes?I0(t,r,s):(Ia(r),t=Br(t,r,s),t!==null?t.sibling:null);Ia(r);break;case 19:var d=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(cl(t,r,s,!1),l=(s&r.childLanes)!==0),d){if(l)return j0(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(wt,wt.current),l)break;return null;case 22:case 23:return r.lanes=0,S0(t,r,s);case 24:Oa(r,St,t.memoizedState.cache)}return Br(t,r,s)}function D0(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!Fh(t,s)&&!(r.flags&128))return Ot=!1,V2(t,r,s);Ot=!!(t.flags&131072)}else Ot=!1,Be&&r.flags&1048576&&yp(r,zc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")af(l)?(t=zi(l,t),r.tag=1,r=R0(null,r,l,t,s)):(r.tag=0,r=Vh(null,r,l,t,s));else{if(l!=null){if(d=l.$$typeof,d===P){r.tag=11,r=E0(null,r,l,t,s);break e}else if(d===le){r.tag=14,r=T0(null,r,l,t,s);break e}}throw r=R(l)||l,Error(i(306,r,""))}}return r;case 0:return Vh(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,d=zi(l,r.pendingProps),R0(t,r,l,d,s);case 3:e:{if(fa(r,r.stateNode.containerInfo),t===null)throw Error(i(387));var m=r.pendingProps;d=r.memoizedState,l=d.element,Yh(t,r),hl(r,m,null,s);var b=r.memoizedState;if(m=b.cache,Oa(r,St,m),m!==d.cache&&Qh(r,[St],s,!0),dl(),m=b.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=C0(t,r,m,s);break e}else if(m!==l){l=jn(Error(i(424)),r),Zo(l),r=C0(t,r,m,s);break e}else for(Ut=$n(r.stateNode.containerInfo.firstChild),nn=r,Be=!0,Kn=null,cr=!0,s=Ap(r,null,m,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wo(),m===l){r=Br(t,r,s);break e}zt(t,r,m,s)}r=r.child}return r;case 26:return ll(t,r),t===null?(s=Vy(r.type,null,r.pendingProps,null))?r.memoizedState=s:Be||(s=r.type,t=r.pendingProps,l=_u(wn.current).createElement(s),l[kt]=r,l[xt]=t,Bt(l,s,t),Je(l),r.stateNode=l):r.memoizedState=Vy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return No(r),t===null&&Be&&(l=r.stateNode=Dy(r.type,r.pendingProps,wn.current),nn=r,cr=!0,Ut=$n(l.firstChild)),l=r.pendingProps.children,t!==null||Be?zt(t,r,l,s):r.child=Mi(r,null,l,s),ll(t,r),r.child;case 5:return t===null&&Be&&((d=l=Ut)&&(l=hE(l,r.type,r.pendingProps,cr),l!==null?(r.stateNode=l,nn=r,Ut=$n(l.firstChild),cr=!1,d=!0):d=!1),d||Oi(r)),No(r),d=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,kf(d,m)?l=null:b!==null&&kf(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=vh(t,r,C2,null,null,s),Nl._currentValue=d),ll(t,r),zt(t,r,l,s),r.child;case 6:return t===null&&Be&&((t=s=Ut)&&(s=fE(s,r.pendingProps,cr),s!==null?(r.stateNode=s,nn=r,Ut=null,t=!0):t=!1),t||Oi(r)),null;case 13:return I0(t,r,s);case 4:return fa(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Mi(r,null,l,s):zt(t,r,l,s),r.child;case 11:return E0(t,r,r.type,r.pendingProps,s);case 7:return zt(t,r,r.pendingProps,s),r.child;case 8:return zt(t,r,r.pendingProps.children,s),r.child;case 12:return zt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Oa(r,r.type,l.value),zt(t,r,l.children,s),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,qi(r),d=Kt(d),l=l(d),r.flags|=1,zt(t,r,l,s),r.child;case 14:return T0(t,r,r.type,r.pendingProps,s);case 15:return w0(t,r,r.type,r.pendingProps,s);case 19:return j0(t,r,s);case 22:return S0(t,r,s);case 24:return qi(r),l=Kt(St),t===null?(d=ph(),d===null&&(d=We,m=mh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=s),d=m),r.memoizedState={parent:l,cache:d},$h(r),Oa(r,St,d)):(t.lanes&s&&(Yh(t,r),hl(r,null,null,s),dl()),d=t.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Oa(r,St,l)):(l=m.cache,Oa(r,St,l),l!==d.cache&&Qh(r,[St],s,!0))),zt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}var Gh=Ue(null),Bi=null,qr=null;function Oa(t,r,s){Qe(Gh,r._currentValue),r._currentValue=s}function Hr(t){t._currentValue=Gh.current,rt(Gh)}function Kh(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Qh(t,r,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var N=0;N<r.length;N++)if(E.context===r[N]){m.lanes|=s,E=m.alternate,E!==null&&(E.lanes|=s),Kh(m.return,s,t),l||(b=null);break e}m=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=s,m=b.alternate,m!==null&&(m.lanes|=s),Kh(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function cl(t,r,s,l){t=null;for(var d=r,m=!1;d!==null;){if(!m){if(d.flags&524288)m=!0;else if(d.flags&262144)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=d.type;mn(d.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(d===ha.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}d=d.return}t!==null&&Qh(r,t,s,l),r.flags|=262144}function ru(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qi(t){Bi=t,qr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return O0(Bi,t)}function au(t,r){return Bi===null&&qi(t),O0(t,r)}function O0(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},qr===null){if(t===null)throw Error(i(308));qr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else qr=qr.next=r;return s}var Ma=!1;function $h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,tt&2){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Lc(t),gp(t,null,s),r}return Pc(t,l,r,s),Lc(t)}function ul(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,_a(t,s)}}function Xh(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,s=s.next}while(s!==null);m===null?d=m=r:m=m.next=r}else d=m=r;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Wh=!1;function dl(){if(Wh){var t=Vs;if(t!==null)throw t}}function hl(t,r,s,l){Wh=!1;var d=t.updateQueue;Ma=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var N=E,M=N.next;N.next=null,b===null?m=M:b.next=M,b=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==b&&(E===null?G.firstBaseUpdate=M:E.next=M,G.lastBaseUpdate=N))}if(m!==null){var Z=d.baseState;b=0,G=M=N=null,E=m;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Pe&q)===q:(l&q)===q){q!==0&&q===Ms&&(Wh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=t,Ee=E;q=r;var ot=s;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){Z=de.call(ot,Z,q);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,q=typeof de=="function"?de.call(ot,Z,q):de,q==null)break e;Z=I({},Z,q);break e;case 2:Ma=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=d.callbacks,F===null?d.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(M=G=F,N=Z):G=G.next=F,b|=q;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;F=E,E=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);G===null&&(N=Z),d.baseState=N,d.firstBaseUpdate=M,d.lastBaseUpdate=G,m===null&&(d.shared.lanes=0),qa|=b,t.lanes=b,t.memoizedState=Z}}function M0(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function V0(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)M0(s[t],r)}function fl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var m=s.create,b=s.inst;l=m(),b.destroy=l}s=s.next}while(s!==d)}}catch(E){Xe(r,r.return,E)}}function La(t,r,s){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=r;var N=s;try{E()}catch(M){Xe(d,N,M)}}}l=l.next}while(l!==m)}}catch(M){Xe(r,r.return,M)}}function P0(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{V0(r,s)}catch(l){Xe(t,t.return,l)}}}function L0(t,r,s){s.props=zi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xe(t,r,l)}}function Hi(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var d=l;break;default:d=l}typeof s=="function"?t.refCleanup=s(d):s.current=d}}catch(m){Xe(t,r,m)}}function gn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Xe(t,r,d)}else s.current=null}function U0(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Xe(t,t.return,d)}}function z0(t,r,s){try{var l=t.stateNode;oE(l,t.type,s,r),l[xt]=r}catch(d){Xe(t,t.return,d)}}function B0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=vu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Jh(t,r,s),t=t.sibling;t!==null;)Jh(t,r,s),t=t.sibling}function iu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(iu(t,r,s),t=t.sibling;t!==null;)iu(t,r,s),t=t.sibling}var Fr=!1,it=!1,ef=!1,q0=typeof WeakSet=="function"?WeakSet:Set,Mt=null,H0=!1;function P2(t,r){if(t=t.containerInfo,Cf=Su,t=sp(t),nh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var b=0,E=-1,N=-1,M=0,G=0,Z=t,q=null;t:for(;;){for(var F;Z!==s||d!==0&&Z.nodeType!==3||(E=b+d),Z!==m||l!==0&&Z.nodeType!==3||(N=b+l),Z.nodeType===3&&(b+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===s&&++M===d&&(E=b),q===m&&++G===l&&(N=b),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(If={focusedElem:t,selectionRange:s},Su=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&m!==null){t=void 0,s=r,d=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var de=zi(s.type,d,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(de,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Xe(s,s.return,Ee)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Of(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}return de=H0,H0=!1,de}function F0(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(t,s),l&4&&fl(5,s);break;case 1:if(Kr(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(E){Xe(s,s.return,E)}else{var d=zi(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(s,s.return,E)}}l&64&&P0(s),l&512&&Hi(s,s.return);break;case 3:if(Kr(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{V0(l,t)}catch(E){Xe(s,s.return,E)}}break;case 26:Kr(t,s),l&512&&Hi(s,s.return);break;case 27:case 5:Kr(t,s),r===null&&l&4&&U0(s),l&512&&Hi(s,s.return);break;case 12:Kr(t,s);break;case 13:Kr(t,s),l&4&&Q0(t,s);break;case 22:if(d=s.memoizedState!==null||Fr,!d){r=r!==null&&r.memoizedState!==null||it;var m=Fr,b=it;Fr=d,(it=r)&&!b?Ua(t,s,(s.subtreeFlags&8772)!==0):Kr(t,s),Fr=m,it=b}l&512&&(s.memoizedProps.mode==="manual"?Hi(s,s.return):gn(s,s.return));break;default:Kr(t,s)}}function G0(t){var r=t.alternate;r!==null&&(t.alternate=null,G0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&_i(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,pn=!1;function Gr(t,r,s){for(s=s.child;s!==null;)K0(t,r,s),s=s.sibling}function K0(t,r,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ma,s)}catch{}switch(s.tag){case 26:it||gn(s,r),Gr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:it||gn(s,r);var l=yt,d=pn;for(yt=s.stateNode,Gr(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);_i(s),yt=l,pn=d;break;case 5:it||gn(s,r);case 6:d=yt;var m=pn;if(yt=null,Gr(t,r,s),yt=d,pn=m,yt!==null)if(pn)try{t=yt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(b){Xe(s,r,b)}else try{yt.removeChild(s.stateNode)}catch(b){Xe(s,r,b)}break;case 18:yt!==null&&(pn?(r=yt,s=s.stateNode,r.nodeType===8?Df(r.parentNode,s):r.nodeType===1&&Df(r,s),kl(r)):Df(yt,s.stateNode));break;case 4:l=yt,d=pn,yt=s.stateNode.containerInfo,pn=!0,Gr(t,r,s),yt=l,pn=d;break;case 0:case 11:case 14:case 15:it||La(2,s,r),it||La(4,s,r),Gr(t,r,s);break;case 1:it||(gn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&L0(s,r,l)),Gr(t,r,s);break;case 21:Gr(t,r,s);break;case 22:it||gn(s,r),it=(l=it)||s.memoizedState!==null,Gr(t,r,s),it=l;break;default:Gr(t,r,s)}}function Q0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(s){Xe(r,r.return,s)}}function L2(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new q0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new q0),r;default:throw Error(i(435,t.tag))}}function tf(t,r){var s=L2(t);r.forEach(function(l){var d=W2.bind(null,t,l);s.has(l)||(s.add(l),l.then(d,d))})}function Vn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],m=t,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 27:case 5:yt=E.stateNode,pn=!1;break e;case 3:yt=E.stateNode.containerInfo,pn=!0;break e;case 4:yt=E.stateNode.containerInfo,pn=!0;break e}E=E.return}if(yt===null)throw Error(i(160));K0(m,b,d),yt=null,pn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$0(r,t),r=r.sibling}var Qn=null;function $0(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(r,t),Pn(t),l&4&&(La(3,t,t.return),fl(3,t),La(5,t,t.return));break;case 1:Vn(r,t),Pn(t),l&512&&(it||s===null||gn(s,s.return)),l&64&&Fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=Qn;if(Vn(r,t),Pn(t),l&512&&(it||s===null||gn(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[xa]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Bt(m,l,s),m[kt]=t,Je(m),l=m;break e;case"link":var b=Uy("link","href",d).get(l+(s.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(s.href==null?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(E,1);break t}}m=d.createElement(l),Bt(m,l,s),d.head.appendChild(m);break;case"meta":if(b=Uy("meta","content",d).get(l+(s.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(E,1);break t}}m=d.createElement(l),Bt(m,l,s),d.head.appendChild(m);break;default:throw Error(i(468,l))}m[kt]=t,Je(m),l=m}t.stateNode=l}else zy(d,t.type,t.stateNode);else t.stateNode=Ly(d,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?zy(d,t.type,t.stateNode):Ly(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&z0(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){d=t.stateNode,m=t.memoizedProps;try{for(var N=d.firstChild;N;){var M=N.nextSibling,G=N.nodeName;N[xa]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=M}for(var Z=t.type,q=d.attributes;q.length;)d.removeAttributeNode(q[0]);Bt(d,Z,m),d[kt]=t,d[xt]=m}catch(de){Xe(t,t.return,de)}}case 5:if(Vn(r,t),Pn(t),l&512&&(it||s===null||gn(s,s.return)),t.flags&32){d=t.stateNode;try{Nn(d,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,z0(t,d,s!==null?s.memoizedProps:d)),l&1024&&(ef=!0);break;case 6:if(Vn(r,t),Pn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(Eu=null,d=Qn,Qn=bu(r.containerInfo),Vn(r,t),Qn=d,Pn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(de){Xe(t,t.return,de)}ef&&(ef=!1,Y0(t));break;case 4:l=Qn,Qn=bu(t.stateNode.containerInfo),Vn(r,t),Pn(t),Qn=l;break;case 12:Vn(r,t),Pn(t);break;case 13:Vn(r,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(df=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 22:if(l&512&&(it||s===null||gn(s,s.return)),N=t.memoizedState!==null,M=s!==null&&s.memoizedState!==null,G=Fr,Z=it,Fr=G||N,it=Z||M,Vn(r,t),it=Z,Fr=G,Pn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=Fr||it,s===null||M||r||zs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){M=s=r;try{if(d=M.stateNode,N)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=M.stateNode,E=M.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Xe(M,M.return,de)}}}else if(r.tag===6){if(s===null){M=r;try{M.stateNode.nodeValue=N?"":M.memoizedProps}catch(de){Xe(M,M.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tf(t,s))));break;case 19:Vn(r,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 21:break;default:Vn(r,t),Pn(t)}}function Pn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(B0(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 27:var d=l.stateNode,m=Zh(t);iu(t,m,d);break;case 5:var b=l.stateNode;l.flags&32&&(Nn(b,""),l.flags&=-33);var E=Zh(t);iu(t,E,b);break;case 3:case 4:var N=l.stateNode.containerInfo,M=Zh(t);Jh(t,M,N);break;default:throw Error(i(161))}}}catch(G){Xe(t,t.return,G)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Y0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Kr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F0(t,r.alternate,r),r=r.sibling}function zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:La(4,r,r.return),zs(r);break;case 1:gn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&L0(r,r.return,s),zs(r);break;case 26:case 27:case 5:gn(r,r.return),zs(r);break;case 22:gn(r,r.return),r.memoizedState===null&&zs(r);break;default:zs(r)}t=t.sibling}}function Ua(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ua(d,m,s),fl(4,m);break;case 1:if(Ua(d,m,s),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Xe(l,l.return,M)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)M0(N[d],E)}catch(M){Xe(l,l.return,M)}}s&&b&64&&P0(m),Hi(m,m.return);break;case 26:case 27:case 5:Ua(d,m,s),s&&l===null&&b&4&&U0(m),Hi(m,m.return);break;case 12:Ua(d,m,s);break;case 13:Ua(d,m,s),s&&b&4&&Q0(d,m);break;case 22:m.memoizedState===null&&Ua(d,m,s),Hi(m,m.return);break;default:Ua(d,m,s)}r=r.sibling}}function nf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&rl(s))}function rf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function za(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)X0(t,r,s,l),r=r.sibling}function X0(t,r,s,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:za(t,r,s,l),d&2048&&fl(9,r);break;case 3:za(t,r,s,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(d&2048){za(t,r,s,l),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(r,r.return,N)}}else za(t,r,s,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?za(t,r,s,l):ml(t,r):m._visibility&4?za(t,r,s,l):(m._visibility|=4,Bs(t,r,s,l,(r.subtreeFlags&10256)!==0)),d&2048&&nf(r.alternate,r);break;case 24:za(t,r,s,l),d&2048&&rf(r.alternate,r);break;default:za(t,r,s,l)}}function Bs(t,r,s,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,b=r,E=s,N=l,M=b.flags;switch(b.tag){case 0:case 11:case 15:Bs(m,b,E,N,d),fl(8,b);break;case 23:break;case 22:var G=b.stateNode;b.memoizedState!==null?G._visibility&4?Bs(m,b,E,N,d):ml(m,b):(G._visibility|=4,Bs(m,b,E,N,d)),d&&M&2048&&nf(b.alternate,b);break;case 24:Bs(m,b,E,N,d),d&&M&2048&&rf(b.alternate,b);break;default:Bs(m,b,E,N,d)}r=r.sibling}}function ml(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,d=l.flags;switch(l.tag){case 22:ml(s,l),d&2048&&nf(l.alternate,l);break;case 24:ml(s,l),d&2048&&rf(l.alternate,l);break;default:ml(s,l)}r=r.sibling}}var gl=8192;function qs(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)W0(t),t=t.sibling}function W0(t){switch(t.tag){case 26:qs(t),t.flags&gl&&t.memoizedState!==null&&AE(Qn,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var r=Qn;Qn=bu(t.stateNode.containerInfo),qs(t),Qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,qs(t),gl=r):qs(t));break;default:qs(t)}}function Z0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Mt=l,ey(l,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J0(t),t=t.sibling}function J0(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&La(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,su(t)):pl(t);break;default:pl(t)}}function su(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Mt=l,ey(l,t)}Z0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:La(8,r,r.return),su(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,su(r));break;default:su(r)}t=t.sibling}}function ey(t,r){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:La(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Mt=l;else e:for(s=t;Mt!==null;){l=Mt;var d=l.sibling,m=l.return;if(G0(l),l===s){Mt=null;break e}if(d!==null){d.return=m,Mt=d;break e}Mt=m}}}function U2(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,r,s,l){return new U2(t,r,s,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ba(t,r){var s=t.alternate;return s===null?(s=Ln(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ty(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ou(t,r,s,l,d,m){var b=0;if(l=t,typeof t=="function")af(t)&&(b=1);else if(typeof t=="string")b=wE(t,s,Zt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Fi(s.children,d,m,r);case v:b=8,d|=24;break;case x:return t=Ln(12,s,r,d|2),t.elementType=x,t.lanes=m,t;case K:return t=Ln(13,s,r,d),t.elementType=K,t.lanes=m,t;case Q:return t=Ln(19,s,r,d),t.elementType=Q,t.lanes=m,t;case W:return ny(s,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case k:b=10;break e;case w:b=9;break e;case P:b=11;break e;case le:b=14;break e;case oe:b=16,l=null;break e}b=29,s=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=Ln(b,s,r,d),r.elementType=t,r.type=l,r.lanes=m,r}function Fi(t,r,s,l){return t=Ln(7,t,l,r),t.lanes=s,t}function ny(t,r,s,l){t=Ln(22,t,l,r),t.elementType=W,t.lanes=s;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(i(456));if(!(d._pendingVisibility&2)){var b=Ca(m,2);b!==null&&(d._pendingVisibility|=2,rn(b,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(i(456));if(d._pendingVisibility&2){var b=Ca(m,2);b!==null&&(d._pendingVisibility&=-3,rn(b,m,2))}}};return t.stateNode=d,t}function sf(t,r,s){return t=Ln(6,t,null,r),t.lanes=s,t}function of(t,r,s){return r=Ln(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Qr(t){t.flags|=4}function ry(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!By(r)){if(r=Mn.current,r!==null&&((Pe&4194176)===Pe?ur!==null:(Pe&62914560)!==Pe&&!(Pe&536870912)||r!==ur))throw el=dh,bp;t.flags|=8192}}function lu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ya():536870912,t.lanes|=r,Fs|=r)}function yl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&31457280,l|=d.flags&31457280,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function z2(t,r,s){var l=r.pendingProps;switch(ch(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(r),null;case 1:return et(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hr(St),Ar(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?Qr(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Kn!==null&&(gf(Kn),Kn=null))),et(r),null;case 26:return s=r.memoizedState,t===null?(Qr(r),s!==null?(et(r),ry(r,s)):(et(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Qr(r),et(r),ry(r,s)):(et(r),r.flags&=-16777217):(t.memoizedProps!==l&&Qr(r),et(r),r.flags&=-16777217),null;case 27:cs(r),s=wn.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return et(r),null}t=Zt.current,Xo(r)?vp(r):(t=Dy(d,l,s),r.stateNode=t,Qr(r))}return et(r),null;case 5:if(cs(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return et(r),null}if(t=Zt.current,Xo(r))vp(r);else{switch(d=_u(wn.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}t[kt]=r,t[xt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Bt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qr(r)}}return et(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=wn.current,Xo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,d=nn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[kt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ny(t.nodeValue,s)),t||Oi(r)}else t=_u(t).createTextNode(l),t[kt]=r,r.stateNode=t}return et(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[kt]=r}else Wo(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;et(r),d=!1}else Kn!==null&&(gf(Kn),Kn=null),d=!0;if(!d)return r.flags&256?(Ur(r),r):(Ur(r),null)}if(Ur(r),r.flags&128)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),lu(r,r.updateQueue),et(r),null;case 4:return Ar(),t===null&&Af(r.stateNode.containerInfo),et(r),null;case 10:return Hr(r.type),et(r),null;case 19:if(rt(wt),d=r.memoizedState,d===null)return et(r),null;if(l=(r.flags&128)!==0,m=d.rendering,m===null)if(l)yl(d,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(m=Gc(t),m!==null){for(r.flags|=128,yl(d,!1),t=m.updateQueue,r.updateQueue=t,lu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)ty(s,t),s=s.sibling;return Qe(wt,wt.current&1|2),r.child}t=t.sibling}d.tail!==null&&an()>cu&&(r.flags|=128,l=!0,yl(d,!1),r.lanes=4194304)}else{if(!l)if(t=Gc(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,lu(r,t),yl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Be)return et(r),null}else 2*an()-d.renderingStartTime>cu&&s!==536870912&&(r.flags|=128,l=!0,yl(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(t=d.last,t!==null?t.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=an(),r.sibling=null,t=wt.current,Qe(wt,l?t&1|2:t&1),r):(et(r),null);case 22:case 23:return Ur(r),fh(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?s&536870912&&!(r.flags&128)&&(et(r),r.subtreeFlags&6&&(r.flags|=8192)):et(r),s=r.updateQueue,s!==null&&lu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&rt(Vi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Hr(St),et(r),null;case 25:return null}throw Error(i(156,r.tag))}function B2(t,r){switch(ch(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hr(St),Ar(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return cs(r),null;case 13:if(Ur(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return rt(wt),null;case 4:return Ar(),null;case 10:return Hr(r.type),null;case 22:case 23:return Ur(r),fh(),t!==null&&rt(Vi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Hr(St),null;case 25:return null;default:return null}}function ay(t,r){switch(ch(r),r.tag){case 3:Hr(St),Ar();break;case 26:case 27:case 5:cs(r);break;case 4:Ar();break;case 13:Ur(r);break;case 19:rt(wt);break;case 10:Hr(r.type);break;case 22:case 23:Ur(r),fh(),t!==null&&rt(Vi);break;case 24:Hr(St)}}var q2={getCacheForType:function(t){var r=Kt(St),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},H2=typeof WeakMap=="function"?WeakMap:Map,tt=0,We=null,Ie=null,Pe=0,Ze=0,yn=null,$r=!1,Hs=!1,lf=!1,Yr=0,st=0,qa=0,Gi=0,cf=0,Un=0,Fs=0,vl=null,hr=null,uf=!1,df=0,cu=1/0,uu=null,Ha=null,du=!1,Ki=null,_l=0,hf=0,ff=null,bl=0,mf=null;function vn(){if(tt&2&&Pe!==0)return Pe&-Pe;if(A.T!==null){var t=Ms;return t!==0?t:Ef()}return yc()}function iy(){Un===0&&(Un=!(Pe&536870912)||Be?jo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Un}function rn(t,r,s){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(Gs(t,0),Xr(t,Pe,Un,!1)),ut(t,s),(!(tt&2)||t!==We)&&(t===We&&(!(tt&2)&&(Gi|=s),st===4&&Xr(t,Pe,Un,!1)),fr(t))}function sy(t,r,s){if(tt&6)throw Error(i(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||pa(t,r),d=l?K2(t,r):vf(t,r,!0),m=l;do{if(d===0){Hs&&!l&&Xr(t,r,0,!1);break}else if(d===6)Xr(t,r,0,!$r);else{if(s=t.current.alternate,m&&!F2(s)){d=vf(t,r,!1),m=!1;continue}if(d===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var E=t;d=vl;var N=E.current.memoizedState.isDehydrated;if(N&&(Gs(E,b).flags|=256),b=vf(E,b,!1),b!==2){if(lf&&!N){E.errorRecoveryDisabledLanes|=m,Gi|=m,d=4;break e}m=hr,hr=d,m!==null&&gf(m)}d=b}if(m=!1,d!==2)continue}}if(d===1){Gs(t,0),Xr(t,r,0,!0);break}e:{switch(l=t,d){case 0:case 1:throw Error(i(345));case 4:if((r&4194176)===r){Xr(l,r,Un,!$r);break e}break;case 2:hr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(m=df+300-an(),10<m)){if(Xr(l,r,Un,!$r),Sn(l,0)!==0)break e;l.timeoutHandle=Iy(oy.bind(null,l,s,hr,uu,uf,r,Un,Gi,Fs,$r,2,-0,0),m);break e}oy(l,s,hr,uu,uf,r,Un,Gi,Fs,$r,0,-0,0)}}break}while(!0);fr(t)}function gf(t){hr===null?hr=t:hr.push.apply(hr,t)}function oy(t,r,s,l,d,m,b,E,N,M,G,Z,q){var F=r.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:SE},W0(r),r=NE(),r!==null)){t.cancelPendingCommit=r(my.bind(null,t,s,l,d,b,E,N,1,Z,q)),Xr(t,m,b,!M);return}my(t,s,l,d,b,E,N,G,Z,q)}function F2(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],m=d.getSnapshot;d=d.value;try{if(!mn(m(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(t,r,s,l){r&=~cf,r&=~Gi,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var m=31-Jt(d),b=1<<m;l[m]=-1,d&=~b}s!==0&&va(t,s,r)}function hu(){return tt&6?!0:(xl(0),!1)}function pf(){if(Ie!==null){if(Ze===0)var t=Ie.return;else t=Ie,qr=Bi=null,xh(t),Ds=null,tl=0,t=Ie;for(;t!==null;)ay(t.alternate,t),t=t.return;Ie=null}}function Gs(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,cE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),pf(),We=t,Ie=s=Ba(t.current,null),Pe=r,Ze=0,yn=null,$r=!1,Hs=pa(t,r),lf=!1,Fs=Un=cf=Gi=qa=st=0,hr=vl=null,uf=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-Jt(l),m=1<<d;r|=t[d],l&=~m}return Yr=r,Vc(),s}function ly(t,r){Re=null,A.H=dr,r===Jo?(r=Tp(),Ze=3):r===bp?(r=Tp(),Ze=4):Ze=r===x0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Ie===null&&(st=1,nu(t,jn(r,t.current)))}function cy(){var t=A.H;return A.H=dr,t===null?dr:t}function uy(){var t=A.A;return A.A=q2,t}function yf(){st=4,$r||(Pe&4194176)!==Pe&&Mn.current!==null||(Hs=!0),!(qa&134217727)&&!(Gi&134217727)||We===null||Xr(We,Pe,Un,!1)}function vf(t,r,s){var l=tt;tt|=2;var d=cy(),m=uy();(We!==t||Pe!==r)&&(uu=null,Gs(t,r)),r=!1;var b=st;e:do try{if(Ze!==0&&Ie!==null){var E=Ie,N=yn;switch(Ze){case 8:pf(),b=6;break e;case 3:case 2:case 6:Mn.current===null&&(r=!0);var M=Ze;if(Ze=0,yn=null,Ks(t,E,N,M),s&&Hs){b=0;break e}break;default:M=Ze,Ze=0,yn=null,Ks(t,E,N,M)}}G2(),b=st;break}catch(G){ly(t,G)}while(!0);return r&&t.shellSuspendCounter++,qr=Bi=null,tt=l,A.H=d,A.A=m,Ie===null&&(We=null,Pe=0,Vc()),b}function G2(){for(;Ie!==null;)dy(Ie)}function K2(t,r){var s=tt;tt|=2;var l=cy(),d=uy();We!==t||Pe!==r?(uu=null,cu=an()+500,Gs(t,r)):Hs=pa(t,r);e:do try{if(Ze!==0&&Ie!==null){r=Ie;var m=yn;t:switch(Ze){case 1:Ze=0,yn=null,Ks(t,r,m,1);break;case 2:if(xp(m)){Ze=0,yn=null,hy(r);break}r=function(){Ze===2&&We===t&&(Ze=7),fr(t)},m.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:xp(m)?(Ze=0,yn=null,hy(r)):(Ze=0,yn=null,Ks(t,r,m,7));break;case 5:var b=null;switch(Ie.tag){case 26:b=Ie.memoizedState;case 5:case 27:var E=Ie;if(!b||By(b)){Ze=0,yn=null;var N=E.sibling;if(N!==null)Ie=N;else{var M=E.return;M!==null?(Ie=M,fu(M)):Ie=null}break t}}Ze=0,yn=null,Ks(t,r,m,5);break;case 6:Ze=0,yn=null,Ks(t,r,m,6);break;case 8:pf(),st=6;break e;default:throw Error(i(462))}}Q2();break}catch(G){ly(t,G)}while(!0);return qr=Bi=null,A.H=l,A.A=d,tt=s,Ie!==null?0:(We=null,Pe=0,Vc(),st)}function Q2(){for(;Ie!==null&&!Gd();)dy(Ie)}function dy(t){var r=D0(t.alternate,t,Yr);t.memoizedProps=t.pendingProps,r===null?fu(t):Ie=r}function hy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=N0(s,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=N0(s,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:xh(r);default:ay(s,r),r=Ie=ty(r,Yr),r=D0(s,r,Yr)}t.memoizedProps=t.pendingProps,r===null?fu(t):Ie=r}function Ks(t,r,s,l){qr=Bi=null,xh(r),Ds=null,tl=0;var d=r.return;try{if(M2(t,d,r,s,Pe)){st=1,nu(t,jn(s,t.current)),Ie=null;return}}catch(m){if(d!==null)throw Ie=d,m;st=1,nu(t,jn(s,t.current)),Ie=null;return}r.flags&32768?(Be||l===1?t=!0:Hs||Pe&536870912?t=!1:($r=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(r,t)):fu(r)}function fu(t){var r=t;do{if(r.flags&32768){fy(r,$r);return}t=r.return;var s=z2(r.alternate,r,Yr);if(s!==null){Ie=s;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=t}while(r!==null);st===0&&(st=5)}function fy(t,r){do{var s=B2(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);st=6,Ie=null}function my(t,r,s,l,d,m,b,E,N,M){var G=A.T,Z=ie.p;try{ie.p=2,A.T=null,$2(t,r,s,l,Z,d,m,b,E,N,M)}finally{A.T=G,ie.p=Z}}function $2(t,r,s,l,d,m,b,E){do Qs();while(Ki!==null);if(tt&6)throw Error(i(327));var N=t.finishedWork;if(l=t.finishedLanes,N===null)return null;if(t.finishedWork=null,t.finishedLanes=0,N===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=N.lanes|N.childLanes;if(M|=sh,gc(t,l,M,m,b,E),t===We&&(Ie=We=null,Pe=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||du||(du=!0,hf=M,ff=s,Z2(Nr,function(){return Qs(),null})),s=(N.flags&15990)!==0,N.subtreeFlags&15990||s?(s=A.T,A.T=null,m=ie.p,ie.p=2,b=tt,tt|=4,P2(t,N),$0(N,t),v2(If,t.containerInfo),Su=!!Cf,If=Cf=null,t.current=N,F0(t,N.alternate,N),Ro(),tt=b,ie.p=m,A.T=s):t.current=N,du?(du=!1,Ki=t,_l=l):gy(t,M),M=t.pendingLanes,M===0&&(Ha=null),Io(N.stateNode),fr(t),r!==null)for(d=t.onRecoverableError,N=0;N<r.length;N++)M=r[N],d(M.value,{componentStack:M.stack});return _l&3&&Qs(),M=t.pendingLanes,l&4194218&&M&42?t===mf?bl++:(bl=0,mf=t):bl=0,xl(0),null}function gy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Qs(){if(Ki!==null){var t=Ki,r=hf;hf=0;var s=pc(_l),l=A.T,d=ie.p;try{if(ie.p=32>s?32:s,A.T=null,Ki===null)var m=!1;else{s=ff,ff=null;var b=Ki,E=_l;if(Ki=null,_l=0,tt&6)throw Error(i(331));var N=tt;if(tt|=4,J0(b.current),X0(b,b.current,E,s),tt=N,xl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ma,b)}catch{}m=!0}return m}finally{ie.p=d,A.T=l,gy(t,r)}}return!1}function py(t,r,s){r=jn(s,r),r=Mh(t.stateNode,r,2),t=Pa(t,r,2),t!==null&&(ut(t,2),fr(t))}function Xe(t,r,s){if(t.tag===3)py(t,t,s);else for(;r!==null;){if(r.tag===3){py(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ha===null||!Ha.has(l))){t=jn(s,t),s=_0(2),l=Pa(r,s,2),l!==null&&(b0(s,l,r,t),ut(l,2),fr(l));break}}r=r.return}}function _f(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new H2;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(s)||(lf=!0,d.add(s),t=Y2.bind(null,t,r,s),r.then(t,t))}function Y2(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Pe&s)===s&&(st===4||st===3&&(Pe&62914560)===Pe&&300>an()-df?!(tt&2)&&Gs(t,0):cf|=s,Fs===Pe&&(Fs=0)),fr(t)}function yy(t,r){r===0&&(r=ya()),t=Ca(t,r),t!==null&&(ut(t,r),fr(t))}function X2(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),yy(t,s)}function W2(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),yy(t,s)}function Z2(t,r){return pi(t,r)}var mu=null,$s=null,bf=!1,gu=!1,xf=!1,Qi=0;function fr(t){t!==$s&&t.next===null&&($s===null?mu=$s=t:$s=$s.next=t),gu=!0,bf||(bf=!0,eE(J2))}function xl(t,r){if(!xf&&gu){xf=!0;do for(var s=!1,l=mu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Jt(42|t)+1)-1,m&=d&~(b&~E),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(s=!0,by(l,m))}else m=Pe,m=Sn(l,l===We?m:0),!(m&3)||pa(l,m)||(s=!0,by(l,m));l=l.next}while(s);xf=!1}}function J2(){gu=bf=!1;var t=0;Qi!==0&&(lE()&&(t=Qi),Qi=0);for(var r=an(),s=null,l=mu;l!==null;){var d=l.next,m=vy(l,r);m===0?(l.next=null,s===null?mu=d:s.next=d,d===null&&($s=s)):(s=l,(t!==0||m&3)&&(gu=!0)),l=d}xl(t)}function vy(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Jt(m),E=1<<b,N=d[b];N===-1?(!(E&s)||E&l)&&(d[b]=hs(E,r)):N<=r&&(t.expiredLanes|=E),m&=~E}if(r=We,s=Pe,s=Sn(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||pa(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&ds(l),pc(s)){case 2:case 8:s=It;break;case 32:s=Nr;break;case 268435456:s=Co;break;default:s=Nr}return l=_y.bind(null,t),s=pi(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function _y(t,r){var s=t.callbackNode;if(Qs()&&t.callbackNode!==s)return null;var l=Pe;return l=Sn(t,t===We?l:0),l===0?null:(sy(t,l,r),vy(t,an()),t.callbackNode!=null&&t.callbackNode===s?_y.bind(null,t):null)}function by(t,r){if(Qs())return null;sy(t,r,!0)}function eE(t){uE(function(){tt&6?pi(bt,t):t()})}function Ef(){return Qi===0&&(Qi=jo()),Qi}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nr(""+t)}function Ey(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function tE(t,r,s,l,d){if(r==="submit"&&s&&s.stateNode===d){var m=xy((d[xt]||null).action),b=l.submitter;b&&(r=(r=b[xt]||null)?xy(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var E=new _s("action","action",null,l,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qi!==0){var N=b?Ey(d,b):new FormData(d);Ih(s,{pending:!0,data:N,method:d.method,action:m},null,N)}}else typeof m=="function"&&(E.preventDefault(),N=b?Ey(d,b):new FormData(d),Ih(s,{pending:!0,data:N,method:d.method,action:m},m,N))},currentTarget:d}]})}}for(var Tf=0;Tf<mp.length;Tf++){var wf=mp[Tf],nE=wf.toLowerCase(),rE=wf[0].toUpperCase()+wf.slice(1);Gn(nE,"on"+rE)}Gn(cp,"onAnimationEnd"),Gn(up,"onAnimationIteration"),Gn(dp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(b2,"onTransitionRun"),Gn(x2,"onTransitionStart"),Gn(E2,"onTransitionCancel"),Gn(hp,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Ty(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var E=l[b],N=E.instance,M=E.currentTarget;if(E=E.listener,N!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=M;try{m(d)}catch(G){tu(G)}d.currentTarget=null,m=N}else for(b=0;b<l.length;b++){if(E=l[b],N=E.instance,M=E.currentTarget,E=E.listener,N!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=M;try{m(d)}catch(G){tu(G)}d.currentTarget=null,m=N}}}}function De(t,r){var s=r[vi];s===void 0&&(s=r[vi]=new Set);var l=t+"__bubble";s.has(l)||(wy(r,t,2,!1),s.add(l))}function Sf(t,r,s){var l=0;r&&(l|=4),wy(s,t,l,r)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[pu]){t[pu]=!0,Oo.forEach(function(s){s!=="selectionchange"&&(aE.has(s)||Sf(s,!1,t),Sf(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[pu]||(r[pu]=!0,Sf("selectionchange",!1,r))}}function wy(t,r,s,l){switch(Qy(r)){case 2:var d=IE;break;case 8:d=kE;break;default:d=Uf}s=d.bind(null,r,s,t),d=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Nf(t,r,s,l,d){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&(N=b.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;b=b.return}for(;E!==null;){if(b=Fn(E),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=m=b;continue e}E=E.parentNode}}l=l.return}xc(function(){var M=m,G=vs(s),Z=[];e:{var q=fp.get(t);if(q!==void 0){var F=_s,de=t;switch(t){case"keypress":if(ar(s)===0)break e;case"keydown":case"keyup":F=Ss;break;case"focusin":de="focus",F=Es;break;case"focusout":de="blur",F=Es;break;case"beforeblur":case"afterblur":F=Es;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Cc;break;case cp:case up:case dp:F=Ts;break;case hp:F=kc;break;case"scroll":case"scrollend":F=Ec;break;case"wheel":F=As;break;case"copy":case"cut":case"paste":F=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ko;break;case"toggle":case"beforetoggle":F=Dc}var Ee=(r&4)!==0,ot=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var D=M,B;D!==null;){var $=D;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||L===null||($=Ti(D,L),$!=null&&Ee.push(Tl(D,$,B))),ot)break;D=D.return}0<Ee.length&&(q=new F(q,de,null,s,G),Z.push({event:q,listeners:Ee}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==Rn&&(de=s.relatedTarget||s.fromElement)&&(Fn(de)||de[Rr]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(de=s.relatedTarget||s.toElement,F=M,de=de?Fn(de):null,de!==null&&(ot=me(de),Ee=de.tag,de!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(F=null,de=M),F!==de)){if(Ee=In,$="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ko,$="onPointerLeave",L="onPointerEnter",D="pointer"),ot=F==null?q:Ea(F),B=de==null?q:Ea(de),q=new Ee($,D+"leave",F,s,G),q.target=ot,q.relatedTarget=B,$=null,Fn(G)===M&&(Ee=new Ee(L,D+"enter",de,s,G),Ee.target=B,Ee.relatedTarget=ot,$=Ee),ot=$,F&&de)t:{for(Ee=F,L=de,D=0,B=Ee;B;B=Ys(B))D++;for(B=0,$=L;$;$=Ys($))B++;for(;0<D-B;)Ee=Ys(Ee),D--;for(;0<B-D;)L=Ys(L),B--;for(;D--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Ys(Ee),L=Ys(L)}Ee=null}else Ee=null;F!==null&&Sy(Z,q,F,Ee,!1),de!==null&&ot!==null&&Sy(Z,ot,de,Ee,!0)}}e:{if(q=M?Ea(M):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ce=Zg;else if(Tt(q))if(Jg)ce=p2;else{ce=m2;var Ce=f2}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?M&&Uo(M.elementType)&&(ce=Zg):ce=g2;if(ce&&(ce=ce(t,M))){Vr(Z,ce,s,G);break e}Ce&&Ce(t,q,M),t==="focusout"&&M&&q.type==="number"&&M.memoizedProps.value!=null&&ys(q,"number",q.value)}switch(Ce=M?Ea(M):window,t){case"focusin":(Tt(Ce)||Ce.contentEditable==="true")&&(Ns=Ce,rh=M,Yo=null);break;case"focusout":Yo=rh=Ns=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,op(Z,s,G);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":op(Z,s,G)}var fe;if(or)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Me?H(t,s)&&(ye="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(_&&s.locale!=="ko"&&(Me||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Me&&(fe=Bo()):(rr=G,Ra="value"in rr?rr.value:rr.textContent,Me=!0)),Ce=yu(M,ye),0<Ce.length&&(ye=new Fo(ye,t,null,s,G),Z.push({event:ye,listeners:Ce}),fe?ye.data=fe:(fe=te(s),fe!==null&&(ye.data=fe)))),(fe=y?Et(t,s):Ve(t,s))&&(ye=yu(M,"onBeforeInput"),0<ye.length&&(Ce=new Fo("onBeforeInput","beforeinput",null,s,G),Z.push({event:Ce,listeners:ye}),Ce.data=fe)),tE(Z,t,M,s,G)}Ty(Z,r)})}function Tl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function yu(t,r){for(var s=r+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ti(t,s),d!=null&&l.unshift(Tl(t,d,m)),d=Ti(t,r),d!=null&&l.push(Tl(t,d,m))),t=t.return}return l}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sy(t,r,s,l,d){for(var m=r._reactName,b=[];s!==null&&s!==l;){var E=s,N=E.alternate,M=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||M===null||(N=M,d?(M=Ti(s,m),M!=null&&b.unshift(Tl(s,M,N))):d||(M=Ti(s,m),M!=null&&b.push(Tl(s,M,N)))),s=s.return}b.length!==0&&t.push({event:r,listeners:b})}var iE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(sE,"")}function Ny(t,r){return r=Ay(r),Ay(t)===r}function vu(){}function Ye(t,r,s,l,d,m){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":Sa(t,"class",l);break;case"tabIndex":Sa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(t,s,l);break;case"style":bc(t,l,m);break;case"data":if(r!=="object"){Sa(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=nr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&Ye(t,r,"name",d.name,d,null),Ye(t,r,"formEncType",d.formEncType,d,null),Ye(t,r,"formMethod",d.formMethod,d,null),Ye(t,r,"formTarget",d.formTarget,d,null)):(Ye(t,r,"encType",d.encType,d,null),Ye(t,r,"method",d.method,d,null),Ye(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=nr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=vu);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=nr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xd.get(s)||s,wa(t,s,l))}}function Rf(t,r,s,l,d,m){switch(s){case"style":bc(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),m=t[xt]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):wa(t,s,l)}}}function Bt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,d=!1,m;for(m in s)if(s.hasOwnProperty(m)){var b=s[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(t,r,m,b,s,null)}}d&&Ye(t,r,"srcSet",s.srcSet,s,null),l&&Ye(t,r,"src",s.src,s,null);return;case"input":De("invalid",t);var E=m=b=d=null,N=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":d=G;break;case"type":b=G;break;case"checked":N=G;break;case"defaultChecked":M=G;break;case"value":m=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:Ye(t,r,l,G,s,null)}}xi(t,m,E,N,M,b,d,!1),bi(t);return;case"select":De("invalid",t),l=b=m=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:Ye(t,r,d,E,s,null)}r=m,s=b,t.multiple=!!l,r!=null?ze(t,!!l,r,!1):s!=null&&ze(t,!!l,s,!0);return;case"textarea":De("invalid",t),m=d=l=null;for(b in s)if(s.hasOwnProperty(b)&&(E=s[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ye(t,r,b,E,s,null)}Na(t,l,d,m),bi(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,N,l,s,null)}return;case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)De(El[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(t,r,M,l,s,null)}return;default:if(Uo(r)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Rf(t,r,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Ye(t,r,E,l,s,null))}function oE(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,E=null,N=null,M=null,G=null;for(F in s){var Z=s[F];if(s.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||Ye(t,r,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=s[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":m=F;break;case"name":d=F;break;case"checked":M=F;break;case"defaultChecked":G=F;break;case"value":b=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:F!==Z&&Ye(t,r,q,F,l,Z)}}Aa(t,b,E,N,M,G,m,d);return;case"select":F=b=E=q=null;for(m in s)if(N=s[m],s.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(m)||Ye(t,r,m,null,l,N)}for(d in l)if(m=l[d],N=s[d],l.hasOwnProperty(d)&&(m!=null||N!=null))switch(d){case"value":q=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==N&&Ye(t,r,d,m,l,N)}r=E,s=b,l=F,q!=null?ze(t,!!s,q,!1):!!l!=!!s&&(r!=null?ze(t,!!s,r,!0):ze(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,r,E,null,l,d)}for(b in l)if(d=l[b],m=s[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":q=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Ye(t,r,b,d,l,m)}Ei(t,q,F);return;case"option":for(var de in s)if(q=s[de],s.hasOwnProperty(de)&&q!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Ye(t,r,de,null,l,q)}for(N in l)if(q=l[N],F=s[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,r,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)q=s[Ee],s.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&Ye(t,r,Ee,null,l,q);for(M in l)if(q=l[M],F=s[M],l.hasOwnProperty(M)&&q!==F&&(q!=null||F!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ye(t,r,M,q,l,F)}return;default:if(Uo(r)){for(var ot in s)q=s[ot],s.hasOwnProperty(ot)&&q!==void 0&&!l.hasOwnProperty(ot)&&Rf(t,r,ot,void 0,l,q);for(G in l)q=l[G],F=s[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||Rf(t,r,G,q,l,F);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Ye(t,r,L,null,l,q);for(Z in l)q=l[Z],F=s[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||Ye(t,r,Z,q,l,F)}var Cf=null,If=null;function _u(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function kf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jf=null;function lE(){var t=window.event;return t&&t.type==="popstate"?t===jf?!1:(jf=t,!0):(jf=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(dE)}:Iy;function dE(t){setTimeout(function(){throw t})}function Df(t,r){var s=r,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(l===0){t.removeChild(d),kl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=d}while(s);kl(r)}function Of(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Of(s),_i(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function hE(t,r,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xa])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function fE(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$n(t.nextSibling),t===null))return null;return t}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function jy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Dy(t,r,s){switch(r=_u(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}var zn=new Map,Oy=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Wr=ie.d;ie.d={f:mE,r:gE,D:pE,C:yE,L:vE,m:_E,X:xE,S:bE,M:EE};function mE(){var t=Wr.f(),r=hu();return t||r}function gE(t){var r=Cr(t);r!==null&&r.tag===5&&r.type==="form"?o0(r):Wr.r(t)}var Xs=typeof document>"u"?null:document;function My(t,r,s){var l=Xs;if(l&&typeof r=="string"&&r){var d=at(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Oy.has(d)||(Oy.add(d),t={rel:t,crossOrigin:s,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Bt(r,"link",t),Je(r),l.head.appendChild(r)))}}function pE(t){Wr.D(t),My("dns-prefetch",t,null)}function yE(t,r){Wr.C(t,r),My("preconnect",t,r)}function vE(t,r,s){Wr.L(t,r,s);var l=Xs;if(l&&t&&r){var d='link[rel="preload"][as="'+at(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+at(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+at(s.imageSizes)+'"]')):d+='[href="'+at(t)+'"]';var m=d;switch(r){case"style":m=Ws(t);break;case"script":m=Zs(t)}zn.has(m)||(t=I({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),zn.set(m,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(wl(m))||r==="script"&&l.querySelector(Sl(m))||(r=l.createElement("link"),Bt(r,"link",t),Je(r),l.head.appendChild(r)))}}function _E(t,r){Wr.m(t,r);var s=Xs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Zs(t)}if(!zn.has(m)&&(t=I({rel:"modulepreload",href:t},r),zn.set(m,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sl(m)))return}l=s.createElement("link"),Bt(l,"link",t),Je(l),s.head.appendChild(l)}}}function bE(t,r,s){Wr.S(t,r,s);var l=Xs;if(l&&t){var d=Ta(l).hoistableStyles,m=Ws(t);r=r||"default";var b=d.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(wl(m)))E.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},s),(s=zn.get(m))&&Mf(t,s);var N=b=l.createElement("link");Je(N),Bt(N,"link",t),N._p=new Promise(function(M,G){N.onload=M,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xu(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(m,b)}}}function xE(t,r){Wr.X(t,r);var s=Xs;if(s&&t){var l=Ta(s).hoistableScripts,d=Zs(t),m=l.get(d);m||(m=s.querySelector(Sl(d)),m||(t=I({src:t,async:!0},r),(r=zn.get(d))&&Vf(t,r),m=s.createElement("script"),Je(m),Bt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function EE(t,r){Wr.M(t,r);var s=Xs;if(s&&t){var l=Ta(s).hoistableScripts,d=Zs(t),m=l.get(d);m||(m=s.querySelector(Sl(d)),m||(t=I({src:t,async:!0,type:"module"},r),(r=zn.get(d))&&Vf(t,r),m=s.createElement("script"),Je(m),Bt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Vy(t,r,s,l){var d=(d=wn.current)?bu(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ws(s.href),s=Ta(d).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ws(s.href);var m=Ta(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(wl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),m||TE(d,t,s,b.state))),r&&l===null)throw Error(i(528,""));return b}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zs(s),s=Ta(d).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ws(t){return'href="'+at(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",s),Je(r),t.head.appendChild(r))}function Zs(t){return'[src="'+at(t)+'"]'}function Sl(t){return"script[async]"+t}function Ly(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+at(s.href)+'"]');if(l)return r.instance=l,Je(l),l;var d=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),Bt(l,"style",d),xu(l,s.precedence,t),r.instance=l;case"stylesheet":d=Ws(s.href);var m=t.querySelector(wl(d));if(m)return r.state.loading|=4,r.instance=m,Je(m),m;l=Py(s),(d=zn.get(d))&&Mf(l,d),m=(t.ownerDocument||t).createElement("link"),Je(m);var b=m;return b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(m,"link",l),r.state.loading|=4,xu(m,s.precedence,t),r.instance=m;case"script":return m=Zs(s.src),(d=t.querySelector(Sl(m)))?(r.instance=d,Je(d),d):(l=s,(d=zn.get(m))&&(l=I({},s),Vf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Je(d),Bt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,xu(l,s.precedence,t));return r.instance}function xu(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===r)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Mf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Vf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Eu=null;function Uy(t,r,s){if(Eu===null){var l=new Map,d=Eu=new Map;d.set(s,l)}else d=Eu,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var m=s[d];if(!(m[xa]||m[kt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function zy(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function wE(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function By(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Al=null;function SE(){}function AE(t,r,s){if(Al===null)throw Error(i(475));var l=Al;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var d=Ws(s.href),m=t.querySelector(wl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,Je(m);return}m=t.ownerDocument||t,s=Py(s),(d=zn.get(d))&&Mf(s,d),m=m.createElement("link"),Je(m);var b=m;b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(m,"link",s),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Tu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function NE(){if(Al===null)throw Error(i(475));var t=Al;return t.stylesheets&&t.count===0&&Pf(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Pf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,r.forEach(RE,t),wu=null,Tu.call(t))}function RE(t,r){if(!(r.state.loading&4)){var s=wu.get(t);if(s)var l=s.get(null);else{s=new Map,wu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}d=r.instance,b=d.getAttribute("data-precedence"),m=s.get(b)||l,m===l&&s.set(null,d),s.set(b,d),this.count++,l=Tu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function CE(t,r,s,l,d,m,b,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qy(t,r,s,l,d,m,b,E,N,M,G,Z){return t=new CE(t,r,s,b,E,N,M,Z),r=1,m===!0&&(r|=24),m=Ln(3,null,null,r),t.current=m,m.stateNode=t,r=mh(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:r},$h(m),t}function Hy(t){return t?(t=Is,t):Is}function Fy(t,r,s,l,d,m){d=Hy(d),l.context===null?l.context=d:l.pendingContext=d,l=Va(r),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=Pa(t,l,r),s!==null&&(rn(s,t,r),ul(s,t,r))}function Gy(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Lf(t,r){Gy(t,r),(t=t.alternate)&&Gy(t,r)}function Ky(t){if(t.tag===13){var r=Ca(t,67108864);r!==null&&rn(r,t,67108864),Lf(t,67108864)}}var Su=!0;function IE(t,r,s,l){var d=A.T;A.T=null;var m=ie.p;try{ie.p=2,Uf(t,r,s,l)}finally{ie.p=m,A.T=d}}function kE(t,r,s,l){var d=A.T;A.T=null;var m=ie.p;try{ie.p=8,Uf(t,r,s,l)}finally{ie.p=m,A.T=d}}function Uf(t,r,s,l){if(Su){var d=zf(l);if(d===null)Nf(t,r,l,Au,s),$y(t,l);else if(DE(d,t,r,s,l))l.stopPropagation();else if($y(t,l),r&4&&-1<jE.indexOf(t)){for(;d!==null;){var m=Cr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Hn(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var N=1<<31-Jt(b);E.entanglements[1]|=N,b&=~N}fr(m),!(tt&6)&&(cu=an()+500,xl(0))}}break;case 13:E=Ca(m,2),E!==null&&rn(E,m,2),hu(),Lf(m,2)}if(m=zf(l),m===null&&Nf(t,r,l,Au,s),m===d)break;d=m}d!==null&&l.stopPropagation()}else Nf(t,r,l,null,s)}}function zf(t){return t=vs(t),Bf(t)}var Au=null;function Bf(t){if(Au=null,t=Fn(t),t!==null){var r=me(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=Fe(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Au=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dc()){case bt:return 2;case It:return 8;case Nr:case hc:return 32;case Co:return 268435456;default:return 32}default:return 32}}var qf=!1,Fa=null,Ga=null,Ka=null,Rl=new Map,Cl=new Map,Qa=[],jE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,r){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(r.pointerId)}}function Il(t,r,s,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Cr(r),r!==null&&Ky(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function DE(t,r,s,l,d){switch(r){case"focusin":return Fa=Il(Fa,t,r,s,l,d),!0;case"dragenter":return Ga=Il(Ga,t,r,s,l,d),!0;case"mouseover":return Ka=Il(Ka,t,r,s,l,d),!0;case"pointerover":var m=d.pointerId;return Rl.set(m,Il(Rl.get(m)||null,t,r,s,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Cl.set(m,Il(Cl.get(m)||null,t,r,s,l,d)),!0}return!1}function Yy(t){var r=Fn(t.target);if(r!==null){var s=me(r);if(s!==null){if(r=s.tag,r===13){if(r=Fe(s),r!==null){t.blockedOn=r,ba(t.priority,function(){if(s.tag===13){var l=vn(),d=Ca(s,l);d!==null&&rn(d,s,l),Lf(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=zf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Rn=l,s.target.dispatchEvent(l),Rn=null}else return r=Cr(s),r!==null&&Ky(r),t.blockedOn=s,!1;r.shift()}return!0}function Xy(t,r,s){Nu(t)&&s.delete(r)}function OE(){qf=!1,Fa!==null&&Nu(Fa)&&(Fa=null),Ga!==null&&Nu(Ga)&&(Ga=null),Ka!==null&&Nu(Ka)&&(Ka=null),Rl.forEach(Xy),Cl.forEach(Xy)}function Ru(t,r){t.blockedOn===r&&(t.blockedOn=null,qf||(qf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OE)))}var Cu=null;function Wy(t){Cu!==t&&(Cu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Bf(l||s)===null)continue;break}var m=Cr(s);m!==null&&(t.splice(r,3),r-=3,Ih(m,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function kl(t){function r(N){return Ru(N,t)}Fa!==null&&Ru(Fa,t),Ga!==null&&Ru(Ga,t),Ka!==null&&Ru(Ka,t),Rl.forEach(r),Cl.forEach(r);for(var s=0;s<Qa.length;s++){var l=Qa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qa.length&&(s=Qa[0],s.blockedOn===null);)Yy(s),s.blockedOn===null&&Qa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],m=s[l+1],b=d[xt]||null;if(typeof m=="function")b||Wy(s);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[xt]||null)E=b.formAction;else if(Bf(d)!==null)continue}else E=b.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Wy(s)}}}function Hf(t){this._internalRoot=t}Iu.prototype.render=Hf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,l=vn();Fy(s,l,t,r,null,null)},Iu.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&Qs(),Fy(t.current,2,null,t,null,null),hu(),r[Rr]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var r=yc();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Qa.length&&r!==0&&r<Qa[s].priority;s++);Qa.splice(s,0,t),s===0&&Yy(t)}};var Zy=e.version;if(Zy!=="19.0.0")throw Error(i(527,Zy,"19.0.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=ee(r),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var ME={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ma=ku.inject(ME),Gt=ku}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var s=!1,l="",d=g0,m=p0,b=y0,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=qy(t,1,!1,null,null,s,l,d,m,b,E,null),t[Rr]=r.current,Af(t.nodeType===8?t.parentNode:t),new Hf(r)},Dl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(i(299));var l=!1,d="",m=g0,b=p0,E=y0,N=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),r=qy(t,1,!0,r,s??null,l,d,m,b,E,N,M),r.context=Hy(null),s=r.current,l=vn(),d=Va(l),d.callback=null,Pa(s,d,l),r.current.lanes=l,ut(r,l),fr(r),t[Rr]=r.current,Af(t),new Iu(r)},Dl.version="19.0.0",Dl}var lv;function GE(){if(lv)return Kf.exports;lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Kf.exports=FE(),Kf.exports}var KE=GE();const QE=Ym(KE);/**
 * @remix-run/router v1.0.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},$u.apply(this,arguments)}var Ja;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Ja||(Ja={}));const cv="popstate";function $E(a){a===void 0&&(a={});function e(i,o){var c,h;let{pathname:g,search:p,hash:v}=i.location;return gm("",{pathname:g,search:p,hash:v},((c=o.state)==null?void 0:c.usr)||null,((h=o.state)==null?void 0:h.key)||"default")}function n(i,o){return typeof o=="string"?o:pm(o)}return XE(e,n,null,a)}function YE(){return Math.random().toString(36).substr(2,8)}function uv(a){return{usr:a.state,key:a.key}}function gm(a,e,n,i){return n===void 0&&(n=null),$u({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?_o(e):e,{state:n,key:(e==null?void 0:e.key)||i||YE()})}function pm(a){let{pathname:e="/",search:n="",hash:i=""}=a;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _o(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substr(n),a=a.substr(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substr(i),a=a.substr(0,i)),a&&(e.pathname=a)}return e}function XE(a,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,g=Ja.Pop,p=null;function v(){g=Ja.Pop,p&&p({action:g,location:w.location})}function x(k,P){g=Ja.Push;let K=gm(w.location,k,P),Q=uv(K),le=w.createHref(K);try{h.pushState(Q,"",le)}catch{o.location.assign(le)}c&&p&&p({action:g,location:K})}function S(k,P){g=Ja.Replace;let K=gm(w.location,k,P),Q=uv(K),le=w.createHref(K);h.replaceState(Q,"",le),c&&p&&p({action:g,location:K})}let w={get action(){return g},get location(){return a(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cv,v),p=k,()=>{o.removeEventListener(cv,v),p=null}},createHref(k){return e(o,k)},push:x,replace:S,go(k){return h.go(k)}};return w}var dv;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(dv||(dv={}));function WE(a,e,n){n===void 0&&(n="/");let i=typeof e=="string"?_o(e):e,o=c_(i.pathname||"/",n);if(o==null)return null;let c=l_(a);ZE(c);let h=null;for(let g=0;h==null&&g<c.length;++g)h=oT(c[g],o);return h}function l_(a,e,n,i){return e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i=""),a.forEach((o,c)=>{let h={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(dn(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let g=ti([i,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(dn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),l_(o.children,e,p,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:iT(g,o.index),routesMeta:p})}),e}function ZE(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:sT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const JE=/^:\w+$/,eT=3,tT=2,nT=1,rT=10,aT=-2,hv=a=>a==="*";function iT(a,e){let n=a.split("/"),i=n.length;return n.some(hv)&&(i+=aT),e&&(i+=tT),n.filter(o=>!hv(o)).reduce((o,c)=>o+(JE.test(c)?eT:c===""?nT:rT),i)}function sT(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function oT(a,e){let{routesMeta:n}=a,i={},o="/",c=[];for(let h=0;h<n.length;++h){let g=n[h],p=h===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=lT({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v);if(!x)return null;Object.assign(i,x.params);let S=g.route;c.push({params:i,pathname:ti([o,x.pathname]),pathnameBase:fT(ti([o,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(o=ti([o,x.pathnameBase]))}return c}function lT(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=cT(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((v,x,S)=>{if(x==="*"){let w=g[S]||"";h=c.slice(0,c.length-w.length).replace(/(.)\/+$/,"$1")}return v[x]=uT(g[S]||"",x),v},{}),pathname:c,pathnameBase:h,pattern:a}}function cT(a,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u_(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(h,g)=>(i.push(g),"([^\\/]+)"));return a.endsWith("*")?(i.push("*"),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,e?void 0:"i"),i]}function uT(a,e){try{return decodeURIComponent(a)}catch(n){return u_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+a+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),a}}function c_(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}function dn(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function u_(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(a,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof a=="string"?_o(a):a;return{pathname:n?n.startsWith("/")?n:hT(n,e):e,search:mT(i),hash:gT(o)}}function hT(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function d_(a,e,n,i){i===void 0&&(i=!1);let o=typeof a=="string"?_o(a):$u({},a),c=a===""||o.pathname==="",h=c?"/":o.pathname,g;if(i||h==null)g=n;else{let S=e.length-1;if(h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}g=S>=0?e[S]:"/"}let p=dT(o,g),v=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}const ti=a=>a.join("/").replace(/\/\/+/g,"/"),fT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,gT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class pT{constructor(e,n,i){this.status=e,this.statusText=n||"",this.data=i}}function yT(a){return a instanceof pT}/**
 * React Router v6.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},ym.apply(this,arguments)}const vT=X.createContext(null),_T=X.createContext(null),h_=X.createContext(null),Wm=X.createContext(null),bd=X.createContext(null),bo=X.createContext({outlet:null,matches:[]}),f_=X.createContext(null);function bT(a,e){let{relative:n}=e===void 0?{}:e;tc()||dn(!1);let{basename:i,navigator:o}=X.useContext(Wm),{hash:c,pathname:h,search:g}=p_(a,{relative:n}),p=h;return i!=="/"&&(p=h==="/"?i:ti([i,h])),o.createHref({pathname:p,search:g,hash:c})}function tc(){return X.useContext(bd)!=null}function fi(){return tc()||dn(!1),X.useContext(bd).location}function m_(a){return a.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==a[n-1].pathnameBase)}function ca(){tc()||dn(!1);let{basename:a,navigator:e}=X.useContext(Wm),{matches:n}=X.useContext(bo),{pathname:i}=fi(),o=JSON.stringify(m_(n).map(g=>g.pathnameBase)),c=X.useRef(!1);return X.useEffect(()=>{c.current=!0}),X.useCallback(function(g,p){if(p===void 0&&(p={}),!c.current)return;if(typeof g=="number"){e.go(g);return}let v=d_(g,JSON.parse(o),i,p.relative==="path");a!=="/"&&(v.pathname=v.pathname==="/"?a:ti([a,v.pathname])),(p.replace?e.replace:e.push)(v,p.state,p)},[a,e,o,i])}function g_(){let{matches:a}=X.useContext(bo),e=a[a.length-1];return e?e.params:{}}function p_(a,e){let{relative:n}=e===void 0?{}:e,{matches:i}=X.useContext(bo),{pathname:o}=fi(),c=JSON.stringify(m_(i).map(h=>h.pathnameBase));return X.useMemo(()=>d_(a,JSON.parse(c),o,n==="path"),[a,c,o,n])}function xT(a,e){tc()||dn(!1);let n=X.useContext(h_),{matches:i}=X.useContext(bo),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let g=fi(),p;if(e){var v;let P=typeof e=="string"?_o(e):e;h==="/"||(v=P.pathname)!=null&&v.startsWith(h)||dn(!1),p=P}else p=g;let x=p.pathname||"/",S=h==="/"?x:x.slice(h.length)||"/",w=WE(a,{pathname:S}),k=ST(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:ti([h,P.pathname]),pathnameBase:P.pathnameBase==="/"?h:ti([h,P.pathnameBase])})),i,n||void 0);return e?X.createElement(bd.Provider,{value:{location:ym({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ja.Pop}},k):k}function ET(){let a=NT(),e=yT(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unhandled Thrown Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:c},"errorElement")," props on ",X.createElement("code",{style:c},"<Route>")))}class TT extends X.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(f_.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function wT(a){let{routeContext:e,match:n,children:i}=a,o=X.useContext(vT);return o&&n.route.errorElement&&(o._deepestRenderedBoundaryId=n.route.id),X.createElement(bo.Provider,{value:e},i)}function ST(a,e,n){if(e===void 0&&(e=[]),a==null)if(n!=null&&n.errors)a=n.matches;else return null;let i=a,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));c>=0||dn(!1),i=i.slice(0,Math.min(i.length,c+1))}return i.reduceRight((c,h,g)=>{let p=h.route.id?o==null?void 0:o[h.route.id]:null,v=n?h.route.errorElement||X.createElement(ET,null):null,x=()=>X.createElement(wT,{match:h,routeContext:{outlet:c,matches:e.concat(i.slice(0,g+1))}},p?v:h.route.element!==void 0?h.route.element:c);return n&&(h.route.errorElement||g===0)?X.createElement(TT,{location:n.location,component:v,error:p,children:x()}):x()},null)}var vm;(function(a){a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator"})(vm||(vm={}));function AT(a){let e=X.useContext(h_);return e||dn(!1),e}function NT(){var a;let e=X.useContext(f_),n=AT(vm.UseRouteError),i=X.useContext(bo),o=i.matches[i.matches.length-1];return e||(i||dn(!1),o.route.id||dn(!1),(a=n.errors)==null?void 0:a[o.route.id])}function _n(a){dn(!1)}function RT(a){let{basename:e="/",children:n=null,location:i,navigationType:o=Ja.Pop,navigator:c,static:h=!1}=a;tc()&&dn(!1);let g=e.replace(/^\/*/,"/"),p=X.useMemo(()=>({basename:g,navigator:c,static:h}),[g,c,h]);typeof i=="string"&&(i=_o(i));let{pathname:v="/",search:x="",hash:S="",state:w=null,key:k="default"}=i,P=X.useMemo(()=>{let K=c_(v,g);return K==null?null:{pathname:K,search:x,hash:S,state:w,key:k}},[g,v,x,S,w,k]);return P==null?null:X.createElement(Wm.Provider,{value:p},X.createElement(bd.Provider,{children:n,value:{location:P,navigationType:o}}))}function CT(a){let{children:e,location:n}=a,i=X.useContext(_T),o=i&&!e?i.router.routes:_m(e);return xT(o,n)}var fv;(function(a){a[a.pending=0]="pending",a[a.success=1]="success",a[a.error=2]="error"})(fv||(fv={}));new Promise(()=>{});function _m(a,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(a,(i,o)=>{if(!X.isValidElement(i))return;if(i.type===X.Fragment){n.push.apply(n,_m(i.props.children,e));return}i.type!==_n&&dn(!1);let c=[...e,o],h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(h.children=_m(i.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bm(){return bm=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},bm.apply(this,arguments)}function IT(a,e){if(a==null)return{};var n={},i=Object.keys(a),o,c;for(c=0;c<i.length;c++)o=i[c],!(e.indexOf(o)>=0)&&(n[o]=a[o]);return n}function kT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function jT(a,e){return a.button===0&&(!e||e==="_self")&&!kT(a)}const DT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function OT(a){let{basename:e,children:n,window:i}=a,o=X.useRef();o.current==null&&(o.current=$E({window:i,v5Compat:!0}));let c=o.current,[h,g]=X.useState({action:c.action,location:c.location});return X.useLayoutEffect(()=>c.listen(g),[c]),X.createElement(RT,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:c})}const lt=X.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:c,replace:h,state:g,target:p,to:v,preventScrollReset:x}=e,S=IT(e,DT),w=bT(v,{relative:o}),k=MT(v,{replace:h,state:g,target:p,preventScrollReset:x,relative:o});function P(K){i&&i(K),K.defaultPrevented||k(K)}return X.createElement("a",bm({},S,{href:w,onClick:c?i:P,ref:n,target:p}))});function MT(a,e){let{target:n,replace:i,state:o,preventScrollReset:c,relative:h}=e===void 0?{}:e,g=ca(),p=fi(),v=p_(a,{relative:h});return X.useCallback(x=>{if(jT(x,n)){x.preventDefault();let S=i!==void 0?i:pm(p)===pm(v);g(a,{replace:S,state:o,preventScrollReset:c,relative:h})}},[p,g,v,i,o,n,a,c,h])}var y_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mv=ra.createContext&&ra.createContext(y_),VT=["attr","size","title"];function PT(a,e){if(a==null)return{};var n=LT(a,e),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)i=c[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(n[i]=a[i])}return n}function LT(a,e){if(a==null)return{};var n={};for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){if(e.indexOf(i)>=0)continue;n[i]=a[i]}return n}function Yu(){return Yu=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},Yu.apply(this,arguments)}function gv(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,i)}return n}function Xu(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gv(Object(n),!0).forEach(function(i){UT(a,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(n,i))})}return a}function UT(a,e,n){return e=zT(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function zT(a){var e=BT(a,"string");return typeof e=="symbol"?e:e+""}function BT(a,e){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var i=n.call(a,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function v_(a){return a&&a.map((e,n)=>ra.createElement(e.tag,Xu({key:n},e.attr),v_(e.child)))}function He(a){return e=>ra.createElement(qT,Yu({attr:Xu({},a.attr)},e),v_(a.child))}function qT(a){var e=n=>{var{attr:i,size:o,title:c}=a,h=PT(a,VT),g=o||n.size||"1em",p;return n.className&&(p=n.className),a.className&&(p=(p?p+" ":"")+a.className),ra.createElement("svg",Yu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,h,{className:p,style:Xu(Xu({color:a.color||n.color},n.style),a.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&ra.createElement("title",null,c),a.children)};return mv!==void 0?ra.createElement(mv.Consumer,null,n=>e(n)):e(y_)}function Xf(a){return He({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"},child:[]}]})(a)}function pv(a){return He({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]}]})(a)}function HT(a){return He({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(a)}function yv(a){return He({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(a)}var Wf={exports:{}},Zf,vv;function FT(){if(vv)return Zf;vv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zf=a,Zf}var Jf,_v;function GT(){if(_v)return Jf;_v=1;var a=FT();function e(){}function n(){}return n.resetWarningCache=e,Jf=function(){function i(h,g,p,v,x,S){if(S!==a){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function o(){return i}var c={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Jf}var bv;function KT(){return bv||(bv=1,Wf.exports=GT()()),Wf.exports}var QT=KT();const xv=Ym(QT),$T=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YT=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const o=a[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[n++],h=a[n++],g=a[n++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=a[n++],h=a[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const c=a[o],h=o+1<a.length,g=h?a[o+1]:0,p=o+2<a.length,v=p?a[o+2]:0,x=c>>2,S=(c&3)<<4|g>>4;let w=(g&15)<<2|v>>6,k=v&63;p||(k=64,h||(w=64)),i.push(n[x],n[S],n[w],n[k])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(__(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):YT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const c=n[a.charAt(o++)],g=o<a.length?n[a.charAt(o)]:0;++o;const v=o<a.length?n[a.charAt(o)]:64;++o;const S=o<a.length?n[a.charAt(o)]:64;if(++o,c==null||g==null||v==null||S==null)throw new XT;const w=c<<2|g>>4;if(i.push(w),v!==64){const k=g<<4&240|v>>2;if(i.push(k),S!==64){const P=v<<6&192|S;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(a){const e=__(a);return b_.encodeByteArray(e,!0)},Wu=function(a){return WT(a).replace(/\./g,"")},x_=function(a){try{return b_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>ZT().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof Ev>"u")return;const a=Ev.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&x_(a[1]);return e&&JSON.parse(e)},xd=()=>{try{return $T()||JT()||ew()||tw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},E_=a=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},nw=a=>{const e=E_(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},T_=()=>{var a;return(a=xd())===null||a===void 0?void 0:a.config},w_=a=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Wu(JSON.stringify(n)),Wu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function sw(){var a;const e=(a=xd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ow(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S_(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cw(){const a=Wt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function uw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A_(){try{return typeof indexedDB=="object"}catch{return!1}}function N_(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}function dw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="FirebaseError";class Wn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hw,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,is.prototype.create)}}class is{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?fw(c,i):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Wn(o,g,i)}}function fw(a,e){return a.replace(mw,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mw=/\{\$([^}]+)}/g;function gw(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function si(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=a[o],h=e[o];if(Tv(c)&&Tv(h)){if(!si(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Tv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(a){const e=[];for(const[n,i]of Object.entries(a))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ol(a){const e={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ml(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function pw(a,e){const n=new yw(a,e);return n.subscribe.bind(n)}class yw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vw(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=1e3,bw=2,xw=4*60*60*1e3,Ew=.5;function wv(a,e=_w,n=bw){const i=e*Math.pow(n,a),o=Math.round(Ew*i*(Math.random()-.5)*2);return Math.min(xw,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(a){return a&&a._delegate?a._delegate:a}class Xn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sw(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);i===g&&h.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&e(h,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ww(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(a){return a===$i?void 0:a}function Sw(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ke||(ke={}));const Nw={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Rw=ke.INFO,Cw={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Iw=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),o=Cw[e];if(o)console[o](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ed{constructor(e){this.name=e,this._logLevel=Rw,this._logHandler=Iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const kw=(a,e)=>e.some(n=>a instanceof n);let Sv,Av;function jw(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,xm=new WeakMap,C_=new WeakMap,tm=new WeakMap,Zm=new WeakMap;function Ow(a){const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",h)},c=()=>{n(ni(a.result)),o()},h=()=>{i(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&R_.set(n,a)}).catch(()=>{}),Zm.set(e,a),e}function Mw(a){if(xm.has(a))return;const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",h),a.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",h),a.addEventListener("abort",h)});xm.set(a,e)}let Em={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return xm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||C_.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Vw(a){Em=a(Em)}function Pw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(nm(this),e,...n);return C_.set(i,e.sort?e.sort():[e]),ni(i)}:Dw().includes(a)?function(...e){return a.apply(nm(this),e),ni(R_.get(this))}:function(...e){return ni(a.apply(nm(this),e))}}function Lw(a){return typeof a=="function"?Pw(a):(a instanceof IDBTransaction&&Mw(a),kw(a,jw())?new Proxy(a,Em):a)}function ni(a){if(a instanceof IDBRequest)return Ow(a);if(tm.has(a))return tm.get(a);const e=Lw(a);return e!==a&&(tm.set(a,e),Zm.set(e,a)),e}const nm=a=>Zm.get(a);function I_(a,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(a,e),g=ni(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ni(h.result),p.oldVersion,p.newVersion,ni(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Uw=["get","getKey","getAll","getAllKeys","count"],zw=["put","add","delete","clear"],rm=new Map;function Nv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=zw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Uw.includes(n)))return;const c=async function(h,...g){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return i&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),o&&p.done]))[0]};return rm.set(e,c),c}Vw(a=>({...a,get:(e,n,i)=>Nv(e,n)||a.get(e,n,i),has:(e,n)=>!!Nv(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qw(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",Rv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Ed("@firebase/app"),Hw="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",Kw="@firebase/app-check-compat",Qw="@firebase/app-check",$w="@firebase/auth",Yw="@firebase/auth-compat",Xw="@firebase/database",Ww="@firebase/data-connect",Zw="@firebase/database-compat",Jw="@firebase/functions",e4="@firebase/functions-compat",t4="@firebase/installations",n4="@firebase/installations-compat",r4="@firebase/messaging",a4="@firebase/messaging-compat",i4="@firebase/performance",s4="@firebase/performance-compat",o4="@firebase/remote-config",l4="@firebase/remote-config-compat",c4="@firebase/storage",u4="@firebase/storage-compat",d4="@firebase/firestore",h4="@firebase/vertexai",f4="@firebase/firestore-compat",m4="firebase",g4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",p4={[Tm]:"fire-core",[Hw]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Qw]:"fire-app-check",[Kw]:"fire-app-check-compat",[$w]:"fire-auth",[Yw]:"fire-auth-compat",[Xw]:"fire-rtdb",[Ww]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[Jw]:"fire-fn",[e4]:"fire-fn-compat",[t4]:"fire-iid",[n4]:"fire-iid-compat",[r4]:"fire-fcm",[a4]:"fire-fcm-compat",[i4]:"fire-perf",[s4]:"fire-perf-compat",[o4]:"fire-rc",[l4]:"fire-rc-compat",[c4]:"fire-gcs",[u4]:"fire-gcs-compat",[d4]:"fire-fst",[f4]:"fire-fst-compat",[h4]:"fire-vertex","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,y4=new Map,Sm=new Map;function Cv(a,e){try{a.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function xr(a){const e=a.name;if(Sm.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,a);for(const n of Zu.values())Cv(n,a);for(const n of y4.values())Cv(n,a);return!0}function ss(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function bn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new is("app","Firebase",v4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=g4;function k_(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(n||(n=T_()),!n)throw ri.create("no-options");const c=Zu.get(o);if(c){if(si(n,c.options)&&si(i,c.config))return c;throw ri.create("duplicate-app",{appName:o})}const h=new Aw(o);for(const p of Sm.values())h.addComponent(p);const g=new _4(n,i,h);return Zu.set(o,g),g}function Jm(a=wm){const e=Zu.get(a);if(!e&&a===wm&&T_())return k_();if(!e)throw ri.create("no-app",{appName:a});return e}function Bn(a,e,n){var i;let o=(i=p4[a])!==null&&i!==void 0?i:a;n&&(o+=`-${n}`);const c=o.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&g.push("and"),h&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(g.join(" "));return}xr(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-heartbeat-database",x4=1,Gl="firebase-heartbeat-store";let am=null;function j_(){return am||(am=I_(b4,x4,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(a=>{throw ri.create("idb-open",{originalErrorMessage:a.message})})),am}async function E4(a){try{const n=(await j_()).transaction(Gl),i=await n.objectStore(Gl).get(D_(a));return await n.done,i}catch(e){if(e instanceof Wn)ia.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ia.warn(n.message)}}}async function Iv(a,e){try{const i=(await j_()).transaction(Gl,"readwrite");await i.objectStore(Gl).put(e,D_(a)),await i.done}catch(n){if(n instanceof Wn)ia.warn(n.message);else{const i=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(i.message)}}}function D_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1024,w4=30;class S4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>w4){const h=R4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ia.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kv(),{heartbeatsToSend:i,unsentEntries:o}=A4(this._heartbeatsCache.heartbeats),c=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ia.warn(n),""}}}function kv(){return new Date().toISOString().substring(0,10)}function A4(a,e=T4){const n=[];let i=a.slice();for(const o of a){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),jv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class N4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A_()?N_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jv(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function R4(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(a){xr(new Xn("platform-logger",e=>new Bw(e),"PRIVATE")),xr(new Xn("heartbeat",e=>new S4(e),"PRIVATE")),Bn(Tm,Rv,a),Bn(Tm,Rv,"esm2017"),Bn("fire-js","")}C4("");function eg(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n}function O_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I4=O_,M_=new is("auth","Firebase",O_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Ed("@firebase/auth");function k4(a,...e){Ju.logLevel<=ke.WARN&&Ju.warn(`Auth (${xo}): ${a}`,...e)}function Uu(a,...e){Ju.logLevel<=ke.ERROR&&Ju.error(`Auth (${xo}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(a,...e){throw ng(a,...e)}function Yn(a,...e){return ng(a,...e)}function tg(a,e,n){const i=Object.assign(Object.assign({},I4()),{[e]:n});return new is("auth","Firebase",i).create(e,{appName:a.name})}function aa(a){return tg(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j4(a,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&qn(a,"argument-error"),tg(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(a,...e){if(typeof a!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(n,...i)}return M_.create(a,...e)}function ve(a,e,...n){if(!a)throw ng(e,...n)}function ea(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Uu(e),new Error(e)}function sa(a,e){a||ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function D4(){return Dv()==="http:"||Dv()==="https:"}function Dv(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D4()||S_()||"connection"in navigator)?navigator.onLine:!0}function M4(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=iw()||lw()}get(){return O4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(a,e){sa(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new rc(3e4,6e4);function ua(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}async function wr(a,e,n,i,o={}){return P_(a,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const g=nc(Object.assign({key:a.config.apiKey},h)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:e,headers:p},c);return ow()||(v.referrerPolicy="no-referrer"),V_.fetch()(L_(a,a.config.apiHost,n,g),v)})}async function P_(a,e,n){a._canInitEmulator=!1;const i=Object.assign(Object.assign({},V4),e);try{const o=new U4(a),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ju(a,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const g=c.ok?h.errorMessage:h.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(a,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ju(a,"email-already-in-use",h);if(p==="USER_DISABLED")throw ju(a,"user-disabled",h);const x=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw tg(a,x,v);qn(a,x)}}catch(o){if(o instanceof Wn)throw o;qn(a,"network-request-failed",{message:String(o)})}}async function ac(a,e,n,i,o={}){const c=await wr(a,e,n,i,o);return"mfaPendingCredential"in c&&qn(a,"multi-factor-auth-required",{_serverResponse:c}),c}function L_(a,e,n,i){const o=`${e}${n}?${i}`;return a.config.emulator?rg(a.config,o):`${a.config.apiScheme}://${o}`}function L4(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yn(this.auth,"network-request-failed")),P4.get())})}}function ju(a,e,n){const i={appName:a.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Yn(a,e,i);return o.customData._tokenResponse=n,o}function Ov(a){return a!==void 0&&a.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B4(a,e){return wr(a,"GET","/v2/recaptchaConfig",ua(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(a,e){return wr(a,"POST","/v1/accounts:delete",e)}async function U_(a,e){return wr(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H4(a,e=!1){const n=Ct(a),i=await n.getIdToken(e),o=ag(i);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Ul(im(o.auth_time)),issuedAtTime:Ul(im(o.iat)),expirationTime:Ul(im(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function im(a){return Number(a)*1e3}function ag(a){const[e,n,i]=a.split(".");if(e===void 0||n===void 0||i===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const o=x_(n);return o?JSON.parse(o):(Uu("Failed to decode base64 JWT payload"),null)}catch(o){return Uu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mv(a){const e=ag(a);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(a,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Wn&&F4(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function F4({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(a){var e;const n=a.auth,i=await a.getIdToken(),o=await uo(a,U_(n,{idToken:i}));ve(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];a._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?z_(c.providerUserInfo):[],g=Q4(a.providerData,h),p=a.isAnonymous,v=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),x=p?v:!1,S={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Nm(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(a,S)}async function K4(a){const e=Ct(a);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q4(a,e){return[...a.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function z_(a){return a.map(e=>{var{providerId:n}=e,i=eg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(a,e){const n=await P_(a,{},async()=>{const i=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,h=L_(a,o,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",V_.fetch()(h,{method:"POST",headers:g,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y4(a,e){return wr(a,"POST","/v2/accounts:revokeToken",ua(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await $4(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,h=new ro;return i&&(ve(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(a,e){ve(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,c=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Nm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H4(this,e)}reload(){return K4(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await uo(this,q4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,c,h,g,p,v,x;const S=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,k=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,P=(h=n.photoURL)!==null&&h!==void 0?h:void 0,K=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,le=(v=n.createdAt)!==null&&v!==void 0?v:void 0,oe=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:W,emailVerified:re,isAnonymous:ue,providerData:Ne,stsTokenManager:O}=n;ve(W&&O,e,"internal-error");const R=ro.fromJSON(this.name,O);ve(typeof W=="string",e,"internal-error"),Ya(S,e.name),Ya(w,e.name),ve(typeof re=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Ya(k,e.name),Ya(P,e.name),Ya(K,e.name),Ya(Q,e.name),Ya(le,e.name),Ya(oe,e.name);const A=new ta({uid:W,auth:e,email:w,emailVerified:re,displayName:S,isAnonymous:ue,photoURL:P,phoneNumber:k,tenantId:K,stsTokenManager:R,createdAt:le,lastLoginAt:oe});return Ne&&Array.isArray(Ne)&&(A.providerData=Ne.map(I=>Object.assign({},I))),Q&&(A._redirectEventId=Q),A}static async _fromIdTokenResponse(e,n,i=!1){const o=new ro;o.updateFromServerResponse(n);const c=new ta({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ed(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?z_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),g=new ro;g.updateFromIdToken(i);const p=new ta({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function na(a){sa(a instanceof Function,"Expected a class definition");let e=Vv.get(a);return e?(sa(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Vv.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B_.type="NONE";const Pv=B_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(a,e,n){return`firebase:${a}:${e}:${n}`}class ao{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=zu(this.userKey,o.apiKey,c),this.fullPersistenceKey=zu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ao(na(Pv),e,i);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||na(Pv);const h=zu(i,e.config.apiKey,e.name);let g=null;for(const v of n)try{const x=await v._get(h);if(x){const S=ta._fromJSON(e,x);v!==c&&(g=S),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ao(c,e,i):(c=p[0],g&&await c._set(h,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new ao(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if($_(e))return"Webos";if(H_(e))return"Safari";if((e.includes("chrome/")||F_(e))&&!e.includes("edge/"))return"Chrome";if(K_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function q_(a=Wt()){return/firefox\//i.test(a)}function H_(a=Wt()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F_(a=Wt()){return/crios\//i.test(a)}function G_(a=Wt()){return/iemobile/i.test(a)}function K_(a=Wt()){return/android/i.test(a)}function Q_(a=Wt()){return/blackberry/i.test(a)}function $_(a=Wt()){return/webos/i.test(a)}function ig(a=Wt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function X4(a=Wt()){var e;return ig(a)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W4(){return cw()&&document.documentMode===10}function Y_(a=Wt()){return ig(a)||K_(a)||$_(a)||Q_(a)||/windows phone/i.test(a)||G_(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(a,e=[]){let n;switch(a){case"Browser":n=Lv(Wt());break;case"Worker":n=`${Lv(Wt())}-${a}`;break;default:n=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,g)=>{try{const p=e(c);h(p)}catch(p){g(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(a,e={}){return wr(a,"GET","/v2/passwordPolicy",ua(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=6;class tS{constructor(e){var n,i,o,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:eS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,c,h,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new Z4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await U_(this,{idToken:e}),i=await ta._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===g)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(aa(this));const n=e?Ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J4(this),n=new tS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new is("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&na(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(a){return Ct(a)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=pw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rS(a){Td=a}function W_(a){return Td.loadJS(a)}function aS(){return Td.recaptchaEnterpriseScript}function iS(){return Td.gapiScript}function sS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class oS{constructor(){this.enterprise=new lS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cS="recaptcha-enterprise",Z_="NO_RECAPTCHA";class uS{constructor(e){this.type=cS,this.auth=da(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,g)=>{B4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new z4(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,h(v.siteKey)}}).catch(p=>{g(p)})})}function o(c,h,g){const p=window.grecaptcha;Ov(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{h(v)}).catch(()=>{h(Z_)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oS().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(g=>{if(!n&&Ov(window.grecaptcha))o(g,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=aS();p.length!==0&&(p+=g),W_(p).then(()=>{o(g,c,h)}).catch(v=>{h(v)})}}).catch(g=>{h(g)})})}}async function zv(a,e,n,i=!1,o=!1){const c=new uS(a);let h;if(o)h=Z_;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function td(a,e,n,i,o){var c;if(!((c=a._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await zv(a,e,n,n==="getOobCode");return i(a,h)}else return i(a,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await zv(a,e,n,n==="getOobCode");return i(a,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(a,e){const n=ss(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(si(c,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function hS(a,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(na);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fS(a,e,n){const i=da(a);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=J_(e),{host:h,port:g}=mS(e),p=g===null?"":`:${g}`,v={url:`${c}//${h}${p}/`},x=Object.freeze({host:h,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(si(v,i.config.emulator)&&si(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,gS()}function J_(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function mS(a){const e=J_(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Bv(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:Bv(h)}}}function Bv(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function gS(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,n){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}async function pS(a,e){return wr(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(a,e){return ac(a,"POST","/v1/accounts:signInWithPassword",ua(a,e))}async function vS(a,e){return wr(a,"POST","/v1/accounts:sendOobCode",ua(a,e))}async function _S(a,e){return vS(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(a,e){return ac(a,"POST","/v1/accounts:signInWithEmailLink",ua(a,e))}async function xS(a,e){return ac(a,"POST","/v1/accounts:signInWithEmailLink",ua(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends sg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Kl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return td(e,n,"signInWithPassword",yS);case"emailLink":return bS(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return td(e,i,"signUpPassword",pS);case"emailLink":return xS(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(a,e){return ac(a,"POST","/v1/accounts:signInWithIdp",ua(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="http://localhost";class Zi extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,c=eg(n,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Zi(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,io(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:ES,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wS(a){const e=Ol(Ml(a)).link,n=e?Ol(Ml(e)).deep_link_id:null,i=Ol(Ml(a)).deep_link_id;return(i?Ol(Ml(i)).link:null)||i||n||e||a}class og{constructor(e){var n,i,o,c,h,g;const p=Ol(Ml(e)),v=(n=p.apiKey)!==null&&n!==void 0?n:null,x=(i=p.oobCode)!==null&&i!==void 0?i:null,S=TS((o=p.mode)!==null&&o!==void 0?o:null);ve(v&&x&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=x,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=wS(e);try{return new og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=og.parseLink(n);return ve(i,"argument-error"),Kl._fromEmailAndCode(e,i.code,i.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ic{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Jr.credential(n,i)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends ic{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends ic{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Wa.credential(n,i)}catch{return null}}}Wa.TWITTER_SIGN_IN_METHOD="twitter.com";Wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(a,e){return ac(a,"POST","/v1/accounts:signUp",ua(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await ta._fromIdTokenResponse(e,i,o),h=qv(i);return new Ji({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=qv(i);return new Ji({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function qv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Wn{constructor(e,n,i,o){var c;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new nd(e,n,i,o)}}function eb(a,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(a,c,e,i):c})}async function AS(a,e,n=!1){const i=await uo(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return Ji._forOperation(a,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(a,e,n=!1){const{auth:i}=a;if(bn(i.app))return Promise.reject(aa(i));const o="reauthenticate";try{const c=await uo(a,eb(i,o,e,a),n);ve(c.idToken,i,"internal-error");const h=ag(c.idToken);ve(h,i,"internal-error");const{sub:g}=h;return ve(a.uid===g,i,"user-mismatch"),Ji._forOperation(a,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&qn(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(a,e,n=!1){if(bn(a.app))return Promise.reject(aa(a));const i="signIn",o=await eb(a,i,e),c=await Ji._fromIdTokenResponse(a,i,o);return n||await a._updateCurrentUser(c.user),c}async function RS(a,e){return tb(da(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(a){const e=da(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CS(a,e,n){const i=da(a);await td(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_S)}async function IS(a,e,n){if(bn(a.app))return Promise.reject(aa(a));const i=da(a),h=await td(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&nb(a),p}),g=await Ji._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(g.user),g}function kS(a,e,n){return bn(a.app)?Promise.reject(aa(a)):RS(Ct(a),Eo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nb(a),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(a,e){return wr(a,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(a,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ct(a),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await uo(i,jS(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const g=i.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=i.displayName,g.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function DS(a,e,n,i){return Ct(a).onIdTokenChanged(e,n,i)}function OS(a,e,n){return Ct(a).beforeAuthStateChanged(e,n)}function ab(a,e,n,i){return Ct(a).onAuthStateChanged(e,n,i)}function MS(a){return Ct(a).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1e3,PS=10;class sb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,p)=>{this.notifyListeners(h,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);W4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PS):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sb.type="LOCAL";const LS=sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ob.type="SESSION";const lb=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const g=Array.from(h).map(async v=>v(n.origin,c)),p=await US(g);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(a="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((g,p)=>{const v=cg("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===v)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function BS(a){yr().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function qS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HS(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function FS(){return cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firebaseLocalStorageDb",GS=1,ad="firebaseLocalStorage",db="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sd(a,e){return a.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function KS(){const a=indexedDB.deleteDatabase(ub);return new sc(a).toPromise()}function Rm(){const a=indexedDB.open(ub,GS);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(ad,{keyPath:db})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(ad)?e(i):(i.close(),await KS(),e(await Rm()))})})}async function Hv(a,e,n){const i=Sd(a,!0).put({[db]:e,value:n});return new sc(i).toPromise()}async function QS(a,e){const n=Sd(a,!1).get(e),i=await new sc(n).toPromise();return i===void 0?null:i.value}function Fv(a,e){const n=Sd(a,!0).delete(e);return new sc(n).toPromise()}const $S=800,YS=3;class hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(FS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qS(),!this.activeServiceWorker)return;this.sender=new zS(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Hv(e,rd,"1"),await Fv(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>QS(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Sd(o,!1).getAll();return new sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$S)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hb.type="LOCAL";const XS=hb;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(a,e){return e?na(e):(ve(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WS(a){return tb(a.auth,new ug(a),a.bypassAuthState)}function ZS(a){const{auth:e,user:n}=a;return ve(n,e,"internal-error"),NS(n,new ug(a),a.bypassAuthState)}async function JS(a){const{auth:e,user:n}=a;return ve(n,e,"internal-error"),AS(n,new ug(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:h,type:g}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WS;case"linkViaPopup":case"linkViaRedirect":return JS;case"reauthViaPopup":case"reauthViaRedirect":return ZS;default:qn(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new rc(2e3,1e4);async function Gv(a,e,n){if(bn(a.app))return Promise.reject(Yn(a,"operation-not-supported-in-this-environment"));const i=da(a);j4(a,e,lg);const o=fb(i,n);return new Yi(i,"signInViaPopup",e,o).executeNotNull()}class Yi extends mb{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e6.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="pendingRedirect",Bu=new Map;class n6 extends mb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const i=await r6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r6(a,e){const n=s6(e),i=i6(a);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function a6(a,e){Bu.set(a._key(),e)}function i6(a){return na(a._redirectPersistence)}function s6(a){return zu(t6,a.config.apiKey,a.name)}async function o6(a,e,n=!1){if(bn(a.app))return Promise.reject(aa(a));const i=da(a),o=fb(i,e),h=await new n6(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=10*60*1e3;class c6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!gb(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function gb({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u6(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(a,e={}){return wr(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f6=/^https?/;async function m6(a){if(a.config.emulator)return;const{authorizedDomains:e}=await d6(a);for(const n of e)try{if(g6(n))return}catch{}qn(a,"unauthorized-domain")}function g6(a){const e=Am(),{protocol:n,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&i===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!f6.test(n))return!1;if(h6.test(a))return i===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new rc(3e4,6e4);function Qv(){const a=yr().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function y6(a){return new Promise((e,n)=>{var i,o,c;function h(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(Yn(a,"network-request-failed"))},timeout:p6.get()})}if(!((o=(i=yr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=yr().gapi)===null||c===void 0)&&c.load)h();else{const g=sS("iframefcb");return yr()[g]=()=>{gapi.load?h():n(Yn(a,"network-request-failed"))},W_(`${iS()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw qu=null,e})}let qu=null;function v6(a){return qu=qu||y6(a),qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new rc(5e3,15e3),b6="__/auth/iframe",x6="emulator/auth/iframe",E6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w6(a){const e=a.config;ve(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?rg(e,x6):`https://${a.config.authDomain}/${b6}`,i={apiKey:e.apiKey,appName:a.name,v:xo},o=T6.get(a.config.apiHost);o&&(i.eid=o);const c=a._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${nc(i).slice(1)}`}async function S6(a){const e=await v6(a),n=yr().gapi;return ve(n,a,"internal-error"),e.open({where:document.body,url:w6(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E6,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=Yn(a,"network-request-failed"),g=yr().setTimeout(()=>{c(h)},_6.get());function p(){yr().clearTimeout(g),o(i)}i.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N6=500,R6=600,C6="_blank",I6="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(a,e,n,i=N6,o=R6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const p=Object.assign(Object.assign({},A6),{width:i.toString(),height:o.toString(),top:c,left:h}),v=Wt().toLowerCase();n&&(g=F_(v)?C6:n),q_(v)&&(e=e||I6,p.scrollbars="yes");const x=Object.entries(p).reduce((w,[k,P])=>`${w}${k}=${P},`,"");if(X4(v)&&g!=="_self")return j6(e||"",g),new $v(null);const S=window.open(e||"",g,x);ve(S,a,"popup-blocked");try{S.focus()}catch{}return new $v(S)}function j6(a,e){const n=document.createElement("a");n.href=a,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="__/auth/handler",O6="emulator/auth/handler",M6=encodeURIComponent("fac");async function Yv(a,e,n,i,o,c){ve(a.config.authDomain,a,"auth-domain-config-required"),ve(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:i,v:xo,eventId:o};if(e instanceof lg){e.setDefaultLanguage(a.languageCode),h.providerId=e.providerId||"",gw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,S]of Object.entries({}))h[x]=S}if(e instanceof ic){const x=e.getScopes().filter(S=>S!=="");x.length>0&&(h.scopes=x.join(","))}a.tenantId&&(h.tid=a.tenantId);const g=h;for(const x of Object.keys(g))g[x]===void 0&&delete g[x];const p=await a._getAppCheckToken(),v=p?`#${M6}=${encodeURIComponent(p)}`:"";return`${V6(a)}?${nc(g).slice(1)}${v}`}function V6({config:a}){return a.emulator?rg(a,O6):`https://${a.authDomain}/${D6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class P6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=o6,this._overrideRedirectResult=a6}async _openPopup(e,n,i,o){var c;sa((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await Yv(e,n,i,Am(),o);return k6(e,h,cg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await Yv(e,n,i,Am(),o);return BS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(sa(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await S6(e),i=new c6(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[sm];h!==void 0&&n(!!h),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y_()||H_()||ig()}}const L6=P6;var Xv="@firebase/auth",Wv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B6(a){xr(new Xn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=i.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X_(a)},v=new nS(i,o,c,p);return hS(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),xr(new Xn("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(i=>new U6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(Xv,Wv,z6(a)),Bn(Xv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=5*60,H6=w_("authIdTokenMaxAge")||q6;let Zv=null;const F6=a=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>H6)return;const o=n==null?void 0:n.token;Zv!==o&&(Zv=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function G6(a=Jm()){const e=ss(a,"auth");if(e.isInitialized())return e.getImmediate();const n=dS(a,{popupRedirectResolver:L6,persistence:[XS,LS,lb]}),i=w_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=F6(c.toString());OS(n,h,()=>h(n.currentUser)),DS(n,g=>h(g))}}const o=E_("auth");return o&&fS(n,`http://${o}`),n}function K6(){var a,e;return(e=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&e!==void 0?e:document}rS({loadJS(a){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=o=>{const c=Yn("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",K6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B6("Browser");var Q6="firebase",$6="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(Q6,$6,"app");const pb="@firebase/installations",dg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=1e4,vb=`w:${dg}`,_b="FIS_v2",Y6="https://firebaseinstallations.googleapis.com/v1",X6=60*60*1e3,W6="installations",Z6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new is(W6,Z6,J6);function bb(a){return a instanceof Wn&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb({projectId:a}){return`${Y6}/projects/${a}/installations`}function Eb(a){return{token:a.token,requestStatus:2,expiresIn:t3(a.expiresIn),creationTime:Date.now()}}async function Tb(a,e){const i=(await e.json()).error;return es.create("request-failed",{requestName:a,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wb({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function e3(a,{refreshToken:e}){const n=wb(a);return n.append("Authorization",n3(e)),n}async function Sb(a){const e=await a();return e.status>=500&&e.status<600?a():e}function t3(a){return Number(a.replace("s","000"))}function n3(a){return`${_b} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const i=xb(a),o=wb(a),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:n,authVersion:_b,appId:a.appId,sdkVersion:vb},g={method:"POST",headers:o,body:JSON.stringify(h)},p=await Sb(()=>fetch(i,g));if(p.ok){const v=await p.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Eb(v.authToken)}}else throw await Tb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^[cdef][\w-]{21}$/,Cm="";function s3(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=o3(a);return i3.test(n)?n:Cm}catch{return Cm}}function o3(a){return a3(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;function Rb(a,e){const n=Ad(a);Cb(n,e),l3(n,e)}function Cb(a,e){const n=Nb.get(a);if(n)for(const i of n)i(e)}function l3(a,e){const n=c3();n&&n.postMessage({key:a,fid:e}),u3()}let Xi=null;function c3(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=a=>{Cb(a.data.key,a.data.fid)}),Xi}function u3(){Nb.size===0&&Xi&&(Xi.close(),Xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firebase-installations-database",h3=1,ts="firebase-installations-store";let om=null;function hg(){return om||(om=I_(d3,h3,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(ts)}}})),om}async function id(a,e){const n=Ad(a),o=(await hg()).transaction(ts,"readwrite"),c=o.objectStore(ts),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Rb(a,e.fid),e}async function Ib(a){const e=Ad(a),i=(await hg()).transaction(ts,"readwrite");await i.objectStore(ts).delete(e),await i.done}async function Nd(a,e){const n=Ad(a),o=(await hg()).transaction(ts,"readwrite"),c=o.objectStore(ts),h=await c.get(n),g=e(h);return g===void 0?await c.delete(n):await c.put(g,n),await o.done,g&&(!h||h.fid!==g.fid)&&Rb(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(a){let e;const n=await Nd(a.appConfig,i=>{const o=f3(i),c=m3(a,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Cm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function f3(a){const e=a||{fid:s3(),registrationStatus:0};return kb(e)}function m3(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(es.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=g3(a,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p3(a)}:{installationEntry:e}}async function g3(a,e){try{const n=await r3(a,e);return id(a.appConfig,n)}catch(n){throw bb(n)&&n.customData.serverCode===409?await Ib(a.appConfig):await id(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p3(a){let e=await Jv(a.appConfig);for(;e.registrationStatus===1;)await Ab(100),e=await Jv(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await fg(a);return i||n}return e}function Jv(a){return Nd(a,e=>{if(!e)throw es.create("installation-not-found");return kb(e)})}function kb(a){return y3(a)?{fid:a.fid,registrationStatus:0}:a}function y3(a){return a.registrationStatus===1&&a.registrationTime+yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3({appConfig:a,heartbeatServiceProvider:e},n){const i=_3(a,n),o=e3(a,n),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:vb,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(h)},p=await Sb(()=>fetch(i,g));if(p.ok){const v=await p.json();return Eb(v)}else throw await Tb("Generate Auth Token",p)}function _3(a,{fid:e}){return`${xb(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(a,e=!1){let n;const i=await Nd(a.appConfig,c=>{if(!jb(c))throw es.create("not-registered");const h=c.authToken;if(!e&&E3(h))return c;if(h.requestStatus===1)return n=b3(a,e),c;{if(!navigator.onLine)throw es.create("app-offline");const g=w3(c);return n=x3(a,g),g}});return n?await n:i.authToken}async function b3(a,e){let n=await e1(a.appConfig);for(;n.authToken.requestStatus===1;)await Ab(100),n=await e1(a.appConfig);const i=n.authToken;return i.requestStatus===0?mg(a,e):i}function e1(a){return Nd(a,e=>{if(!jb(e))throw es.create("not-registered");const n=e.authToken;return S3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function x3(a,e){try{const n=await v3(a,e),i=Object.assign(Object.assign({},e),{authToken:n});return await id(a.appConfig,i),n}catch(n){if(bb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ib(a.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await id(a.appConfig,i)}throw n}}function jb(a){return a!==void 0&&a.registrationStatus===2}function E3(a){return a.requestStatus===2&&!T3(a)}function T3(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+X6}function w3(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function S3(a){return a.requestStatus===1&&a.requestTime+yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(a){const e=a,{installationEntry:n,registrationPromise:i}=await fg(e);return i?i.catch(console.error):mg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(a,e=!1){const n=a;return await R3(n),(await mg(n,e)).token}async function R3(a){const{registrationPromise:e}=await fg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(a){if(!a||!a.options)throw lm("App Configuration");if(!a.name)throw lm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw lm(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function lm(a){return es.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="installations",I3="installations-internal",k3=a=>{const e=a.getProvider("app").getImmediate(),n=C3(e),i=ss(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},j3=a=>{const e=a.getProvider("app").getImmediate(),n=ss(e,Db).getImmediate();return{getId:()=>A3(n),getToken:o=>N3(n,o)}};function D3(){xr(new Xn(Db,k3,"PUBLIC")),xr(new Xn(I3,j3,"PRIVATE"))}D3();Bn(pb,dg);Bn(pb,dg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="analytics",O3="firebase_id",M3="origin",V3=60*1e3,P3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Ed("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new is("analytics","Analytics",L3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(a){if(!a.startsWith(gg)){const e=En.create("invalid-gtag-resource",{gtagURL:a});return un.warn(e.message),""}return a}function Ob(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function z3(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function B3(a,e){const n=z3("firebase-js-sdk-policy",{createScriptURL:U3}),i=document.createElement("script"),o=`${gg}?l=${a}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function q3(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function H3(a,e,n,i,o,c){const h=i[o];try{if(h)await e[h];else{const p=(await Ob(n)).find(v=>v.measurementId===o);p&&await e[p.appId]}}catch(g){un.error(g)}a("config",o,c)}async function F3(a,e,n,i,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const g=await Ob(n);for(const p of h){const v=g.find(S=>S.measurementId===p),x=v&&e[v.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),a("event",i,o||{})}catch(c){un.error(c)}}function G3(a,e,n,i){async function o(c,...h){try{if(c==="event"){const[g,p]=h;await F3(a,e,n,g,p)}else if(c==="config"){const[g,p]=h;await H3(a,e,n,i,g,p)}else if(c==="consent"){const[g,p]=h;a("consent",g,p)}else if(c==="get"){const[g,p,v]=h;a("get",g,p,v)}else if(c==="set"){const[g]=h;a("set",g)}else a(c,...h)}catch(g){un.error(g)}}return o}function K3(a,e,n,i,o){let c=function(...h){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=G3(c,a,e,n),{gtagCore:c,wrappedGtag:window[o]}}function Q3(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(gg)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=30,Y3=1e3;class X3{constructor(e={},n=Y3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mb=new X3;function W3(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function Z3(a){var e;const{appId:n,apiKey:i}=a,o={method:"GET",headers:W3(i)},c=P3.replace("{app-id}",n),h=await fetch(c,o);if(h.status!==200&&h.status!==304){let g="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(g=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()}async function J3(a,e=Mb,n){const{appId:i,apiKey:o,measurementId:c}=a.options;if(!i)throw En.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:i};throw En.create("no-api-key")}const h=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new nA;return setTimeout(async()=>{g.abort()},V3),Vb({appId:i,apiKey:o,measurementId:c},h,g,e)}async function Vb(a,{throttleEndTimeMillis:e,backoffCount:n},i,o=Mb){var c;const{appId:h,measurementId:g}=a;try{await eA(i,e)}catch(p){if(g)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:g};throw p}try{const p=await Z3(a);return o.deleteThrottleMetadata(h),p}catch(p){const v=p;if(!tA(v)){if(o.deleteThrottleMetadata(h),g)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:h,measurementId:g};throw p}const x=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?wv(n,o.intervalMillis,$3):wv(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return o.setThrottleMetadata(h,S),un.debug(`Calling attemptFetch again in ${x} millis`),Vb(a,S,i,o)}}function eA(a,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);a.addEventListener(()=>{clearTimeout(c),i(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tA(a){if(!(a instanceof Wn)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class nA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rA(a,e,n,i,o){if(o&&o.global){a("event",n,i);return}else{const c=await e,h=Object.assign(Object.assign({},i),{send_to:c});a("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(){if(A_())try{await N_()}catch(a){return un.warn(En.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return un.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iA(a,e,n,i,o,c,h){var g;const p=J3(a);p.then(k=>{n[k.measurementId]=k.appId,a.options.measurementId&&k.measurementId!==a.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>un.error(k)),e.push(p);const v=aA().then(k=>{if(k)return i.getId()}),[x,S]=await Promise.all([p,v]);Q3(c)||B3(c,x.measurementId),o("js",new Date);const w=(g=h==null?void 0:h.config)!==null&&g!==void 0?g:{};return w[M3]="firebase",w.update=!0,S!=null&&(w[O3]=S),o("config",x.measurementId,w),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},t1=[];const n1={};let cm="dataLayer",oA="gtag",r1,Pb,a1=!1;function lA(){const a=[];if(S_()&&a.push("This is a browser extension environment."),dw()||a.push("Cookies are not available."),a.length>0){const e=a.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function cA(a,e,n){lA();const i=a.options.appId;if(!i)throw En.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(zl[i]!=null)throw En.create("already-exists",{id:i});if(!a1){q3(cm);const{wrappedGtag:c,gtagCore:h}=K3(zl,t1,n1,cm,oA);Pb=c,r1=h,a1=!0}return zl[i]=iA(a,t1,n1,e,r1,cm,n),new sA(a)}function uA(a=Jm()){a=Ct(a);const e=ss(a,sd);return e.isInitialized()?e.getImmediate():dA(a)}function dA(a,e={}){const n=ss(a,sd);if(n.isInitialized()){const o=n.getImmediate();if(si(e,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:e})}function hA(a,e,n,i){a=Ct(a),rA(Pb,zl[a.app.options.appId],e,n,i).catch(o=>un.error(o))}const i1="@firebase/analytics",s1="0.10.12";function fA(){xr(new Xn(sd,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cA(i,o,n)},"PUBLIC")),xr(new Xn("analytics-internal",a,"PRIVATE")),Bn(i1,s1),Bn(i1,s1,"esm2017");function a(e){try{const n=e.getProvider(sd).getImmediate();return{logEvent:(i,o,c)=>hA(n,i,o,c)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}fA();var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,Lb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function A(){}A.prototype=R.prototype,O.D=R.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(I,V,z){for(var C=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)C[_t-2]=arguments[_t];return R.prototype[V].apply(I,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,A){A||(A=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(V=0;16>V;++V)I[V]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=O.g[0],A=O.g[1],V=O.g[2];var z=O.g[3],C=R+(z^A&(V^z))+I[0]+3614090360&4294967295;R=A+(C<<7&4294967295|C>>>25),C=z+(V^R&(A^V))+I[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=V+(A^z&(R^A))+I[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=A+(R^V&(z^R))+I[3]+3250441966&4294967295,A=V+(C<<22&4294967295|C>>>10),C=R+(z^A&(V^z))+I[4]+4118548399&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(V^R&(A^V))+I[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=V+(A^z&(R^A))+I[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=A+(R^V&(z^R))+I[7]+4249261313&4294967295,A=V+(C<<22&4294967295|C>>>10),C=R+(z^A&(V^z))+I[8]+1770035416&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(V^R&(A^V))+I[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=V+(A^z&(R^A))+I[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=A+(R^V&(z^R))+I[11]+2304563134&4294967295,A=V+(C<<22&4294967295|C>>>10),C=R+(z^A&(V^z))+I[12]+1804603682&4294967295,R=A+(C<<7&4294967295|C>>>25),C=z+(V^R&(A^V))+I[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=V+(A^z&(R^A))+I[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=A+(R^V&(z^R))+I[15]+1236535329&4294967295,A=V+(C<<22&4294967295|C>>>10),C=R+(V^z&(A^V))+I[1]+4129170786&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^V&(R^A))+I[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=V+(R^A&(z^R))+I[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(V^z))+I[0]+3921069994&4294967295,A=V+(C<<20&4294967295|C>>>12),C=R+(V^z&(A^V))+I[5]+3593408605&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^V&(R^A))+I[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=V+(R^A&(z^R))+I[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(V^z))+I[4]+3889429448&4294967295,A=V+(C<<20&4294967295|C>>>12),C=R+(V^z&(A^V))+I[9]+568446438&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^V&(R^A))+I[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=V+(R^A&(z^R))+I[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(V^z))+I[8]+1163531501&4294967295,A=V+(C<<20&4294967295|C>>>12),C=R+(V^z&(A^V))+I[13]+2850285829&4294967295,R=A+(C<<5&4294967295|C>>>27),C=z+(A^V&(R^A))+I[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=V+(R^A&(z^R))+I[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=A+(z^R&(V^z))+I[12]+2368359562&4294967295,A=V+(C<<20&4294967295|C>>>12),C=R+(A^V^z)+I[5]+4294588738&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^V)+I[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=V+(z^R^A)+I[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=A+(V^z^R)+I[14]+4259657740&4294967295,A=V+(C<<23&4294967295|C>>>9),C=R+(A^V^z)+I[1]+2763975236&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^V)+I[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=V+(z^R^A)+I[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=A+(V^z^R)+I[10]+3200236656&4294967295,A=V+(C<<23&4294967295|C>>>9),C=R+(A^V^z)+I[13]+681279174&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^V)+I[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=V+(z^R^A)+I[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=A+(V^z^R)+I[6]+76029189&4294967295,A=V+(C<<23&4294967295|C>>>9),C=R+(A^V^z)+I[9]+3654602809&4294967295,R=A+(C<<4&4294967295|C>>>28),C=z+(R^A^V)+I[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=V+(z^R^A)+I[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=A+(V^z^R)+I[2]+3299628645&4294967295,A=V+(C<<23&4294967295|C>>>9),C=R+(V^(A|~z))+I[0]+4096336452&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~V))+I[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=V+(R^(z|~A))+I[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=A+(z^(V|~R))+I[5]+4237533241&4294967295,A=V+(C<<21&4294967295|C>>>11),C=R+(V^(A|~z))+I[12]+1700485571&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~V))+I[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=V+(R^(z|~A))+I[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=A+(z^(V|~R))+I[1]+2240044497&4294967295,A=V+(C<<21&4294967295|C>>>11),C=R+(V^(A|~z))+I[8]+1873313359&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~V))+I[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=V+(R^(z|~A))+I[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=A+(z^(V|~R))+I[13]+1309151649&4294967295,A=V+(C<<21&4294967295|C>>>11),C=R+(V^(A|~z))+I[4]+4149444226&4294967295,R=A+(C<<6&4294967295|C>>>26),C=z+(A^(R|~V))+I[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=V+(R^(z|~A))+I[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=A+(z^(V|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var A=R-this.blockSize,I=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=A;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(I[V++]=O.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<R;)if(I[V++]=O[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var A=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=A&255,A/=256;for(this.u(O),O=Array(16),R=A=0;4>R;++R)for(var I=0;32>I;I+=8)O[A++]=this.g[R]>>>I&255;return O};function c(O,R){var A=g;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=R(O)}function h(O,R){this.h=R;for(var A=[],I=!0,V=O.length-1;0<=V;V--){var z=O[V]|0;I&&z==R||(A[V]=z,I=!1)}this.g=A}var g={};function p(O){return-128<=O&&128>O?c(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return Q(v(-O));for(var R=[],A=1,I=0;O>=A;I++)R[I]=O/A|0,A*=4294967296;return new h(R,0)}function x(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return Q(x(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),I=S,V=0;V<O.length;V+=8){var z=Math.min(8,O.length-V),C=parseInt(O.substring(V,V+z),R);8>z?(z=v(Math.pow(R,z)),I=I.j(z).add(v(C))):(I=I.j(A),I=I.add(v(C)))}return I}var S=p(0),w=p(1),k=p(16777216);a=h.prototype,a.m=function(){if(K(this))return-Q(this).m();for(var O=0,R=1,A=0;A<this.g.length;A++){var I=this.i(A);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(K(this))return"-"+Q(this).toString(O);for(var R=v(Math.pow(O,6)),A=this,I="";;){var V=re(A,R).g;A=le(A,V.j(R));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=V,P(A))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}a.l=function(O){return O=le(this,O),K(O)?-1:P(O)?0:1};function Q(O){for(var R=O.g.length,A=[],I=0;I<R;I++)A[I]=~O.g[I];return new h(A,~O.h).add(w)}a.abs=function(){return K(this)?Q(this):this},a.add=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0,V=0;V<=R;V++){var z=I+(this.i(V)&65535)+(O.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);I=C>>>16,z&=65535,C&=65535,A[V]=C<<16|z}return new h(A,A[A.length-1]&-2147483648?-1:0)};function le(O,R){return O.add(Q(R))}a.j=function(O){if(P(this)||P(O))return S;if(K(this))return K(O)?Q(this).j(Q(O)):Q(Q(this).j(O));if(K(O))return Q(this.j(Q(O)));if(0>this.l(k)&&0>O.l(k))return v(this.m()*O.m());for(var R=this.g.length+O.g.length,A=[],I=0;I<2*R;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<O.g.length;V++){var z=this.i(I)>>>16,C=this.i(I)&65535,_t=O.i(V)>>>16,ft=O.i(V)&65535;A[2*I+2*V]+=C*ft,oe(A,2*I+2*V),A[2*I+2*V+1]+=z*ft,oe(A,2*I+2*V+1),A[2*I+2*V+1]+=C*_t,oe(A,2*I+2*V+1),A[2*I+2*V+2]+=z*_t,oe(A,2*I+2*V+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new h(A,0)};function oe(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function W(O,R){this.g=O,this.h=R}function re(O,R){if(P(R))throw Error("division by zero");if(P(O))return new W(S,S);if(K(O))return R=re(Q(O),R),new W(Q(R.g),Q(R.h));if(K(R))return R=re(O,Q(R)),new W(Q(R.g),R.h);if(30<O.g.length){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var A=w,I=R;0>=I.l(O);)A=ue(A),I=ue(I);var V=Ne(A,1),z=Ne(I,1);for(I=Ne(I,2),A=Ne(A,2);!P(I);){var C=z.add(I);0>=C.l(O)&&(V=V.add(A),z=C),I=Ne(I,1),A=Ne(A,1)}return R=le(O,V.j(R)),new W(V,R)}for(V=S;0<=O.l(R);){for(A=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=v(A),C=z.j(R);K(C)||0<C.l(O);)A-=I,z=v(A),C=z.j(R);P(z)&&(z=w),V=V.add(z),O=le(O,C)}return new W(V,O)}a.A=function(O){return re(this,O).h},a.and=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)&O.i(I);return new h(A,this.h&O.h)},a.or=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)|O.i(I);return new h(A,this.h|O.h)},a.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)^O.i(I);return new h(A,this.h^O.h)};function ue(O){for(var R=O.g.length+1,A=[],I=0;I<R;I++)A[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(A,O.h)}function Ne(O,R){var A=R>>5;R%=32;for(var I=O.g.length-A,V=[],z=0;z<I;z++)V[z]=0<R?O.i(z+A)>>>R|O.i(z+A+1)<<32-R:O.i(z+A);return new h(V,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Lb=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=x,ai=h}).apply(typeof o1<"u"?o1:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ub,Vl,zb,Hu,Im,Bb,qb,Hb;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,y){if(y)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],y=y(T),y!=T&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function c(u,y){u instanceof String&&(u+="");var _=0,T=!1,U={next:function(){if(!T&&_<u.length){var H=_++;return{value:y(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function p(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function v(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function x(u,y,_){return u.call.apply(u.bind,arguments)}function S(u,y,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(y,U)}}return function(){return u.apply(y,arguments)}}function w(u,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:S,w.apply(null,arguments)}function k(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function P(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var te=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)te[Me-2]=arguments[Me];return y.prototype[U].apply(T,te)}}function K(u){const y=u.length;if(0<y){const _=Array(y);for(let T=0;T<y;T++)_[T]=u[T];return _}return[]}function Q(u,y){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let te=0;te<H;te++)u[U+te]=T[te]}else u.push(T)}}class le{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function oe(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var ue=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Ne(u,y,_){for(const T in u)y.call(_,u[T],T,u)}function O(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function R(u){const y={};for(const _ in u)y[_]=u[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,y){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let H=0;H<A.length;H++)_=A[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function z(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Fe;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class _t{constructor(){this.h=this.g=null}add(y,_){const T=ft.get();T.set(y,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new le(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,Fe=new _t,j=()=>{const u=g.Promise.resolve(void 0);_e=()=>{u.then(ee)}};var ee=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var y=ft;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,y),g.removeEventListener("test",_,y)}catch{}return u}();function Ae(u,y){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(ue){e:{try{re(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:we[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}P(Ae,ae);var we={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function rt(u,y,_,T,U){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!T,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Qe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,y,_,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var te=wn(u,y,T,U);return-1<te?(y=u[te],_||(y.fa=!1)):(y=new rt(y,this.src,H,!!T,U),y.fa=_,u.push(y)),y};function Sr(u,y){var _=y.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(Qe(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wn(u,y,_,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==y&&H.capture==!!_&&H.ha==T)return U}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),fa={};function Ar(u,y,_,T,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)Ar(u,y[H],_,T,U);return null}return _=dc(_),u&&u[mt]?u.K(y,_,v(T)?!!T.capture:!1,U):No(u,y,_,!1,T,U)}function No(u,y,_,T,U,H){if(!y)throw Error("Invalid event type");var te=v(U)?!!U.capture:!!U,Me=Ro(u);if(Me||(u[ha]=Me=new Zt(u)),_=Me.add(y,_,T,te,H),_.proxy)return _;if(T=cs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)ie||(U=te),U===void 0&&(U=!1),u.addEventListener(y.toString(),T,U);else if(u.attachEvent)u.attachEvent(ds(y.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cs(){function u(_){return y.call(u.src,u.listener,_)}const y=Gd;return u}function us(u,y,_,T,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)us(u,y[H],_,T,U);else T=v(T)?!!T.capture:!!T,_=dc(_),u&&u[mt]?(u=u.i,y=String(y).toString(),y in u.g&&(H=u.g[y],_=wn(H,_,T,U),-1<_&&(Qe(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[y],u.h--)))):u&&(u=Ro(u))&&(y=u.g[y.toString()],u=-1,y&&(u=wn(y,_,T,U)),(_=-1<u?y[u]:null)&&pi(_))}function pi(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[mt])Sr(y.i,u);else{var _=u.type,T=u.proxy;y.removeEventListener?y.removeEventListener(_,T,u.capture):y.detachEvent?y.detachEvent(ds(_),T):y.addListener&&y.removeListener&&y.removeListener(T),(_=Ro(y))?(Sr(_,u),_.h==0&&(_.src=null,y[ha]=null)):Qe(u)}}}function ds(u){return u in fa?fa[u]:fa[u]="on"+u}function Gd(u,y){if(u.da)u=!0;else{y=new Ae(y,this);var _=u.listener,T=u.ha||u.src;u.fa&&pi(u),u=_.call(T,y)}return u}function Ro(u){return u=u[ha],u instanceof Zt?u:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(u){return typeof u=="function"?u:(u[an]||(u[an]=function(y){return u.handleEvent(y)}),u[an])}function bt(){he.call(this),this.i=new Zt(this),this.M=this,this.F=null}P(bt,he),bt.prototype[mt]=!0,bt.prototype.removeEventListener=function(u,y,_,T){us(this,u,y,_,T)};function It(u,y){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=y.type||y,typeof y=="string")y=new ae(y,u);else if(y instanceof ae)y.target=y.target||u;else{var U=y;y=new ae(T,u),I(y,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var te=y.g=_[H];U=Nr(te,T,!0,y)&&U}if(te=y.g=u,U=Nr(te,T,!0,y)&&U,U=Nr(te,T,!1,y)&&U,_)for(H=0;H<_.length;H++)te=y.g=_[H],U=Nr(te,T,!1,y)&&U}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],T=0;T<_.length;T++)Qe(_[T]);delete u.g[y],u.h--}}this.F=null},bt.prototype.K=function(u,y,_,T){return this.i.add(String(u),y,!1,_,T)},bt.prototype.L=function(u,y,_,T){return this.i.add(String(u),y,!0,_,T)};function Nr(u,y,_,T){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var te=y[H];if(te&&!te.da&&te.capture==_){var Me=te.listener,Et=te.ha||te.src;te.fa&&Sr(u.i,te),U=Me.call(Et,T)!==!1&&U}}return U&&!T.defaultPrevented}function hc(u,y,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(u,y||0)}function Co(u){u.g=hc(()=>{u.g=null,u.i&&(u.i=!1,Co(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Kd extends he{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(u){he.call(this),this.h=u,this.g={}}P(yi,he);var ma=[];function Gt(u){Ne(u.g,function(y,_){this.g.hasOwnProperty(_)&&pi(y)},u),u.g={}}yi.prototype.N=function(){yi.aa.N.call(this),Gt(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=g.JSON.stringify,Zn=g.JSON.parse,Jt=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ko(){}ko.prototype.h=null;function fc(u){return u.h||(u.h=u.i())}function mc(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ga(){ae.call(this,"d")}P(ga,ae);function Hn(){ae.call(this,"c")}P(Hn,ae);var Sn={},pa=null;function hs(){return pa=pa||new bt}Sn.La="serverreachability";function jo(u){ae.call(this,Sn.La,u)}P(jo,ae);function ya(u){const y=hs();It(y,new jo(y))}Sn.STAT_EVENT="statevent";function fs(u,y){ae.call(this,Sn.STAT_EVENT,u),this.stat=y}P(fs,ae);function ut(u){const y=hs();It(y,new fs(y,u))}Sn.Ma="timingevent";function gc(u,y){ae.call(this,Sn.Ma,u),this.size=y}P(gc,ae);function va(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},y)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function pc(u,y,_,T,U,H){u.info(function(){if(u.g)if(H)for(var te="",Me=H.split("&"),Et=0;Et<Me.length;Et++){var Ve=Me[Et].split("=");if(1<Ve.length){var Dt=Ve[0];Ve=Ve[1];var Tt=Dt.split("_");te=2<=Tt.length&&Tt[1]=="type"?te+(Dt+"="+Ve+"&"):te+(Dt+"=redacted&")}}else te=null;else te=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+y+`
`+_+`
`+te})}function yc(u,y,_,T,U,H,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+y+`
`+_+`
`+H+" "+te})}function ba(u,y,_,T){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(u,_)+(T?" "+T:"")})}function er(u,y){u.info(function(){return"TIMEOUT: "+y})}_a.prototype.info=function(){};function kt(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Io(_)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function ms(){}P(ms,ko),ms.prototype.g=function(){return new XMLHttpRequest},ms.prototype.i=function(){return{}},vi=new ms;function tr(u,y,_,T){this.j=u,this.i=y,this.l=_,this.R=T||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var xa={},_i={};function Fn(u,y,_){u.L=1,u.v=Ei(at(y)),u.m=_,u.P=!0,Cr(u,null)}function Cr(u,y){u.F=Date.now(),Je(u),u.A=at(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),jr(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Do,u.g=kc(u.j,_?y:null,!u.m),0<u.O&&(u.M=new Kd(w(u.Y,u,u.g),u.O)),y=u.U,_=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ma[0]=U.toString()),U=ma);for(var H=0;H<U.length;H++){var te=Ar(_,U[H],T||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),ya(),pc(u.i,u.u,u.A,u.l,u.R,u.m)}tr.prototype.ca=function(u){u=u.target;const y=this.M;y&&In(u)==3?y.j():this.Y(u)},tr.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=In(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Tc(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Vr?ya(3):ya(2)),gs(this);var _=this.g.Z();this.X=_;t:if(Ea(this)){var T=Tc(this.g);u="";var U=T.length,H=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),hn(this);var te="";break t}this.h.i=new g.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,u+=this.h.i.decode(T[y],{stream:!(H&&y==U-1)});T.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,yc(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,_);else{this.o=!1,this.s=3,ut(12),sn(this),hn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<te.length;)if(Lt=Ta(this,te),Lt==_i){Tt==4&&(this.s=4,ut(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==xa){this.s=4,ut(15),ba(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,Lt,null),fn(this,Lt);if(Ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||te.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,te,"[Invalid Chunked Response]"),sn(this),hn(this);else if(0<te.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ci(Dt),Dt.M=!0,ut(11))}}else ba(this.i,this.l,te,null),fn(this,te);Tt==4&&sn(this),this.o&&!this.J&&(Tt==4?Rc(this.j,this):(this.o=!1,Je(this)))}else Zd(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),sn(this),hn(this)}}}catch{}finally{}};function Ea(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ta(u,y){var _=u.C,T=y.indexOf(`
`,_);return T==-1?_i:(_=Number(y.substring(_,T)),isNaN(_)?xa:(T+=1,T+_>y.length?_i:(y=y.slice(T,T+_),u.C=T+_,y)))}tr.prototype.cancel=function(){this.J=!0,sn(this)};function Je(u){u.S=Date.now()+u.I,Oo(u,u.I)}function Oo(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=va(w(u.ba,u),y)}function gs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}tr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(er(this.i,this.A),this.L!=2&&(ya(),ut(17)),sn(this),this.s=2,hn(this)):Oo(this,this.S-u)};function hn(u){u.j.G==0||u.J||Rc(u.j,u)}function sn(u){gs(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Gt(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function fn(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||wa(_.h,u))){if(!u.K&&wa(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ss(_),Ts(_);else break e;Go(_),ut(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=va(w(_.Za,_),6e3));if(1>=vc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((u.K||_.g==u)&&Ss(_),!oe(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Ve=U[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Dt=Ve[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=Ve[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Vr=Ve[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(T=1.5*Vr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Lt=u.g;if(Lt){const lr=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var H=T.h;H.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Sa(H,H.h),H.h=null))}if(T.D){const Qo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(T.ya=Qo,ze(T.I,T.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var te=u;if(T.qa=Ic(T,T.J?T.ia:null,T.W),te.K){An(T.h,te);var Me=te,Et=T.L;Et&&(Me.I=Et),Me.B&&(gs(Me),Je(Me)),T.g=te}else Ac(T);0<_.i.length&&ws(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Mr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Mr(_,7):Ho(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}ya(4)}catch{}}var Qd=class{constructor(u,y){this.g=u,this.map=y}};function Mo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vc(u){return u.h?1:u.g?u.g.size:0}function wa(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Sa(u,y){u.g?u.g.add(y):u.h=y}function An(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Mo.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function en(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return K(u.i)}function _c(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var y=[],_=u.length,T=0;T<_;T++)y.push(u[T]);return y}y=[],_=0;for(T in u)y[_++]=u[T];return y}function $d(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const T in u)y[_++]=T;return y}}}function bi(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=$d(u),T=_c(u),U=T.length,H=0;H<U;H++)y.call(void 0,T[H],_&&_[H],u)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),U=null;if(0<=T){var H=u[_].substring(0,T);U=u[_].substring(T+1)}else H=u[_];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ir(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ir){this.h=u.h,Aa(this,u.j),this.o=u.o,this.g=u.g,xi(this,u.s),this.l=u.l;var y=u.i,_=new nr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ys(this,_),this.m=u.m}else u&&(y=String(u).match(Po))?(this.h=!1,Aa(this,y[1]||"",!0),this.o=Na(y[2]||""),this.g=Na(y[3]||"",!0),xi(this,y[4]),this.l=Na(y[5]||"",!0),ys(this,y[6]||"",!0),this.m=Na(y[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Ir.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Nn(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Nn(y,Lo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Nn(_,_.charAt(0)=="/"?Uo:bc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Nn(_,Wd)),u.join("")};function at(u){return new Ir(u)}function Aa(u,y,_){u.j=_?Na(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function xi(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function ys(u,y,_){y instanceof nr?(u.i=y,zo(u.i,u.h)):(_||(y=Nn(y,Xd)),u.i=new nr(y,u.h))}function ze(u,y,_){u.i.set(y,_)}function Ei(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Na(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nn(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,Yd),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yd(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lo=/[#\/\?@]/g,bc=/[#\?:]/g,Uo=/[#\?]/g,Xd=/[#\?@]/g,Wd=/#/g;function nr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ps(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}a=nr.prototype,a.add=function(u,y){Rn(this),this.i=null,u=Dr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function vs(u,y){Rn(u),y=Dr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function kr(u,y){return Rn(u),y=Dr(u,y),u.g.has(y)}a.forEach=function(u,y){Rn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(y,U,T,this)},this)},this)},a.na=function(){Rn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let T=0;T<y.length;T++){const U=u[T];for(let H=0;H<U.length;H++)_.push(y[T])}return _},a.V=function(u){Rn(this);let y=[];if(typeof u=="string")kr(this,u)&&(y=y.concat(this.g.get(Dr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},a.set=function(u,y){return Rn(this),this.i=null,u=Dr(this,u),kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},a.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function jr(u,y,_){vs(u,y),0<_.length&&(u.i=null,u.g.set(Dr(u,y),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var T=y[_];const H=encodeURIComponent(String(T)),te=this.V(T);for(T=0;T<te.length;T++){var U=H;te[T]!==""&&(U+="="+encodeURIComponent(String(te[T]))),u.push(U)}}return this.i=u.join("&")};function Dr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function zo(u,y){y&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(vs(this,T),jr(this,U,_))},u)),u.j=y}function xc(u,y){const _=new _a;if(g.Image){const T=new Image;T.onload=k(Cn,_,"TestLoadImage: loaded",!0,y,T),T.onerror=k(Cn,_,"TestLoadImage: error",!1,y,T),T.onabort=k(Cn,_,"TestLoadImage: abort",!1,y,T),T.ontimeout=k(Cn,_,"TestLoadImage: timeout",!1,y,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else y(!1)}function Ti(u,y){const _=new _a,T=new AbortController,U=setTimeout(()=>{T.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Cn(_,"TestPingServer: error",!1,y)})}function Cn(u,y,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function wi(){this.g=new Jt}function rr(u,y,_){const T=_||"";try{bi(u,function(U,H){let te=U;v(U)&&(te=Io(U)),y.push(T+H+"="+encodeURIComponent(te))})}catch(U){throw y.push(T+"type="+encodeURIComponent("_badmap")),U}}function Ra(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Ra,ko),Ra.prototype.g=function(){return new Or(this.l,this.j)},Ra.prototype.i=function(u){return function(){return u}}({});function Or(u,y){bt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Or,bt),a=Or.prototype,a.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,ir(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ar(this):ir(this),this.readyState==3&&Bo(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ar(this))},a.Qa=function(u){this.g&&(this.response=u,ar(this))},a.ga=function(){this.g&&ar(this)};function ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}a.setRequestHeader=function(u,y){this.u.append(u,y)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qo(u){let y="";return Ne(u,function(_,T){y+=T,y+=":",y+=_,y+=`\r
`}),y}function jt(u,y,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=qo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ze(u,y,_))}function Ge(u){bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ge,bt);var _s=/^https?$/i,Si=["POST","PUT"];a=Ge.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,y,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?fc(this.o):fc(vi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(H){Ec(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Si,y,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of _)this.g.setRequestHeader(H,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ai(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ec(this,H)}};function Ec(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,bs(u),sr(u)}function bs(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),sr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Ge.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xs(this):this.bb())},a.bb=function(){xs(this)};function xs(u){if(u.h&&typeof h<"u"&&(!u.v[1]||In(u)!=4||u.Z()!=2)){if(u.u&&In(u)==4)hc(u.Ea,0,u);else if(It(u,"readystatechange"),In(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var T;if(T=te===0){var U=String(u.D).match(Po)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!_s.test(U?U.toLowerCase():"")}_=T}if(_)It(u,"complete"),It(u,"success");else{u.m=6;try{var H=2<In(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",bs(u)}}finally{sr(u)}}}}function sr(u,y){if(u.g){Ai(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||It(u,"ready");try{_.onreadystatechange=T}catch{}}}function Ai(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function In(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Zn(y)}};function Tc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zd(u){const y={};u=(u.g&&2<=In(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(oe(u[T]))continue;var _=V(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=y[U]||[];y[U]=H,H.push(_)}O(y,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Es(u){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ni("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ni("baseRetryDelayMs",5e3,u),this.cb=Ni("retryDelaySeedMs",1e4,u),this.Wa=Ni("forwardChannelMaxRetries",2,u),this.wa=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mo(u&&u.concurrentRequestLimit),this.Da=new wi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Es.prototype,a.la=8,a.G=1,a.connect=function(u,y,_,T){ut(0),this.W=u,this.H=y||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Ic(this,null,this.W),ws(this)};function Ho(u){if(wc(u),u.G==3){var y=u.U++,_=at(u.I);if(ze(_,"SID",u.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Ri(u,_),y=new tr(u,u.j,y),y.L=2,y.v=Ei(at(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=y.v,_=!0),_||(y.g=kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Cc(u)}function Ts(u){u.g&&(Ci(u),u.g.cancel(),u.g=null)}function wc(u){Ts(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ss(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ws(u){if(!Vo(u.h)&&!u.s){u.s=!0;var y=u.Ga;_e||j(),me||(_e(),me=!0),Fe.add(y,u),u.B=0}}function Jd(u,y){return vc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=va(w(u.Ga,u,y),Ko(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new tr(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),I(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Sc(this,U,y),_=at(this.I),ze(_,"RID",u),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Ri(this,_),H&&(this.O?y="headers="+encodeURIComponent(String(qo(H)))+"&"+y:this.m&&jt(_,this.m,H)),Sa(this.h,U),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),U.T=!0,Fn(U,_,null)):Fn(U,_,y),this.G=2}}else this.G==3&&(u?Fo(this,u):this.i.length==0||Vo(this.h)||Fo(this))};function Fo(u,y){var _;y?_=y.l:_=u.U++;const T=at(u.I);ze(T,"SID",u.K),ze(T,"RID",_),ze(T,"AID",u.T),Ri(u,T),u.m&&u.o&&jt(T,u.m,u.o),_=new tr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Sc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sa(u.h,_),Fn(_,T,y)}function Ri(u,y){u.H&&Ne(u.H,function(_,T){ze(y,T,_)}),u.l&&bi({},function(_,T){ze(y,T,_)})}function Sc(u,y,_){_=Math.min(u.i.length,_);var T=u.l?w(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const te=["count="+_];H==-1?0<_?(H=U[0].g,te.push("ofs="+H)):H=0:te.push("ofs="+H);let Me=!0;for(let Et=0;Et<_;Et++){let Ve=U[Et].g;const Dt=U[Et].map;if(Ve-=H,0>Ve)H=Math.max(0,U[Et].g-100),Me=!1;else try{rr(Dt,te,"req"+Ve+"_")}catch{T&&T(Dt)}}if(Me){T=te.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,T}function Ac(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;_e||j(),me||(_e(),me=!0),Fe.add(y,u),u.v=0}}function Go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=va(w(u.Fa,u),Ko(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=va(w(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Ts(this),Nc(this))};function Ci(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Nc(u){u.g=new tr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=at(u.qa);ze(y,"RID","rpc"),ze(y,"SID",u.K),ze(y,"AID",u.T),ze(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(y,"TO",u.ja),ze(y,"TYPE","xmlhttp"),Ri(u,y),u.m&&u.o&&jt(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ei(at(y)),_.m=null,_.P=!0,Cr(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Ts(this),Go(this),ut(19))};function Ss(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Rc(u,y){var _=null;if(u.g==y){Ss(u),Ci(u),u.g=null;var T=2}else if(wa(u.h,y))_=y.D,An(u.h,y),T=1;else return;if(u.G!=0){if(y.o)if(T==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=u.B;T=hs(),It(T,new gc(T,_)),ws(u)}else Ac(u);else if(U=y.s,U==3||U==0&&0<y.X||!(T==1&&Jd(u,y)||T==2&&Go(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),U){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function Ko(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function Mr(u,y){if(u.j.info("Error code "+y),y==2){var _=w(u.fb,u),T=u.Xa;const U=!T;T=new Ir(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Aa(T,"https"),Ei(T),U?xc(T.toString(),_):Ti(T.toString(),_)}else ut(2);u.G=0,u.l&&u.l.sa(y),Cc(u),wc(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Cc(u){if(u.G=0,u.ka=[],u.l){const y=en(u.h);(y.length!=0||u.i.length!=0)&&(Q(u.ka,y),Q(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Ic(u,y,_){var T=_ instanceof Ir?at(_):new Ir(_);if(T.g!="")y&&(T.g=y+"."+T.g),xi(T,T.s);else{var U=g.location;T=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new Ir(null);T&&Aa(H,T),y&&(H.g=y),U&&xi(H,U),_&&(H.l=_),T=H}return _=u.D,y=u.ya,_&&y&&ze(T,_,y),ze(T,"VER",u.la),Ri(u,T),T}function kc(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Ge(new Ra({eb:_})):new Ge(u.pa),y.Ha(u.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}a=jc.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function As(){}As.prototype.g=function(u,y){return new tn(u,y)};function tn(u,y){bt.call(this),this.g=new Es(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!oe(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!oe(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new or(this)}P(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ho(this.g)},tn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Io(u),u=_);y.i.push(new Qd(y.Ya++,u)),y.G==3&&ws(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,tn.aa.N.call(this)};function Dc(u){ga.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}P(Dc,ga);function Oc(){Hn.call(this),this.status=1}P(Oc,Hn);function or(u){this.g=u}P(or,jc),or.prototype.ua=function(){It(this.g,"a")},or.prototype.ta=function(u){It(this.g,new Dc(u))},or.prototype.sa=function(u){It(this.g,new Oc)},or.prototype.ra=function(){It(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Hb=function(){return new As},qb=function(){return hs()},Bb=Sn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Hu=xt,Rr.COMPLETE="complete",zb=Rr,mc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Vl=mc,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Ub=Ge}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore",c1="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Ed("@firebase/firestore");function Js(){return ns.logLevel}function se(a,...e){if(ns.logLevel<=ke.DEBUG){const n=e.map(pg);ns.debug(`Firestore (${To}): ${a}`,...n)}}function oa(a,...e){if(ns.logLevel<=ke.ERROR){const n=e.map(pg);ns.error(`Firestore (${To}): ${a}`,...n)}}function ho(a,...e){if(ns.logLevel<=ke.WARN){const n=e.map(pg);ns.warn(`Firestore (${To}): ${a}`,...n)}}function pg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(a="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+a;throw oa(e),new Error(e)}function Ke(a,e){a||be()}function Te(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class gA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let c=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ii)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new Fb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Yt(e)}}class yA{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vA{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new yA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _A{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const i=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new u1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new u1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=bA(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Oe(a,e){return a<e?-1:a>e?1:0}function fo(a,e,n){return a.length===e.length&&a.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=-62135596800,h1=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*h1);return new Nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d1)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h1}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-d1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Nt(0,0))}static max(){return new xe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__name__";class mr{constructor(e,n,i){n===void 0?n=0:n>e.length&&be(),i===void 0?i=e.length-n:i>e.length-n&&be(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=mr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=mr.isNumericId(e),o=mr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class ct extends mr{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mr{construct(e,n,i){return new Ht(e,n,i)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f1}static keyField(){return new Ht([f1])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(i+=g,o++):(c(),o++)}if(c(),h)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ct.fromString(e))}static fromName(e){return new pe(ct.fromString(e).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function EA(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new oi(o,pe.empty(),e)}function TA(a){return new oi(a.readTime,a.key,Ql)}class oi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new oi(xe.min(),pe.empty(),Ql)}static max(){return new oi(xe.max(),pe.empty(),Ql)}}function wA(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(a.documentKey,e.documentKey),n!==0?n:Oe(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==SA)throw a;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,i)=>{n(e)})}static reject(e){return new Y((n,i)=>{i(e)})}static waitFor(e){return new Y((n,i)=>{let o=0,c=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++c,h&&c===o&&n()},p=>i(p))}),h=!0,c===o&&n()})}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next(o=>o?Y.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,c)=>{i.push(n.call(this,o,c))}),this.waitFor(i)}static mapArray(e,n){return new Y((i,o)=>{const c=e.length,h=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(e[v]).next(x=>{h[v]=x,++g,g===c&&i(h)},x=>o(x))}})}static doWhile(e,n){return new Y((i,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):i()};c()})}}function NA(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function Cd(a){return a==null}function od(a){return a===0&&1/a==-1/0}function RA(a){return typeof a=="number"&&Number.isInteger(a)&&!od(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="";function CA(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=m1(e)),e=IA(a.get(n),e);return m1(e)}function IA(a,e){let n=e;const i=a.length;for(let o=0;o<i;o++){const c=a.charAt(o);switch(c){case"\0":n+="";break;case Kb:n+="";break;default:n+=c}}return n}function m1(a){return a+Kb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function mi(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function Qb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??qt.RED,this.left=o??qt.EMPTY,this.right=c??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new qt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,i,o,c){return this}insert(e,n,i){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p1(this.data.getIterator())}getIteratorFrom(e){return new p1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class p1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Rt(Ht.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $b("Invalid base64 string: "+c):c}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const kA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(a){if(Ke(!!a),typeof a=="string"){let e=0;const n=kA.exec(a);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(a.seconds),nanos:ht(a.nanos)}}function ht(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ci(a){return typeof a=="string"?Ft.fromBase64String(a):Ft.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="server_timestamp",Xb="__type__",Wb="__previous_value__",Zb="__local_write_time__";function vg(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xb])===null||n===void 0?void 0:n.stringValue)===Yb}function Id(a){const e=a.mapValue.fields[Wb];return vg(e)?Id(e):e}function $l(a){const e=li(a.mapValue.fields[Zb].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,i,o,c,h,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const ld="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__type__",DA="__max__",Mu={mapValue:{}},ex="__vector__",cd="value";function ui(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?vg(a)?4:MA(a)?9007199254740991:OA(a)?10:11:be()}function Er(a,e){if(a===e)return!0;const n=ui(a);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return $l(a).isEqual($l(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=li(o.timestampValue),g=li(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return ci(o.bytesValue).isEqual(ci(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return ht(o.geoPointValue.latitude)===ht(c.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ht(o.integerValue)===ht(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=ht(o.doubleValue),g=ht(c.doubleValue);return h===g?od(h)===od(g):isNaN(h)&&isNaN(g)}return!1}(a,e);case 9:return fo(a.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},g=c.mapValue.fields||{};if(g1(h)!==g1(g))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(g[p]===void 0||!Er(h[p],g[p])))return!1;return!0}(a,e);default:return be()}}function Xl(a,e){return(a.values||[]).find(n=>Er(n,e))!==void 0}function mo(a,e){if(a===e)return 0;const n=ui(a),i=ui(e);if(n!==i)return Oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(a.booleanValue,e.booleanValue);case 2:return function(c,h){const g=ht(c.integerValue||c.doubleValue),p=ht(h.integerValue||h.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return y1(a.timestampValue,e.timestampValue);case 4:return y1($l(a),$l(e));case 5:return Oe(a.stringValue,e.stringValue);case 6:return function(c,h){const g=ci(c),p=ci(h);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,h){const g=c.split("/"),p=h.split("/");for(let v=0;v<g.length&&v<p.length;v++){const x=Oe(g[v],p[v]);if(x!==0)return x}return Oe(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,h){const g=Oe(ht(c.latitude),ht(h.latitude));return g!==0?g:Oe(ht(c.longitude),ht(h.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return v1(a.arrayValue,e.arrayValue);case 10:return function(c,h){var g,p,v,x;const S=c.fields||{},w=h.fields||{},k=(g=S[cd])===null||g===void 0?void 0:g.arrayValue,P=(p=w[cd])===null||p===void 0?void 0:p.arrayValue,K=Oe(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((x=P==null?void 0:P.values)===null||x===void 0?void 0:x.length)||0);return K!==0?K:v1(k,P)}(a.mapValue,e.mapValue);case 11:return function(c,h){if(c===Mu.mapValue&&h===Mu.mapValue)return 0;if(c===Mu.mapValue)return 1;if(h===Mu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=h.fields||{},x=Object.keys(v);p.sort(),x.sort();for(let S=0;S<p.length&&S<x.length;++S){const w=Oe(p[S],x[S]);if(w!==0)return w;const k=mo(g[p[S]],v[x[S]]);if(k!==0)return k}return Oe(p.length,x.length)}(a.mapValue,e.mapValue);default:throw be()}}function y1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Oe(a,e);const n=li(a),i=li(e),o=Oe(n.seconds,i.seconds);return o!==0?o:Oe(n.nanos,i.nanos)}function v1(a,e){const n=a.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=mo(n[o],i[o]);if(c)return c}return Oe(n.length,i.length)}function go(a){return km(a)}function km(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const i=li(n);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return ci(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return pe.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=km(c);return i+"]"}(a.arrayValue):"mapValue"in a?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${km(n.fields[h])}`;return o+"}"}(a.mapValue):be()}function Fu(a){switch(ui(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(a);return e?16+Fu(e):16;case 5:return 2*a.stringValue.length;case 6:return ci(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+Fu(c),0)}(a.arrayValue);case 10:case 11:return function(i){let o=0;return mi(i.fields,(c,h)=>{o+=c.length+Fu(h)}),o}(a.mapValue);default:throw be()}}function jm(a){return!!a&&"integerValue"in a}function _g(a){return!!a&&"arrayValue"in a}function _1(a){return!!a&&"nullValue"in a}function b1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gu(a){return!!a&&"mapValue"in a}function OA(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jb])===null||n===void 0?void 0:n.stringValue)===ex}function Bl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return mi(a.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bl(i)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(a.arrayValue.values[n]);return e}return Object.assign({},a)}function MA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===DA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),i={},o=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=g.popLast()}h?i[g.lastSegment()]=Bl(h):o.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){mi(n,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new cn(Bl(this.value))}}function tx(a){const e=[];return mi(a.fields,(n,i)=>{const o=new Ht([n]);if(Gu(i)){const c=tx(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,i,o,c,h,g){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Xt(e,0,xe.min(),xe.min(),xe.min(),cn.empty(),0)}static newFoundDocument(e,n,i,o){return new Xt(e,1,n,xe.min(),i,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,xe.min(),xe.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,xe.min(),xe.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.position=e,this.inclusive=n}}function x1(a,e,n){let i=0;for(let o=0;o<a.position.length;o++){const c=e[o],h=a.position[o];if(c.field.isKeyField()?i=pe.comparator(pe.fromName(h.referenceValue),n.key):i=mo(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function E1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Er(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function VA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class At extends nx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new LA(e,n,i):n==="array-contains"?new BA(e,i):n==="in"?new qA(e,i):n==="not-in"?new HA(e,i):n==="array-contains-any"?new FA(e,i):new At(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UA(e,i):new zA(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends nx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Tr(e,n)}matches(e){return rx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rx(a){return a.op==="and"}function ax(a){return PA(a)&&rx(a)}function PA(a){for(const e of a.filters)if(e instanceof Tr)return!1;return!0}function Dm(a){if(a instanceof At)return a.field.canonicalString()+a.op.toString()+go(a.value);if(ax(a))return a.filters.map(e=>Dm(e)).join(",");{const e=a.filters.map(n=>Dm(n)).join(",");return`${a.op}(${e})`}}function ix(a,e){return a instanceof At?function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&Er(i.value,o.value)}(a,e):a instanceof Tr?function(i,o){return o instanceof Tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,g)=>c&&ix(h,o.filters[g]),!0):!1}(a,e):void be()}function sx(a){return a instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(a):a instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(sx).join(" ,")+"}"}(a):"Filter"}class LA extends At{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class UA extends At{constructor(e,n){super(e,"in",n),this.keys=ox("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zA extends At{constructor(e,n){super(e,"not-in",n),this.keys=ox("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ox(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>pe.fromName(i.referenceValue))}class BA extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Xl(n.arrayValue,this.value)}}class qA extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class HA extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class FA extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n=null,i=[],o=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=g,this.le=null}}function T1(a,e=null,n=[],i=[],o=null,c=null,h=null){return new GA(a,e,n,i,o,c,h)}function bg(a){const e=Te(a);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Dm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>go(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>go(i)).join(",")),e.le=n}return e.le}function xg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!VA(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!ix(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!E1(a.startAt,e.startAt)&&E1(a.endAt,e.endAt)}function Om(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,i=[],o=[],c=null,h="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KA(a,e,n,i,o,c,h,g){return new kd(a,e,n,i,o,c,h,g)}function Eg(a){return new kd(a)}function w1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function QA(a){return a.collectionGroup!==null}function ql(a){const e=Te(a);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Rt(Ht.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new dd(c,i))}),n.has(Ht.keyField().canonicalString())||e.he.push(new dd(Ht.keyField(),i))}return e.he}function vr(a){const e=Te(a);return e.Pe||(e.Pe=$A(e,ql(a))),e.Pe}function $A(a,e){if(a.limitType==="F")return T1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new dd(o.field,c)});const n=a.endAt?new ud(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new ud(a.startAt.position,a.startAt.inclusive):null;return T1(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function Mm(a,e,n){return new kd(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function jd(a,e){return xg(vr(a),vr(e))&&a.limitType===e.limitType}function lx(a){return`${bg(vr(a))}|lt:${a.limitType}`}function eo(a){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>sx(o)).join(", ")}]`),Cd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${i})`}(vr(a))}; limitType=${a.limitType})`}function Dd(a,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):pe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(a,e)&&function(i,o){for(const c of ql(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(i,o){return!(i.startAt&&!function(h,g,p){const v=x1(h,g,p);return h.inclusive?v<=0:v<0}(i.startAt,ql(i),o)||i.endAt&&!function(h,g,p){const v=x1(h,g,p);return h.inclusive?v>=0:v>0}(i.endAt,ql(i),o))}(a,e)}function YA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function cx(a){return(e,n)=>{let i=!1;for(const o of ql(a)){const c=XA(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function XA(a,e,n){const i=a.field.isKeyField()?pe.comparator(e.key,n.key):function(c,h,g){const p=h.data.field(c),v=g.data.field(c);return p!==null&&v!==null?mo(p,v):be()}(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new nt(pe.comparator);function la(){return WA}const ux=new nt(pe.comparator);function Pl(...a){let e=ux;for(const n of a)e=e.insert(n.key,n);return e}function dx(a){let e=ux;return a.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Wi(){return Hl()}function hx(){return Hl()}function Hl(){return new os(a=>a.toString(),(a,e)=>a.isEqual(e))}const ZA=new nt(pe.comparator),JA=new Rt(pe.comparator);function je(...a){let e=JA;for(const n of a)e=e.add(n);return e}const eN=new Rt(Oe);function tN(){return eN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function fx(a){return{integerValue:""+a}}function nN(a,e){return RA(e)?fx(e):Tg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function rN(a,e,n){return a instanceof hd?function(o,c){const h={fields:{[Xb]:{stringValue:Yb},[Zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&vg(c)&&(c=Id(c)),c&&(h.fields[Wb]=c),{mapValue:h}}(n,e):a instanceof Wl?gx(a,e):a instanceof Zl?px(a,e):function(o,c){const h=mx(o,c),g=S1(h)+S1(o.Ie);return jm(h)&&jm(o.Ie)?fx(g):Tg(o.serializer,g)}(a,e)}function aN(a,e,n){return a instanceof Wl?gx(a,e):a instanceof Zl?px(a,e):n}function mx(a,e){return a instanceof fd?function(i){return jm(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class hd extends Od{}class Wl extends Od{constructor(e){super(),this.elements=e}}function gx(a,e){const n=yx(e);for(const i of a.elements)n.some(o=>Er(o,i))||n.push(i);return{arrayValue:{values:n}}}class Zl extends Od{constructor(e){super(),this.elements=e}}function px(a,e){let n=yx(e);for(const i of a.elements)n=n.filter(o=>!Er(o,i));return{arrayValue:{values:n}}}class fd extends Od{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function S1(a){return ht(a.integerValue||a.doubleValue)}function yx(a){return _g(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function iN(a,e){return a.field.isEqual(e.field)&&function(i,o){return i instanceof Wl&&o instanceof Wl||i instanceof Zl&&o instanceof Zl?fo(i.elements,o.elements,Er):i instanceof fd&&o instanceof fd?Er(i.Ie,o.Ie):i instanceof hd&&o instanceof hd}(a.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Md{}function vx(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new bx(a.key,_r.none()):new oc(a.key,a.data,_r.none());{const n=a.data,i=cn.empty();let o=new Rt(Ht.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new gi(a.key,i,new xn(o.toArray()),_r.none())}}function oN(a,e,n){a instanceof oc?function(o,c,h){const g=o.value.clone(),p=N1(o.fieldTransforms,c,h.transformResults);g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(a,e,n):a instanceof gi?function(o,c,h){if(!Ku(o.precondition,c))return void c.convertToUnknownDocument(h.version);const g=N1(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(_x(o)),p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(a,e,n):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Fl(a,e,n,i){return a instanceof oc?function(c,h,g,p){if(!Ku(c.precondition,h))return g;const v=c.value.clone(),x=R1(c.fieldTransforms,p,h);return v.setAll(x),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(a,e,n,i):a instanceof gi?function(c,h,g,p){if(!Ku(c.precondition,h))return g;const v=R1(c.fieldTransforms,p,h),x=h.data;return x.setAll(_x(c)),x.setAll(v),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(a,e,n,i):function(c,h,g){return Ku(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(a,e,n)}function lN(a,e){let n=null;for(const i of a.fieldTransforms){const o=e.data.field(i.field),c=mx(i.transform,o||null);c!=null&&(n===null&&(n=cn.empty()),n.set(i.field,c))}return n||null}function A1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&fo(i,o,(c,h)=>iN(c,h))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class oc extends Md{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gi extends Md{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _x(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}}),e}function N1(a,e,n){const i=new Map;Ke(a.length===n.length);for(let o=0;o<n.length;o++){const c=a[o],h=c.transform,g=e.data.field(c.field);i.set(c.field,aN(h,g,n[o]))}return i}function R1(a,e,n){const i=new Map;for(const o of a){const c=o.transform,h=n.data.field(o.field);i.set(o.field,rN(c,h,e))}return i}class bx extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&oN(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=hx();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=n.has(o.key)?null:g;const p=vx(h,g);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,i)=>A1(n,i))&&fo(this.baseMutations,e.baseMutations,(n,i)=>A1(n,i))}}class wg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length);let o=function(){return ZA}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new wg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function fN(a){switch(a){case J.OK:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be()}}function xx(a){if(a===void 0)return oa("GRPC error has no .code"),J.UNKNOWN;switch(a){case vt.OK:return J.OK;case vt.CANCELLED:return J.CANCELLED;case vt.UNKNOWN:return J.UNKNOWN;case vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case vt.INTERNAL:return J.INTERNAL;case vt.UNAVAILABLE:return J.UNAVAILABLE;case vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case vt.NOT_FOUND:return J.NOT_FOUND;case vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case vt.ABORTED:return J.ABORTED;case vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case vt.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ai([4294967295,4294967295],0);function C1(a){const e=mN().encode(a),n=new Lb;return n.update(e),new Uint8Array(n.digest())}function I1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ai([n,i],0),new ai([o,c],0)]}class Sg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(i<0)throw new Ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ai.fromNumber(this.Ee)}Ae(e,n,i){let o=e.add(n.multiply(ai.fromNumber(i)));return o.compare(gN)===1&&(o=new ai([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=C1(e),[i,o]=I1(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,o,c);if(!this.Re(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Sg(c,o,n);return i.forEach(g=>h.insert(g)),h}insert(e){if(this.Ee===0)return;const n=C1(e),[i,o]=I1(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,o,c);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Vd(xe.min(),o,new nt(Oe),la(),je())}}class lc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new lc(i,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,i,o){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=o}}class Ex{constructor(e,n){this.targetId=e,this.ge=n}}class Tx{constructor(e,n,i=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class k1{constructor(){this.pe=0,this.ye=j1(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=je(),n=je(),i=je();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:be()}}),new lc(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=j1()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class pN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=la(),this.$e=Vu(),this.Ke=Vu(),this.Ue=new nt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,i=e.ge.count,o=this.Xe(n);if(o){const c=o.target;if(Om(c))if(i===0){const h=new pe(c.path);this.ze(n,h,Xt.newNoDocument(h,xe.min()))}else Ke(i===1);else{const h=this.et(n);if(h!==i){const g=this.tt(e),p=g?this.nt(g,e,h):1;if(p!==0){this.Ye(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,v)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let h,g;try{h=ci(i).toUint8Array()}catch(p){if(p instanceof $b)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Sg(h,o,c)}catch(p){return ho(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let o=0;return i.forEach(c=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,c,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((c,h)=>{const g=this.Xe(h);if(g){if(c.current&&Om(g.target)){const p=new pe(g.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Xt.newNoDocument(p,e))}c.ve&&(n.set(h,c.Fe()),c.Me())}});let i=je();this.Ke.forEach((c,h)=>{let g=!0;h.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const o=new Vd(e,n,this.Ue,this.Qe,i);return this.Qe=la(),this.$e=Vu(),this.Ke=Vu(),this.Ue=new nt(Oe),o}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new k1,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Rt(Oe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new k1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Vu(){return new nt(pe.comparator)}function j1(){return new nt(pe.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class bN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(a,e){return a.useProto3Json||Cd(e)?e:{value:e}}function md(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wx(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function xN(a,e){return md(a,e.toTimestamp())}function br(a){return Ke(!!a),xe.fromTimestamp(function(n){const i=li(n);return new Nt(i.seconds,i.nanos)}(a))}function Ag(a,e){return Pm(a,e).canonicalString()}function Pm(a,e){const n=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?n:n.child(e)}function Sx(a){const e=ct.fromString(a);return Ke(Ix(e)),e}function Lm(a,e){return Ag(a.databaseId,e.path)}function um(a,e){const n=Sx(e);if(n.get(1)!==a.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new pe(Nx(n))}function Ax(a,e){return Ag(a.databaseId,e)}function EN(a){const e=Sx(a);return e.length===4?ct.emptyPath():Nx(e)}function Um(a){return new ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Nx(a){return Ke(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function D1(a,e,n){return{name:Lm(a,e),fields:n.value.mapValue.fields}}function TN(a,e){let n;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(v,x){return v.useProto3Json?(Ke(x===void 0||typeof x=="string"),Ft.fromBase64String(x||"")):(Ke(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Ft.fromUint8Array(x||new Uint8Array))}(a,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(v){const x=v.code===void 0?J.UNKNOWN:xx(v.code);return new ge(x,v.message||"")}(h);n=new Tx(i,o,c,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=um(a,i.document.name),c=br(i.document.updateTime),h=i.document.createTime?br(i.document.createTime):xe.min(),g=new cn({mapValue:{fields:i.document.fields}}),p=Xt.newFoundDocument(o,c,h,g),v=i.targetIds||[],x=i.removedTargetIds||[];n=new Qu(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=um(a,i.document),c=i.readTime?br(i.readTime):xe.min(),h=Xt.newNoDocument(o,c),g=i.removedTargetIds||[];n=new Qu([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=um(a,i.document),c=i.removedTargetIds||[];n=new Qu([],c,o,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new hN(o,c),g=i.targetId;n=new Ex(g,h)}}return n}function wN(a,e){let n;if(e instanceof oc)n={update:D1(a,e.key,e.value)};else if(e instanceof bx)n={delete:Lm(a,e.key)};else if(e instanceof gi)n={update:D1(a,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof cN))return be();n={verify:Lm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const g=h.transform;if(g instanceof hd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fd)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw be()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:xN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be()}(a,e.precondition)),n}function SN(a,e){return a&&a.length>0?(Ke(e!==void 0),a.map(n=>function(o,c){let h=o.updateTime?br(o.updateTime):br(c);return h.isEqual(xe.min())&&(h=br(c)),new sN(h,o.transformResults||[])}(n,e))):[]}function AN(a,e){return{documents:[Ax(a,e.path)]}}function NN(a,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ax(a,o);const c=function(v){if(v.length!==0)return Cx(Tr.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(x=>function(w){return{field:to(w.field),direction:IN(w.dir)}}(x))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Vm(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:n,parent:o}}function RN(a){let e=EN(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=function(S){const w=Rx(S);return w instanceof Tr&&ax(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(w=>function(P){return new dd(no(P.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(S){let w;return w=typeof S=="object"?S.value:S,Cd(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,k=S.values||[];return new ud(k,w)}(n.startAt));let v=null;return n.endAt&&(v=function(S){const w=!S.before,k=S.values||[];return new ud(k,w)}(n.endAt)),KA(e,o,h,c,g,"F",p,v)}function CN(a,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rx(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=no(n.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(n.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(a):a.fieldFilter!==void 0?function(n){return At.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(i=>Rx(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(a):be()}function IN(a){return yN[a]}function kN(a){return vN[a]}function jN(a){return _N[a]}function to(a){return{fieldPath:a.canonicalString()}}function no(a){return Ht.fromServerFormat(a.fieldPath)}function Cx(a){return a instanceof At?function(n){if(n.op==="=="){if(b1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:kN(n.op),value:n.value}}}(a):a instanceof Tr?function(n){const i=n.getFilters().map(o=>Cx(o));return i.length===1?i[0]:{compositeFilter:{op:jN(n.op),filters:i}}}(a):be()}function DN(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ix(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i,o,c=xe.min(),h=xe.min(),g=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.Tt=e}}function MN(a){const e=RN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Tn=new PN}addToCollectionParentIndex(e,n){return this.Tn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(oi.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Rt(ct.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Rt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kx=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(kx,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new po(0)}static Un(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="LruGarbageCollector",LN=1048576;function V1([a,e],[n,i]){const o=Oe(a,n);return o===0?Oe(e,i):o}class UN{constructor(e){this.Hn=e,this.buffer=new Rt(V1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();V1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(M1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?se(M1,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.er(3e5)})}}class BN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Rd.ae);const i=new UN(n);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(O1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O1):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,o,c,h,g,p,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,g=Date.now(),this.removeTargets(e,i,n))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),Js()<=ke.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(v-p)+`ms
Total Duration: ${v-x}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function qN(a,e){return new BN(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Fl(i.mutation,o,xn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=je()){const o=Wi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(c=>{let h=Pl();return c.forEach((g,p)=>{h=h.insert(g,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,je()))}populateOverlays(e,n,i){const o=[];return i.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,i,o){let c=la();const h=Hl(),g=function(){return Hl()}();return n.forEach((p,v)=>{const x=i.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof gi)?c=c.insert(v.key,v):x!==void 0?(h.set(v.key,x.mutation.getFieldMask()),Fl(x.mutation,v,x.mutation.getFieldMask(),Nt.now())):h.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((v,x)=>h.set(v,x)),n.forEach((v,x)=>{var S;return g.set(v,new FN(x,(S=h.get(v))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,n){const i=Hl();let o=new nt((h,g)=>h-g),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let x=i.get(p)||xn.empty();x=g.applyToLocalView(v,x),i.set(p,x);const S=(o.get(g.batchId)||je()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,x=p.value,S=hx();x.forEach(w=>{if(!c.has(w)){const k=vx(n.get(w),i.get(w));k!==null&&S.set(w,k),c=c.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Y.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):Y.resolve(Wi());let g=Ql,p=c;return h.next(v=>Y.forEach(v,(x,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(x)?Y.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{p=p.insert(x,w)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,p,v,je())).next(x=>({batchId:g,changes:dx(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(i=>{let o=Pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let h=Pl();return this.indexManager.getCollectionParents(e,c).next(g=>Y.forEach(g,p=>{const v=function(S,w){return new kd(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(x=>{x.forEach((S,w)=>{h=h.insert(S,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o))).next(h=>{c.forEach((p,v)=>{const x=v.getKey();h.get(x)===null&&(h=h.insert(x,Xt.newInvalidDocument(x)))});let g=Pl();return h.forEach((p,v)=>{const x=c.get(p);x!==void 0&&Fl(x.mutation,v,xn.empty(),Nt.now()),Dd(n,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Y.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:br(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.overlays=new nt(pe.comparator),this.Rr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Wi();return Y.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,c)=>{this.Et(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const o=Wi(),c=n.length+1,h=new pe(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new nt((v,x)=>v-x);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>i){let x=c.get(v.largestBatchId);x===null&&(x=Wi(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const g=Wi(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,x)=>g.set(v,x)),!(g.size()>=o)););return Y.resolve(g)}Et(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new dN(n,i));let c=this.Rr.get(n);c===void 0&&(c=je(),this.Rr.set(n,c)),this.Rr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Vr=new Rt(Pt.mr),this.gr=new Rt(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Pt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Pt(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new pe(new ct([])),i=new Pt(n,e),o=new Pt(n,e+1),c=[];return this.gr.forEachInRange([i,o],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new ct([])),i=new Pt(n,e),o=new Pt(n,e+1);let c=je();return this.gr.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new Pt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Pt.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uN(c,n,i,o);this.mutationQueue.push(h);for(const g of o)this.Mr=this.Mr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,n){return Y.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Nr(i),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?yg:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([i,o],h=>{const g=this.Or(h.Cr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Rt(Oe);return n.forEach(o=>{const c=new Pt(o,0),h=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],g=>{i=i.add(g.Cr)})}),Y.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;pe.isDocumentKey(c)||(c=c.child(""));const h=new Pt(new pe(c),0);let g=new Rt(Oe);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(g=g.add(p.Cr)),!0)},h),Y.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Y.forEach(n.mutations,o=>{const c=new Pt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Pt(n,0),o=this.Mr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.kr=e,this.docs=function(){return new nt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let i=la();return n.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Xt.newInvalidDocument(o))}),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=la();const h=n.path,g=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||wA(TA(x),i)<=0||(o.has(x.key)||Dd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,i,o){be()}qr(e,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WN(this)}getSize(e){return Y.resolve(this.size)}}class WN extends HN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),Y.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.persistence=e,this.Qr=new os(n=>bg(n),xg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ng,this.targetCount=0,this.Ur=po.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),Y.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new po(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.zn(n),Y.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(c).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rd(0),this.zr=!1,this.zr=!0,this.jr=new $N,this.referenceDelegate=e(this),this.Hr=new ZN(this),this.indexManager=new VN,this.remoteDocumentCache=function(o){return new XN(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new ON(n),this.Yr=new KN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new YN(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);const o=new JN(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,n){return Y.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class JN extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.ti=new Ng,this.ni=null}static ri(e){return new Rg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Y.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,i=>{const o=pe.fromPath(i);return this.si(e,o).next(c=>{c||n.removeEntry(o,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Y.or([()=>Y.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class gd{constructor(e,n){this.persistence=e,this.oi=new os(i=>CA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=qN(this,n)}static ri(e,n){return new gd(e,n)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return Y.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(c=>c?Y.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(g=>{g||(i++,c.removeEntry(h,xe.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Y.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}ar(e,n,i){return Y.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=o}static Yi(e,n){let i=je(),o=je();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Cg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return uw()?8:NA(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.rs(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,n,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new eR;return this._s(e,n,h).next(g=>{if(c.result=g,this.Xi)return this.us(e,n,h,g.size)})}).next(()=>c.result)}us(e,n,i,o){return i.documentReadCount<this.es?(Js()<=ke.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(Js()<=ke.DEBUG&&se("QueryEngine","Query:",eo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Js()<=ke.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):Y.resolve())}rs(e,n){if(w1(n))return Y.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Mm(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=je(...c);return this.ns.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.cs(n,g);return this.ls(n,v,h,p.readTime)?this.rs(e,Mm(n,null,"F")):this.hs(e,v,n,p)}))})))}ss(e,n,i,o){return w1(n)||o.isEqual(xe.min())?Y.resolve(null):this.ns.getDocuments(e,i).next(c=>{const h=this.cs(n,c);return this.ls(n,h,i,o)?Y.resolve(null):(Js()<=ke.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.hs(e,h,n,EA(o,Ql)).next(g=>g))})}cs(e,n){let i=new Rt(cx(e));return n.forEach((o,c)=>{Dd(e,c)&&(i=i.add(c))}),i}ls(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,n,i){return Js()<=ke.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ns.getDocumentsMatchingQuery(e,n,oi.min(),i)}hs(e,n,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",nR=3e8;class rR{constructor(e,n,i,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new nt(Oe),this.Is=new os(c=>bg(c),xg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function aR(a,e,n,i){return new rR(a,e,n,i)}async function Dx(a,e){const n=Te(a);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],g=[];let p=je();for(const v of o){h.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of c){g.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(i,p).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:g}))})})}function iR(a,e){const n=Te(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,x){const S=v.batch,w=S.keys();let k=Y.resolve();return w.forEach(P=>{k=k.next(()=>x.getEntry(p,P)).next(K=>{const Q=v.docVersions.get(P);Ke(Q!==null),K.version.compareTo(Q)<0&&(S.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),x.addEntry(K)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(n,i,e,c).next(()=>c.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let p=je();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function Ox(a){const e=Te(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function sR(a,e){const n=Te(a),i=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const g=[];e.targetChanges.forEach((x,S)=>{const w=o.get(S);if(!w)return;g.push(n.Hr.removeMatchingKeys(c,x.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(c,x.addedDocuments,S)));let k=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Ft.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,i)),o=o.insert(S,k),function(K,Q,le){return K.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=nR?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0}(w,k,x)&&g.push(n.Hr.updateTargetData(c,k))});let p=la(),v=je();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))}),g.push(oR(c,h,e.documentUpdates).next(x=>{p=x.Vs,v=x.fs})),!i.isEqual(xe.min())){const x=n.Hr.getLastRemoteSnapshotVersion(c).next(S=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,i));g.push(x)}return Y.waitFor(g).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(n.Ts=o,c))}function oR(a,e,n){let i=je(),o=je();return n.forEach(c=>i=i.add(c)),e.getEntries(a,i).next(c=>{let h=la();return n.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(g,p.readTime),h=h.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(g,p)):se(Ig,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function lR(a,e){const n=Te(a);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=yg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function cR(a,e){const n=Te(a);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Hr.getTargetData(i,e).next(c=>c?(o=c,Y.resolve(o)):n.Hr.allocateTargetId(i).next(h=>(o=new ei(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function zm(a,e,n){const i=Te(a),o=i.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!So(h))throw h;se(Ig,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function P1(a,e,n){const i=Te(a);let o=xe.min(),c=je();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,v,x){const S=Te(p),w=S.Is.get(x);return w!==void 0?Y.resolve(S.Ts.get(w)):S.Hr.getTargetData(v,x)}(i,h,vr(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,g.targetId).next(p=>{c=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?c:je())).next(g=>(uR(i,YA(e),g),{documents:g,gs:c})))}function uR(a,e,n){let i=a.Es.get(e)||xe.min();n.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),a.Es.set(e,i)}class L1{constructor(){this.activeTargetIds=tN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(){this.ho=new L1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new L1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="ConnectivityMonitor";class z1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(U1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(U1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function Bm(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===ld?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,n,i,o,c){const h=Bm(),g=this.So(e,n.toUriEncodedString());se(dm,`Sending RPC '${e}' ${h}:`,g,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,i).then(v=>(se(dm,`Received RPC '${e}' ${h}: `,v),v),v=>{throw ho(dm,`RPC '${e}' ${h} failed with error: `,v,"url: ",g,"request:",i),v})}Co(e,n,i,o,c,h){return this.bo(e,n,i,o,c)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}So(e,n){const i=fR[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class pR extends mR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,o){const c=Bm();return new Promise((h,g)=>{const p=new Ub;p.setWithCredentials(!0),p.listenOnce(zb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Hu.NO_ERROR:const x=p.getResponseJson();se($t,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case Hu.TIMEOUT:se($t,`RPC '${e}' ${c} timed out`),g(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const S=p.getStatus();if(se($t,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const k=w==null?void 0:w.error;if(k&&k.status&&k.message){const P=function(Q){const le=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(le)>=0?le:J.UNKNOWN}(k.status);g(new ge(P,k.message))}else g(new ge(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ge(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se($t,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);se($t,`RPC '${e}' ${c} sending request:`,o),p.send(n,"POST",v,i,15)})}Wo(e,n,i){const o=Bm(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hb(),g=qb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const x=c.join("");se($t,`Creating RPC '${e}' stream ${o}: ${x}`,p);const S=h.createWebChannel(x,p);let w=!1,k=!1;const P=new gR({Fo:Q=>{k?se($t,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(w||(se($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),se($t,`RPC '${e}' stream ${o} sending:`,Q),S.send(Q))},Mo:()=>S.close()}),K=(Q,le,oe)=>{Q.listen(le,W=>{try{oe(W)}catch(re){setTimeout(()=>{throw re},0)}})};return K(S,Vl.EventType.OPEN,()=>{k||(se($t,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),K(S,Vl.EventType.CLOSE,()=>{k||(k=!0,se($t,`RPC '${e}' stream ${o} transport closed`),P.Ko())}),K(S,Vl.EventType.ERROR,Q=>{k||(k=!0,ho($t,`RPC '${e}' stream ${o} transport errored:`,Q),P.Ko(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),K(S,Vl.EventType.MESSAGE,Q=>{var le;if(!k){const oe=Q.data[0];Ke(!!oe);const W=oe,re=(W==null?void 0:W.error)||((le=W[0])===null||le===void 0?void 0:le.error);if(re){se($t,`RPC '${e}' stream ${o} received error:`,re);const ue=re.status;let Ne=function(A){const I=vt[A];if(I!==void 0)return xx(I)}(ue),O=re.message;Ne===void 0&&(Ne=J.INTERNAL,O="Unknown error status: "+ue+" with message "+re.message),k=!0,P.Ko(new ge(Ne,O)),S.close()}else se($t,`RPC '${e}' stream ${o} received:`,oe),P.Uo(oe)}}),K(g,Bb.STAT_EVENT,Q=>{Q.stat===Im.PROXY?se($t,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Im.NOPROXY&&se($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(a){return new bN(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-i);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="PersistentStream";class Vx{constructor(e,n,i,o,c,h,g,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Mx(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===n&&this.V_(i,o)},i=>{e(()=>{const o=new ge(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(B1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(se(B1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yR extends Vx{constructor(e,n,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TN(this.serializer,e),i=function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?br(h.readTime):xe.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(c,h){let g;const p=h.target;if(g=Om(p)?{documents:AN(c,p)}:{query:NN(c,p).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=wx(c,h.resumeToken);const v=Vm(c,h.expectedCount);v!==null&&(g.expectedCount=v)}else if(h.snapshotVersion.compareTo(xe.min())>0){g.readTime=md(c,h.snapshotVersion.toTimestamp());const v=Vm(c,h.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const i=CN(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.I_(n)}}class vR extends Vx{constructor(e,n,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=SN(e.writeResults,e.commitTime),i=br(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Um(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>wN(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{}class bR extends _R{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,Pm(n,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())})}Co(e,n,i,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,Pm(n,i),o,h,g,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oa(n),this.N_=!1):se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class ER{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{i.enqueueAndForget(async()=>{ls(this)&&(se(rs,"Restarting streams for network reachability change."),await async function(p){const v=Te(p);v.W_.add(4),await cc(v),v.j_.set("Unknown"),v.W_.delete(4),await Ld(v)}(this))})}),this.j_=new xR(i,o)}}async function Ld(a){if(ls(a))for(const e of a.G_)await e(!0)}async function cc(a){for(const e of a.G_)await e(!1)}function Px(a,e){const n=Te(a);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Og(n)?Dg(n):Ao(n).c_()&&jg(n,e))}function kg(a,e){const n=Te(a),i=Ao(n);n.U_.delete(e),i.c_()&&Lx(n,e),n.U_.size===0&&(i.c_()?i.P_():ls(n)&&n.j_.set("Unknown"))}function jg(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(a).y_(e)}function Lx(a,e){a.H_.Ne(e),Ao(a).w_(e)}function Dg(a){a.H_=new pN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ao(a).start(),a.j_.B_()}function Og(a){return ls(a)&&!Ao(a).u_()&&a.U_.size>0}function ls(a){return Te(a).W_.size===0}function Ux(a){a.H_=void 0}async function TR(a){a.j_.set("Online")}async function wR(a){a.U_.forEach((e,n)=>{jg(a,e)})}async function SR(a,e){Ux(a),Og(a)?(a.j_.q_(e),Dg(a)):a.j_.set("Unknown")}async function AR(a,e,n){if(a.j_.set("Online"),e instanceof Tx&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const g of c.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.U_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(i){se(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pd(a,i)}else if(e instanceof Qu?a.H_.We(e):e instanceof Ex?a.H_.Ze(e):a.H_.je(e),!n.isEqual(xe.min()))try{const i=await Ox(a.localStore);n.compareTo(i)>=0&&await function(c,h){const g=c.H_.ot(h);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.U_.get(v);x&&c.U_.set(v,x.withResumeToken(p.resumeToken,h))}}),g.targetMismatches.forEach((p,v)=>{const x=c.U_.get(p);if(!x)return;c.U_.set(p,x.withResumeToken(Ft.EMPTY_BYTE_STRING,x.snapshotVersion)),Lx(c,p);const S=new ei(x.target,p,v,x.sequenceNumber);jg(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(a,n)}catch(i){se(rs,"Failed to raise snapshot:",i),await pd(a,i)}}async function pd(a,e,n){if(!So(e))throw e;a.W_.add(1),await cc(a),a.j_.set("Offline"),n||(n=()=>Ox(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{se(rs,"Retrying IndexedDB access"),await n(),a.W_.delete(1),await Ld(a)})}function zx(a,e){return e().catch(n=>pd(a,n,e))}async function Ud(a){const e=Te(a),n=di(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:yg;for(;NR(e);)try{const o=await lR(e.localStore,i);if(o===null){e.K_.length===0&&n.P_();break}i=o.batchId,RR(e,o)}catch(o){await pd(e,o)}Bx(e)&&qx(e)}function NR(a){return ls(a)&&a.K_.length<10}function RR(a,e){a.K_.push(e);const n=di(a);n.c_()&&n.b_&&n.S_(e.mutations)}function Bx(a){return ls(a)&&!di(a).u_()&&a.K_.length>0}function qx(a){di(a).start()}async function CR(a){di(a).C_()}async function IR(a){const e=di(a);for(const n of a.K_)e.S_(n.mutations)}async function kR(a,e,n){const i=a.K_.shift(),o=wg.from(i,e,n);await zx(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Ud(a)}async function jR(a,e){e&&di(a).b_&&await async function(i,o){if(function(h){return fN(h)&&h!==J.ABORTED}(o.code)){const c=i.K_.shift();di(i).h_(),await zx(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Ud(i)}}(a,e),Bx(a)&&qx(a)}async function q1(a,e){const n=Te(a);n.asyncQueue.verifyOperationInProgress(),se(rs,"RemoteStore received new credentials");const i=ls(n);n.W_.add(3),await cc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ld(n)}async function DR(a,e){const n=Te(a);e?(n.W_.delete(2),await Ld(n)):e||(n.W_.add(2),await cc(n),n.j_.set("Unknown"))}function Ao(a){return a.J_||(a.J_=function(n,i,o){const c=Te(n);return c.M_(),new yR(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:TR.bind(null,a),No:wR.bind(null,a),Lo:SR.bind(null,a),p_:AR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Og(a)?Dg(a):a.j_.set("Unknown")):(await a.J_.stop(),Ux(a))})),a.J_}function di(a){return a.Y_||(a.Y_=function(n,i,o){const c=Te(n);return c.M_(),new vR(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:CR.bind(null,a),Lo:jR.bind(null,a),D_:IR.bind(null,a),v_:kR.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Ud(a)):(await a.Y_.stop(),a.K_.length>0&&(se(rs,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const h=Date.now()+i,g=new Mg(e,n,h,o,c);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(a,e){if(oa("AsyncQueue",`${e}: ${a}`),So(a))return new ge(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||pe.comparator(n.key,i.key):(n,i)=>pe.comparator(n.key,i.key),this.keyedMap=Pl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new so;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.Z_=new nt(pe.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class yo{constructor(e,n,i,o,c,h,g,p,v){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,n,i,o,c){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new yo(e,n,so.emptySet(n),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class MR{constructor(){this.queries=F1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const o=Te(n),c=o.queries;o.queries=F1(),c.forEach((h,g)=>{for(const p of g.ta)p.onError(i)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function F1(){return new os(a=>lx(a),jd)}async function VR(a,e){const n=Te(a);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.na()&&e.ra()&&(i=2):(c=new OR,i=e.ra()?0:1);try{switch(i){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=Vg(h,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Pg(n)}async function PR(a,e){const n=Te(a),i=e.query;let o=3;const c=n.queries.get(i);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function LR(a,e){const n=Te(a);let i=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const g of h.ta)g.oa(o)&&(i=!0);h.ea=o}}i&&Pg(n)}function UR(a,e,n){const i=Te(a),o=i.queries.get(e);if(o)for(const c of o.ta)c.onError(n);i.queries.delete(e)}function Pg(a){a.ia.forEach(e=>{e.next()})}var qm,G1;(G1=qm||(qm={}))._a="default",G1.Cache="cache";class zR{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.key=e}}class Fx{constructor(e){this.key=e}}class BR{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=cx(e),this.wa=new so(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new H1,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,S)=>{const w=o.get(x),k=Dd(this.query,S)?S:null,P=!!w&&this.mutatedKeys.has(w.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Q=!1;w&&k?w.data.isEqual(k.data)?P!==K&&(i.track({type:3,doc:k}),Q=!0):this.va(w,k)||(i.track({type:2,doc:k}),Q=!0,(p&&this.ya(k,p)>0||v&&this.ya(k,v)<0)&&(g=!0)):!w&&k?(i.track({type:0,doc:k}),Q=!0):w&&!k&&(i.track({type:1,doc:w}),Q=!0,(p||v)&&(g=!0)),Q&&(k?(h=h.add(k),c=K?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{wa:h,Da:i,ls:g,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((x,S)=>function(k,P){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return K(k)-K(P)}(x.type,S.type)||this.ya(x.doc,S.doc)),this.Ca(i),o=o!=null&&o;const g=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,v=p!==this.ga;return this.ga=p,h.length!==0||v?{snapshot:new yo(this.query,e.wa,c,h,e.mutatedKeys,p===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new H1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new Fx(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new Hx(i))}),n}Oa(e){this.fa=e.gs,this.pa=je();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lg="SyncEngine";class qR{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class HR{constructor(e){this.key=e,this.Ba=!1}}class FR{constructor(e,n,i,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new os(g=>lx(g),jd),this.qa=new Map,this.Qa=new Set,this.$a=new nt(pe.comparator),this.Ka=new Map,this.Ua=new Ng,this.Wa={},this.Ga=new Map,this.za=po.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GR(a,e,n=!0){const i=Xx(a);let o;const c=i.ka.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await Gx(i,e,n,!0),o}async function KR(a,e){const n=Xx(a);await Gx(n,e,!0,!1)}async function Gx(a,e,n,i){const o=await cR(a.localStore,vr(e)),c=o.targetId,h=a.sharedClientState.addLocalQueryTarget(c,n);let g;return i&&(g=await QR(a,e,c,h==="current",o.resumeToken)),a.isPrimaryClient&&n&&Px(a.remoteStore,o),g}async function QR(a,e,n,i,o){a.Ha=(S,w,k)=>async function(K,Q,le,oe){let W=Q.view.Sa(le);W.ls&&(W=await P1(K.localStore,Q.query,!1).then(({documents:O})=>Q.view.Sa(O,W)));const re=oe&&oe.targetChanges.get(Q.targetId),ue=oe&&oe.targetMismatches.get(Q.targetId)!=null,Ne=Q.view.applyChanges(W,K.isPrimaryClient,re,ue);return Q1(K,Q.targetId,Ne.Ma),Ne.snapshot}(a,S,w,k);const c=await P1(a.localStore,e,!0),h=new BR(e,c.gs),g=h.Sa(c.documents),p=lc.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",o),v=h.applyChanges(g,a.isPrimaryClient,p);Q1(a,n,v.Ma);const x=new qR(e,n,h);return a.ka.set(e,x),a.qa.has(n)?a.qa.get(n).push(e):a.qa.set(n,[e]),v.snapshot}async function $R(a,e,n){const i=Te(a),o=i.ka.get(e),c=i.qa.get(o.targetId);if(c.length>1)return i.qa.set(o.targetId,c.filter(h=>!jd(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&kg(i.remoteStore,o.targetId),Hm(i,o.targetId)}).catch(wo)):(Hm(i,o.targetId),await zm(i.localStore,o.targetId,!0))}async function YR(a,e){const n=Te(a),i=n.ka.get(e),o=n.qa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),kg(n.remoteStore,i.targetId))}async function XR(a,e,n){const i=rC(a);try{const o=await function(h,g){const p=Te(h),v=Nt.now(),x=g.reduce((k,P)=>k.add(P.key),je());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let P=la(),K=je();return p.ds.getEntries(k,x).next(Q=>{P=Q,P.forEach((le,oe)=>{oe.isValidDocument()||(K=K.add(le))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,P)).next(Q=>{S=Q;const le=[];for(const oe of g){const W=lN(oe,S.get(oe.key).overlayedDocument);W!=null&&le.push(new gi(oe.key,W,tx(W.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(k,v,le,g)}).next(Q=>{w=Q;const le=Q.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(k,Q.batchId,le)})}).then(()=>({batchId:w.batchId,changes:dx(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,g,p){let v=h.Wa[h.currentUser.toKey()];v||(v=new nt(Oe)),v=v.insert(g,p),h.Wa[h.currentUser.toKey()]=v}(i,o.batchId,n),await uc(i,o.changes),await Ud(i.remoteStore)}catch(o){const c=Vg(o,"Failed to persist write");n.reject(c)}}async function Kx(a,e){const n=Te(a);try{const i=await sR(n.localStore,e);e.targetChanges.forEach((o,c)=>{const h=n.Ka.get(c);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ke(h.Ba):o.removedDocuments.size>0&&(Ke(h.Ba),h.Ba=!1))}),await uc(n,i,e)}catch(i){await wo(i)}}function K1(a,e,n){const i=Te(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ka.forEach((c,h)=>{const g=h.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(h,g){const p=Te(h);p.onlineState=g;let v=!1;p.queries.forEach((x,S)=>{for(const w of S.ta)w.sa(g)&&(v=!0)}),v&&Pg(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WR(a,e,n){const i=Te(a);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ka.get(e),c=o&&o.key;if(c){let h=new nt(pe.comparator);h=h.insert(c,Xt.newNoDocument(c,xe.min()));const g=je().add(c),p=new Vd(xe.min(),new Map,new nt(Oe),h,g);await Kx(i,p),i.$a=i.$a.remove(c),i.Ka.delete(e),Ug(i)}else await zm(i.localStore,e,!1).then(()=>Hm(i,e,n)).catch(wo)}async function ZR(a,e){const n=Te(a),i=e.batch.batchId;try{const o=await iR(n.localStore,e);$x(n,i,null),Qx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await uc(n,o)}catch(o){await wo(o)}}async function JR(a,e,n){const i=Te(a);try{const o=await function(h,g){const p=Te(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return p.mutationQueue.lookupMutationBatch(v,g).next(S=>(Ke(S!==null),x=S.keys(),p.mutationQueue.removeMutationBatch(v,S))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,x,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>p.localDocuments.getDocuments(v,x))})}(i.localStore,e);$x(i,e,n),Qx(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await uc(i,o)}catch(o){await wo(o)}}function Qx(a,e){(a.Ga.get(e)||[]).forEach(n=>{n.resolve()}),a.Ga.delete(e)}function $x(a,e,n){const i=Te(a);let o=i.Wa[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Hm(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.qa.get(e))a.ka.delete(i),n&&a.La.Ja(i,n);a.qa.delete(e),a.isPrimaryClient&&a.Ua.Sr(e).forEach(i=>{a.Ua.containsKey(i)||Yx(a,i)})}function Yx(a,e){a.Qa.delete(e.path.canonicalString());const n=a.$a.get(e);n!==null&&(kg(a.remoteStore,n),a.$a=a.$a.remove(e),a.Ka.delete(n),Ug(a))}function Q1(a,e,n){for(const i of n)i instanceof Hx?(a.Ua.addReference(i.key,e),eC(a,i)):i instanceof Fx?(se(Lg,"Document no longer in limbo: "+i.key),a.Ua.removeReference(i.key,e),a.Ua.containsKey(i.key)||Yx(a,i.key)):be()}function eC(a,e){const n=e.key,i=n.path.canonicalString();a.$a.get(n)||a.Qa.has(i)||(se(Lg,"New document in limbo: "+n),a.Qa.add(i),Ug(a))}function Ug(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const n=new pe(ct.fromString(e)),i=a.za.next();a.Ka.set(i,new HR(n)),a.$a=a.$a.insert(n,i),Px(a.remoteStore,new ei(vr(Eg(n.path)),i,"TargetPurposeLimboResolution",Rd.ae))}}async function uc(a,e,n){const i=Te(a),o=[],c=[],h=[];i.ka.isEmpty()||(i.ka.forEach((g,p)=>{h.push(i.Ha(p,e,n).then(v=>{var x;if((v||n)&&i.isPrimaryClient){const S=v?!v.fromCache:(x=n==null?void 0:n.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Cg.Yi(p.targetId,v);c.push(S)}}))}),await Promise.all(h),i.La.p_(o),await async function(p,v){const x=Te(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Y.forEach(v,w=>Y.forEach(w.Hi,k=>x.persistence.referenceDelegate.addReference(S,w.targetId,k)).next(()=>Y.forEach(w.Ji,k=>x.persistence.referenceDelegate.removeReference(S,w.targetId,k)))))}catch(S){if(!So(S))throw S;se(Ig,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const k=x.Ts.get(w),P=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(P);x.Ts=x.Ts.insert(w,K)}}}(i.localStore,c))}async function tC(a,e){const n=Te(a);if(!n.currentUser.isEqual(e)){se(Lg,"User change. New user:",e.toKey());const i=await Dx(n.localStore,e);n.currentUser=e,function(c,h){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ge(J.CANCELLED,h))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uc(n,i.Rs)}}function nC(a,e){const n=Te(a),i=n.Ka.get(e);if(i&&i.Ba)return je().add(i.key);{let o=je();const c=n.qa.get(e);if(!c)return o;for(const h of c){const g=n.ka.get(h);o=o.unionWith(g.view.ba)}return o}}function Xx(a){const e=Te(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.La.p_=LR.bind(null,e.eventManager),e.La.Ja=UR.bind(null,e.eventManager),e}function rC(a){const e=Te(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JR.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return aR(this.persistence,new tR,e.initialUser,this.serializer)}Xa(e){return new jx(Rg.ri,this.serializer)}Za(e){return new dR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class aC extends yd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof gd);const i=this.persistence.referenceDelegate.garbageCollector;return new zN(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new jx(i=>gd.ri(i,n),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>K1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tC.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MR}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),i=function(c){return new pR(c)}(e.databaseInfo);return function(c,h,g,p){return new bR(c,h,g,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,c,h,g){return new ER(i,o,c,h,g)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return z1.D()?new z1:new hR}())}createSyncEngine(e,n){return function(o,c,h,g,p,v,x){const S=new FR(o,c,h,g,p,v);return x&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=Te(o);se(rs,"RemoteStore shutting down."),c.W_.add(5),await cc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="FirestoreClient";class sC{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{se(hi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(se(hi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fm(a,e){a.asyncQueue.verifyOperationInProgress(),se(hi,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Dx(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function $1(a,e){a.asyncQueue.verifyOperationInProgress();const n=await oC(a);se(hi,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(i=>q1(e.remoteStore,i)),a.setAppCheckTokenChangeListener((i,o)=>q1(e.remoteStore,o)),a._onlineComponents=e}async function oC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){se(hi,"Using user provided OfflineComponentProvider");try{await fm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await fm(a,new yd)}}else se(hi,"Using default OfflineComponentProvider"),await fm(a,new aC(void 0));return a._offlineComponents}async function Wx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(se(hi,"Using user provided OnlineComponentProvider"),await $1(a,a._uninitializedComponentsProvider._online)):(se(hi,"Using default OnlineComponentProvider"),await $1(a,new Fm))),a._onlineComponents}function lC(a){return Wx(a).then(e=>e.syncEngine)}async function cC(a){const e=await Wx(a),n=e.eventManager;return n.onListen=GR.bind(null,e.syncEngine),n.onUnlisten=$R.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),n}function uC(a,e,n={}){const i=new ii;return a.asyncQueue.enqueueAndForget(async()=>function(c,h,g,p,v){const x=new iC({next:w=>{x.su(),h.enqueueAndForget(()=>PR(c,S));const k=w.docs.has(g);!k&&w.fromCache?v.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?v.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new zR(Eg(g.path),x,{includeMetadataChanges:!0,Ta:!0});return VR(c,S)}(await cC(a),a.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(a,e,n){if(!n)throw new ge(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function hC(a,e,n,i){if(e===!0&&i===!0)throw new ge(J.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function X1(a){if(!pe.isDocumentKey(a))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function zg(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":be()}function as(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(a);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firestore.googleapis.com",W1=!0;class Z1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jx,this.ssl=W1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:W1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mA;switch(i.type){case"firstParty":return new vA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Y1.get(n);i&&(se("ComponentProvider","Removing Datastore"),Y1.delete(n),i.terminate())}(this),Promise.resolve()}}function fC(a,e,n,i={}){var o;const c=(a=as(a,Bg))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${n}`;c.host!==Jx&&c.host!==g&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:i});if(!si(p,h)&&(a._setSettings(p),i.mockUserToken)){let v,x;if(typeof i.mockUserToken=="string")v=i.mockUserToken,x=Yt.MOCK_USER;else{v=aw(i.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Yt(S)}a._authCredentials=new gA(new Fb(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qg(this.firestore,e,this._query)}}class Tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Jl extends qg{constructor(e,n,i){super(e,n,Eg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new pe(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function oo(a,e,...n){if(a=Ct(a),arguments.length===1&&(e=Gb.newId()),dC("doc","path",e),a instanceof Bg){const i=ct.fromString(e,...n);return X1(i),new Tn(a,null,new pe(i))}{if(!(a instanceof Tn||a instanceof Jl))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(ct.fromString(e,...n));return X1(i),new Tn(a.firestore,a instanceof Jl?a.converter:null,new pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="AsyncQueue";class e_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Mx(this,"async_queue_retry"),this.bu=()=>{const i=hm();i&&se(J1,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;se(J1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),g}(i);throw oa("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Mg.createAndSchedule(this,e,n,i,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class zd extends Bg{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new e_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function mC(a,e){const n=typeof a=="object"?a:Jm(),i=typeof a=="string"?a:ld,o=ss(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=nw("firestore");c&&fC(o,...c)}return o}function e2(a){if(a._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||gC(a),a._firestoreClient}function gC(a){var e,n,i;const o=a._freezeSettings(),c=function(g,p,v,x){return new jA(g,p,v,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Zx(x.experimentalLongPollingOptions),x.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new sC(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Ft.fromBase64String(e))}catch(n){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^__.*__$/;class yC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new oc(e,this.data,n,this.fieldTransforms)}}class t2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n2(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Kg{constructor(e,n,i,o,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(n2(this.Lu)&&pC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vC{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Pd(e)}ju(e,n,i,o=!1){return new Kg({Lu:e,methodName:n,zu:i,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r2(a){const e=a._freezeSettings(),n=Pd(a._databaseId);return new vC(a._databaseId,!!e.ignoreUndefinedProperties,n)}function _C(a,e,n,i,o,c={}){const h=a.ju(c.merge||c.mergeFields?2:0,e,n,o);Qg("Data must be an object, but it was:",h,i);const g=a2(i,h);let p,v;if(c.merge)p=new xn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const w=Gm(e,S,n);if(!h.contains(w))throw new ge(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);s2(x,w)||x.push(w)}p=new xn(x),v=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,v=h.fieldTransforms;return new yC(new cn(g),p,v)}class qd extends Hg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function bC(a,e,n,i){const o=a.ju(1,e,n);Qg("Data must be an object, but it was:",o,i);const c=[],h=cn.empty();mi(i,(p,v)=>{const x=$g(e,p,n);v=Ct(v);const S=o.Ku(x);if(v instanceof qd)c.push(x);else{const w=Hd(v,S);w!=null&&(c.push(x),h.set(x,w))}});const g=new xn(c);return new t2(h,g,o.fieldTransforms)}function xC(a,e,n,i,o,c){const h=a.ju(1,e,n),g=[Gm(e,i,n)],p=[o];if(c.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Gm(e,c[w])),p.push(c[w+1]);const v=[],x=cn.empty();for(let w=g.length-1;w>=0;--w)if(!s2(v,g[w])){const k=g[w];let P=p[w];P=Ct(P);const K=h.Ku(k);if(P instanceof qd)v.push(k);else{const Q=Hd(P,K);Q!=null&&(v.push(k),x.set(k,Q))}}const S=new xn(v);return new t2(x,S,h.fieldTransforms)}function Hd(a,e){if(i2(a=Ct(a)))return Qg("Unsupported field value:",e,a),a2(a,e);if(a instanceof Hg)return function(i,o){if(!n2(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const g of i){let p=Hd(g,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(a,e)}return function(i,o){if((i=Ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Nt.fromDate(i);return{timestampValue:md(o.serializer,c)}}if(i instanceof Nt){const c=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:md(o.serializer,c)}}if(i instanceof Fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vo)return{bytesValue:wx(o.serializer,i._byteString)};if(i instanceof Tn){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ag(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Gg)return function(h,g){return{mapValue:{fields:{[Jb]:{stringValue:ex},[cd]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return Tg(g.serializer,v)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${zg(i)}`)}(a,e)}function a2(a,e){const n={};return Qb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(a,(i,o)=>{const c=Hd(o,e.qu(i));c!=null&&(n[i]=c)}),{mapValue:{fields:n}}}function i2(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Nt||a instanceof Fg||a instanceof vo||a instanceof Tn||a instanceof Hg||a instanceof Gg)}function Qg(a,e,n){if(!i2(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=zg(n);throw i==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+i)}}function Gm(a,e,n){if((e=Ct(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return $g(a,e);throw vd("Field path arguments must be of type string or ",a,!1,void 0,n)}const EC=new RegExp("[~\\*/\\[\\]]");function $g(a,e,n){if(e.search(EC)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new Bd(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function vd(a,e,n,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ge(J.INVALID_ARGUMENT,g+a+p)}function s2(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TC extends o2{data(){return super.data()}}function l2(a,e){return typeof e=="string"?$g(a,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}class wC{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return mi(e,(o,c)=>{i[o]=this.convertValue(c,n)}),i}convertVectorValue(e){var n,i,o;const c=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[cd].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>ht(h.doubleValue));return new Gg(c)}convertGeoPoint(e){return new Fg(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Id(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=li(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);Ke(Ix(i));const o=new Yl(i.get(1),i.get(3)),c=new pe(i.popFirst(5));return o.isEqual(n)||oa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(a,e,n){let i;return i=a?a.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c2 extends o2{constructor(e,n,i,o,c,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new NC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(l2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class NC extends c2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(a){a=as(a,Tn);const e=as(a.firestore,zd);return uC(e2(e),a._key).then(n=>CC(e,a,n))}class RC extends wC{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Qm(a,e,n){a=as(a,Tn);const i=as(a.firestore,zd),o=SC(a.converter,e);return u2(i,[_C(r2(i),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,_r.none())])}function t_(a,e,n,...i){a=as(a,Tn);const o=as(a.firestore,zd),c=r2(o);let h;return h=typeof(e=Ct(e))=="string"||e instanceof Bd?xC(c,"updateDoc",a._key,e,n,i):bC(c,"updateDoc",a._key,e),u2(o,[h.toMutation(a._key,_r.exists(!0))])}function u2(a,e){return function(i,o){const c=new ii;return i.asyncQueue.enqueueAndForget(async()=>XR(await lC(i),o,c)),c.promise}(e2(a),e)}function CC(a,e,n){const i=n.docs.get(e._key),o=new RC(a);return new c2(a,o,e._key,i,new AC(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){To=o})(xo),xr(new Xn("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),g=new zd(new pA(i.getProvider("auth-internal")),new _A(h,i.getProvider("app-check-internal")),function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(v.options.projectId,x)}(h,o),h);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Bn(l1,c1,e),Bn(l1,c1,"esm2017")})();const IC={apiKey:"AIzaSyDTh_z0-ndTZAQJNZOrDkud3v4CHL-2pk8",authDomain:"petshelterapp-f3b8e.firebaseapp.com",projectId:"petshelterapp-f3b8e",storageBucket:"petshelterapp-f3b8e.firebasestorage.app",messagingSenderId:"638549761559",appId:"1:638549761559:web:4116c5619924e20e638652",measurementId:"G-68R08RRR6E"},Yg=k_(IC);uA(Yg);const pr=G6(Yg),lo=mC(Yg),Fd=({isDarkMode:a,toggleDarkMode:e})=>{const[n,i]=X.useState(null),[o,c]=X.useState(!1),[h,g]=X.useState(null),[p,v]=X.useState(a||localStorage.getItem("darkMode")==="true"),[x,S]=X.useState(null),w=fi(),k=ca(),P=X.useRef(),K=X.useRef(),Q=[{name:"Adoptar",to:"/adopt",subItems:null},{name:"Colaborar",to:"/collaborate",subItems:null},{name:"Quiénes Somos",to:"/about",subItems:null},{name:"Dónde Estamos",to:"/location",subItems:null}];X.useEffect(()=>{const W=ab(pr,re=>{S(re),console.log("Estado de autenticación:",re?"Usuario autenticado":"No autenticado")});return()=>W()},[]);const le=async()=>{try{await MS(pr),k("/login"),c(!1)}catch(W){console.error("Error al cerrar sesión:",W)}},oe=()=>{typeof e=="function"?e():v(W=>{const re=!W;return document.documentElement.classList.toggle("dark",re),localStorage.setItem("darkMode",re),re})};return X.useEffect(()=>{const W=localStorage.getItem("darkMode")==="true",re=a!==void 0?a:W;v(re),document.documentElement.classList.toggle("dark",re)},[a]),X.useEffect(()=>{const W=re=>{o&&P.current&&K.current&&!P.current.contains(re.target)&&(c(!1),g(null))};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[o]),X.useEffect(()=>{c(!1),g(null)},[w.pathname]),f.jsx("nav",{className:"bg-[#e8eef4] dark:bg-gray-900 shadow-lg fixed w-full z-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between h-16 items-center",children:[f.jsx(lt,{to:"/",className:"text-2xl font-bold text-[#9acd32] dark:text-blue-400 hover:text-blue-600 dark:hover:text-blue-300 transition-all duration-300",children:"Guau & Miau"}),f.jsxs("div",{className:"hidden md:flex md:space-x-8 items-center",children:[Q.map((W,re)=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(lt,{to:W.to,className:`inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-300 ${w.pathname===W.to&&W.subItems?"border-b-2 border-blue-700 dark:border-blue-400":""}`,children:W.name}),W.subItems&&f.jsx("button",{className:"ml-1 p-1",onMouseEnter:()=>i(re),onMouseLeave:()=>i(null),children:f.jsx(Xf,{className:"h-4 w-4 transition-transform duration-300"})})]}),W.subItems&&n===re&&f.jsx("div",{className:"absolute pt-2 animate-slide-down",onMouseEnter:()=>i(re),onMouseLeave:()=>i(null),children:f.jsx("div",{className:"bg-[#9acd32] dark:bg-gray-800 rounded-lg shadow-lg py-2 min-w-[200px] transition-all duration-300",children:W.subItems.map(ue=>f.jsx(lt,{to:`${W.to}/${ue.toLowerCase().replace(" ","-")}`,className:"block px-4 py-2 text-sm text-white dark:text-gray-200 hover:bg-blue-600 dark:hover:bg-gray-700 transition-all duration-300",children:ue},ue))})})]},W.name)),f.jsx("button",{onClick:oe,className:"p-2 rounded-full hover:bg-blue-400 dark:hover:bg-gray-700 transition-all duration-300",children:p?f.jsx(pv,{className:"h-6 w-6 text-blue-700 dark:text-gray-300 transition-colors duration-300"}):f.jsx(yv,{className:"h-6 w-6 text-gray-700 dark:text-gray-300 transition-colors duration-300"})}),x?f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onMouseEnter:()=>i("profile"),onMouseLeave:()=>i(null),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-300",children:[x.displayName||"Perfil",f.jsx(Xf,{className:"ml-1 h-4 w-4 transition-transform duration-300"})]}),n==="profile"&&f.jsx("div",{className:"absolute pt-2 animate-slide-down right-0",onMouseEnter:()=>i("profile"),onMouseLeave:()=>i(null),children:f.jsxs("div",{className:"bg-[#9acd32] dark:bg-gray-800 rounded-lg shadow-lg py-2 min-w-[150px] transition-all duration-300",children:[f.jsx(lt,{to:"/profile",className:"block px-4 py-2 text-sm text-white dark:text-gray-200 hover:bg-blue-600 dark:hover:bg-gray-700 transition-all duration-300",children:"Mi Perfil"}),f.jsx("button",{onClick:le,className:"block w-full text-left px-4 py-2 text-sm text-white dark:text-gray-200 hover:bg-blue-600 dark:hover:bg-gray-700 transition-all duration-300",children:"Cerrar Sesión"})]})})]}):f.jsx(lt,{to:w.pathname==="/login"?"/signup":"/login",className:"inline-flex items-center px-4 py-2 bg-[#9acd32] text-white rounded-full hover:bg-blue-800 transition-all duration-300 shadow-md hover:shadow-lg dark:bg-blue-600 dark:hover:bg-blue-700",children:w.pathname==="/login"?"Sign Up":"Sign In"})]}),f.jsx("div",{className:"md:hidden flex items-center",children:f.jsxs("button",{ref:K,onClick:()=>c(!o),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none transition-all duration-300","aria-expanded":o,children:[f.jsx("svg",{className:`h-6 w-6 transition-transform ${o?"hidden":"block"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),f.jsx("svg",{className:`h-6 w-6 transition-transform ${o?"block":"hidden"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]}),f.jsx("div",{ref:P,className:`md:hidden fixed top-16 left-0 right-0 bg-[#e8eef4] dark:bg-gray-900 shadow-lg transition-all duration-300 overflow-hidden ${o?"max-h-screen opacity-100":"max-h-0 opacity-0"}`,children:f.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[Q.map((W,re)=>f.jsx("div",{children:W.subItems?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>g(h===re?null:re),className:"w-full flex justify-between items-center px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[f.jsx("span",{children:W.name}),f.jsx(Xf,{className:`h-4 w-4 transform transition-transform ${h===re?"rotate-180":""}`})]}),h===re&&f.jsx("div",{className:"pl-4 space-y-2",children:W.subItems.map(ue=>f.jsx(lt,{to:`${W.to}/${ue.toLowerCase().replace(" ","-")}`,className:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>c(!1),children:ue},ue))})]}):f.jsx(lt,{to:W.to,className:"block px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>c(!1),children:W.name})},W.name)),f.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.jsxs("button",{onClick:oe,className:"w-full flex items-center justify-center px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[p?f.jsx(pv,{className:"h-6 w-6 mr-2 text-blue-700 dark:text-gray-300"}):f.jsx(yv,{className:"h-6 w-6 mr-2 text-gray-700 dark:text-gray-300"}),p?"Modo Oscuro":"Modo Claro"]}),x?f.jsxs(f.Fragment,{children:[f.jsx(lt,{to:"/profile",className:"block px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>c(!1),children:"Mi Perfil"}),f.jsx("button",{onClick:le,className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:"Cerrar Sesión"})]}):f.jsx(lt,{to:w.pathname==="/login"?"/signup":"/login",className:"block mt-2 w-full px-4 py-2 text-center bg-[#9acd32] text-white rounded-full hover:bg-blue-800 transition-all duration-300 shadow-md hover:shadow-lg dark:bg-blue-600 dark:hover:bg-blue-700",onClick:()=>c(!1),children:w.pathname==="/login"?"Sign Up":"Sign In"})]})]})})]})})};Fd.propTypes={isDarkMode:xv.bool.isRequired,toggleDarkMode:xv.func.isRequired};function d2(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(a)}function h2(a){return He({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function kC(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(a)}function jC(a){return He({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(a)}function Xg(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.59 192c-20.18 0-106.82 1.98-162.59 85.95V192c0-52.94-43.06-96-96-96-17.67 0-32 14.33-32 32s14.33 32 32 32c17.64 0 32 14.36 32 32v256c0 35.3 28.7 64 64 64h176c8.84 0 16-7.16 16-16v-16c0-17.67-14.33-32-32-32h-32l128-96v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V289.86c-10.29 2.67-20.89 4.54-32 4.54-61.81 0-113.52-44.05-125.41-102.4zM448 96h-64l-64-64v134.4c0 53.02 42.98 96 96 96s96-42.98 96-96V32l-64 64zm-72 80c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16zm80 0c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16z"},child:[]}]})(a)}function n_(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(a)}function Lu(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(a)}function DC(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(a)}function Wg(a){return He({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M298.06,224,448,277.55V496a16,16,0,0,1-16,16H368a16,16,0,0,1-16-16V384H192V496a16,16,0,0,1-16,16H112a16,16,0,0,1-16-16V282.09C58.84,268.84,32,233.66,32,192a32,32,0,0,1,64,0,32.06,32.06,0,0,0,32,32ZM544,112v32a64,64,0,0,1-64,64H448v35.58L320,197.87V48c0-14.25,17.22-21.39,27.31-11.31L374.59,64h53.63c10.91,0,23.75,7.92,28.62,17.69L464,96h64A16,16,0,0,1,544,112Zm-112,0a16,16,0,1,0-16,16A16,16,0,0,0,432,112Z"},child:[]}]})(a)}function r_(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 416c114.9 0 208-93.1 208-208S370.9 0 256 0 48 93.1 48 208s93.1 208 208 208zM233.8 97.4V80.6c0-9.2 7.4-16.6 16.6-16.6h11.1c9.2 0 16.6 7.4 16.6 16.6v17c15.5.8 30.5 6.1 43 15.4 5.6 4.1 6.2 12.3 1.2 17.1L306 145.6c-3.8 3.7-9.5 3.8-14 1-5.4-3.4-11.4-5.1-17.8-5.1h-38.9c-9 0-16.3 8.2-16.3 18.3 0 8.2 5 15.5 12.1 17.6l62.3 18.7c25.7 7.7 43.7 32.4 43.7 60.1 0 34-26.4 61.5-59.1 62.4v16.8c0 9.2-7.4 16.6-16.6 16.6h-11.1c-9.2 0-16.6-7.4-16.6-16.6v-17c-15.5-.8-30.5-6.1-43-15.4-5.6-4.1-6.2-12.3-1.2-17.1l16.3-15.5c3.8-3.7 9.5-3.8 14-1 5.4 3.4 11.4 5.1 17.8 5.1h38.9c9 0 16.3-8.2 16.3-18.3 0-8.2-5-15.5-12.1-17.6l-62.3-18.7c-25.7-7.7-43.7-32.4-43.7-60.1.1-34 26.4-61.5 59.1-62.4zM480 352h-32.5c-19.6 26-44.6 47.7-73 64h63.8c5.3 0 9.6 3.6 9.6 8v16c0 4.4-4.3 8-9.6 8H73.6c-5.3 0-9.6-3.6-9.6-8v-16c0-4.4 4.3-8 9.6-8h63.8c-28.4-16.3-53.3-38-73-64H32c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32v-96c0-17.7-14.3-32-32-32z"},child:[]}]})(a)}function co(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(a)}function OC(a){return He({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"},child:[]}]})(a)}function a_(a){return He({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(a)}function ec(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function MC(a){return He({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(a)}function i_(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(a)}function VC(a){return He({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(a)}function Za(a){return He({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(a)}function mm(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(a)}function gr(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(a)}function _d(a){return He({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(a)}function PC(a){return He({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(a)}function s_(a){return He({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(a)}function LC(a){return He({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(a)}function $m(a){return He({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(a)}function o_(a){return He({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const UC=()=>{const[,a]=X.useState(()=>localStorage.getItem("darkMode")==="true");X.useEffect(()=>{const i=()=>{a(document.documentElement.classList.contains("dark"))};return window.addEventListener("darkModeChange",i),()=>window.removeEventListener("darkModeChange",i)},[]);const e=[{name:"Inicio",to:"/"},{name:"Adoptar",to:"/adopt"},{name:"Colaborar",to:"/collaborate"},{name:"Quiénes Somos",to:"/about"},{name:"Dónde Estamos",to:"/location"}],n=[{name:"Twitter",icon:kC,url:"https://twitter.com"},{name:"Facebook",icon:d2,url:"https://facebook.com"},{name:"Instagram",icon:h2,url:"https://instagram.com"}];return f.jsx("footer",{className:"bg-gray-900 dark:bg-gray-800 text-white py-8 border-t border-gray-700",children:f.jsxs("div",{className:"container mx-auto px-4 lg:px-8 max-w-7xl",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#9acd32] dark:text-blue-400",children:"Enlaces Útiles"}),f.jsx("ul",{className:"space-y-2",children:e.map(i=>f.jsx("li",{children:f.jsx(lt,{to:i.to,className:"text-gray-300 hover:text-[#9acd32] dark:hover:text-blue-400 transition duration-300",children:i.name})},i.name))})]}),f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#9acd32] dark:text-blue-400",children:"Contáctanos"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(co,{className:"text-gray-400"}),f.jsx("span",{className:"text-gray-300",children:"info@guauymiau.com"})]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(_d,{className:"text-gray-400"}),f.jsx("span",{className:"text-gray-300",children:"+34 600 123 456"})]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(Za,{className:"text-gray-400"}),f.jsx("span",{className:"text-gray-300",children:"Calle Ejemplo 123, Madrid"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#9acd32] dark:text-blue-400",children:"Síguenos"}),f.jsx("div",{className:"flex space-x-4",children:n.map(i=>{const o=i.icon;return f.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#9acd32] dark:hover:text-blue-400 transition duration-300",children:f.jsx(o,{className:"text-xl"})},i.name)})})]})]}),f.jsx("div",{className:"mt-8 text-center text-gray-400 border-t border-gray-700 pt-4",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," Guau & Miau. Todos los derechos reservados. |"," ",f.jsx(lt,{to:"/terms",className:"hover:text-[#9acd32] dark:hover:text-blue-400 transition duration-300",children:"Términos de Servicio"})," ","|"," ",f.jsx(lt,{to:"/privacy",className:"hover:text-[#9acd32] dark:hover:text-blue-400 transition duration-300",children:"Política de Privacidad"})]})})]})})},zC="/assets/cat-Cd8g8dbB.jpg",BC="/assets/perro-BTfZB5Lf.jpg",qC="/assets/gato-CKNnV_8c.jpg",HC="/assets/conejo-ZCeuZVXY.jpg";function FC(){const[a,e]=X.useState({species:""}),[n,i]=X.useState(()=>localStorage.getItem("darkMode")==="true"||!1),o=ca(),c=p=>{e({...a,[p.target.name]:p.target.value})},h=p=>{p.preventDefault();const v=new URLSearchParams(a).toString();o(`/search?${v}`)},g=()=>{i(p=>{const v=!p;return document.documentElement.classList.toggle("dark",v),localStorage.setItem("darkMode",v),v})};return f.jsxs("div",{className:`min-h-screen ${n?"dark":""} bg-gray-200 dark:bg-gray-900 transition-all`,children:[f.jsx(Fd,{isDarkMode:n,toggleDarkMode:g}),f.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 animate-fade-in pt-32",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8 mb-8",children:[f.jsx("div",{children:f.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 animate-slide-down",children:["No todos los héroes usan capa, ",f.jsx("span",{className:"text-[#9acd32]",children:"algunos tienen patitas."})]})}),f.jsx("div",{children:f.jsx("img",{src:zC,alt:"Gato pintando",className:"cat-painting smaller-image animate-slide-up"})})]}),f.jsxs("form",{onSubmit:h,className:"max-w-3xl mx-auto flex items-center gap-4 animate-slide-up",children:[f.jsxs("div",{className:"relative w-full",children:[f.jsx("input",{type:"text",name:"species",value:a.species,onChange:c,placeholder:"Busca tu match perfecto...",className:"w-full px-6 py-3 rounded-full text-gray-800 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-700 placeholder-gray-500 dark:placeholder-gray-300 shadow-sm transition-all duration-300","aria-label":"Buscar especie"}),f.jsx(HT,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 transition-colors duration-300"})]}),f.jsx("button",{type:"submit",className:"px-6 py-3 bg-[#9acd32] text-white rounded-full hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 transition-all duration-300 flex items-center gap-2 shadow-md hover:shadow-lg","aria-label":"Buscar",children:f.jsx("span",{children:"Buscar"})})]}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mt-8 animate-slide-down",children:"¡Encontrá a tu compañero ideal!"})]})}),f.jsx("section",{className:"gallery-section bg-gray-100 dark:bg-gray-800 py-16",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"🐾 Mascotas disponibles 🐾"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs(lt,{to:"/petcard",className:"gallery-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("img",{src:BC,alt:"Perro",className:"w-full h-32 object-contain object-center mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Perro"})]}),f.jsxs(lt,{to:"/petcard",className:"gallery-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("img",{src:qC,alt:"Gato",className:"w-full h-32 object-contain object-center mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Gato"})]}),f.jsxs(lt,{to:"/petcard",className:"gallery-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("img",{src:HC,alt:"Conejo",className:"w-full h-32 object-contain object-center mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Conejo"})]})]})]})}),f.jsx("section",{className:"testimonials-section bg-gray-100 dark:bg-gray-800 py-16",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Testimonios"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"testimonial-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("p",{className:"text-gray-800 dark:text-white",children:'"Adoptar a mi perro fue la mejor decisión que tomé. ¡Es tan amoroso!"'}),f.jsx("p",{className:"mt-4 font-semibold text-gray-900 dark:text-white",children:"- Juan Pérez"})]}),f.jsxs("div",{className:"testimonial-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("p",{className:"text-gray-800 dark:text-white",children:'"Mi gato me ha dado tanto cariño. Gracias por ayudarme a encontrarlo."'}),f.jsx("p",{className:"mt-4 font-semibold text-gray-900 dark:text-white",children:"- María Gómez"})]}),f.jsxs("div",{className:"testimonial-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-transform duration-300 ease-in-out",children:[f.jsx("p",{className:"text-gray-800 dark:text-white",children:'"La experiencia de adopción fue increíble. Mi familia está muy feliz."'}),f.jsx("p",{className:"mt-4 font-semibold text-gray-900 dark:text-white",children:"- Pedro López"})]})]})]})})]})}function GC(){const[a,e]=X.useState({species:"",breed:"",age:"",size:"",location:"",personality:"",kidsCompatibility:"",petsCompatibility:""}),[n,i]=X.useState(!1),o=ca(),c={blue:"#55a9e6",yellow:"#ffcf56",coral:"#ea7a77",green:"#7cc474"},g=[{id:1,name:"Luna",species:"Perro",breed:"Labrador",age:2,size:"Mediano",location:"Madrid",personality:"Juguetón",kidsCompatibility:"Sí",petsCompatibility:"Sí",description:"Luna es una labradora muy activa que adora los paseos largos y jugar a buscar la pelota."},{id:2,name:"Milo",species:"Gato",breed:"Siamés",age:1,size:"Pequeño",location:"Barcelona",personality:"Cariñoso",kidsCompatibility:"No",petsCompatibility:"Sí",description:"Milo es un gato siamés muy vocal y afectuoso que busca un hogar tranquilo."},{id:3,name:"Limón",species:"Gato",breed:"Europeo común",age:1,size:"Pequeño",location:"Valencia",personality:"Juguetón",kidsCompatibility:"Sí",petsCompatibility:"Sí",description:"Un gatito juguetón y adorable que busca un hogar."},{id:4,name:"Melón",species:"Gato",breed:"Persa",age:3,size:"Mediano",location:"Sevilla",personality:"Curioso",kidsCompatibility:"Sí",petsCompatibility:"No",description:"Melón es un gato elegante y curioso."},{id:5,name:"Sandía",species:"Gato",breed:"Británico",age:4,size:"Mediano",location:"Bilbao",personality:"Tranquilo",kidsCompatibility:"No",petsCompatibility:"No",description:"Sandía es perfecta para un hogar tranquilo."},{id:6,name:"Canela & Manzana",species:"Perro",breed:"Mestizo",age:1,size:"Pequeño",location:"Madrid",personality:"Sociable",kidsCompatibility:"Sí",petsCompatibility:"Sí",description:"Dos hermanitos inseparables que buscan un hogar juntos."},{id:7,name:"Budin",species:"Perro",breed:"Pastor Alemán",age:5,size:"Grande",location:"Barcelona",personality:"Protector",kidsCompatibility:"Sí",petsCompatibility:"No",description:"Budin es un perro majestuoso y protector."},{id:8,name:"Bufuelo",species:"Perro",breed:"Golden Retriever",age:2,size:"Grande",location:"Valencia",personality:"Amigable",kidsCompatibility:"Sí",petsCompatibility:"Sí",description:"Bufuelo es un compañero ideal para toda la familia."}].filter(P=>(!a.species||P.species===a.species)&&(!a.breed||P.breed.toLowerCase().includes(a.breed.toLowerCase()))&&(!a.age||P.age===Number(a.age))&&(!a.size||P.size===a.size)&&(!a.location||P.location.toLowerCase().includes(a.location.toLowerCase()))&&(!a.personality||P.personality.toLowerCase().includes(a.personality.toLowerCase()))&&(!a.kidsCompatibility||P.kidsCompatibility===a.kidsCompatibility)&&(!a.petsCompatibility||P.petsCompatibility===a.petsCompatibility)),p=P=>{e({...a,[P.target.name]:P.target.value})},v=P=>{o(`/pet/${P.id}`,{state:{pet:P}})},x=()=>{i(!n)},S=()=>{e({species:"",breed:"",age:"",size:"",location:"",personality:"",kidsCompatibility:"",petsCompatibility:""})},w=P=>P==="Perro"?"🐕":"🐈",k=P=>P==="Perro"?c.blue:c.coral;return f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#f5f7fa"},children:[f.jsx("div",{className:"relative bg-cover bg-center h-64 mb-6",style:{backgroundImage:"url('/api/placeholder/1920/500?text=Adopta+una+mascota')"},children:f.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center",style:{backgroundColor:"rgba(85, 169, 230, 0.7)"},children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2 tracking-wide",children:"Adopta Un Amigo"}),f.jsx("p",{className:"text-xl text-white text-center max-w-2xl px-4",children:"Cada mascota merece un hogar lleno de amor y cuidados"})]})}),f.jsxs("div",{className:"container mx-auto px-4 pb-16",children:[f.jsx("div",{className:"md:hidden mb-6",children:f.jsxs("button",{onClick:x,className:"w-full text-white font-medium py-3 px-4 rounded-lg shadow-md transition-all flex justify-center items-center space-x-2",style:{backgroundColor:c.blue},children:[f.jsx("span",{children:n?"Ocultar Filtros":"Mostrar Filtros"}),f.jsx("span",{children:n?"▲":"▼"})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsx("div",{className:`${n?"block":"hidden"} md:block md:w-1/4 transition-all duration-300`,children:f.jsxs("div",{className:"sticky top-4 bg-white rounded-2xl shadow-xl overflow-hidden",children:[f.jsx("div",{className:"py-4 px-6",style:{backgroundColor:c.blue},children:f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[f.jsx("span",{className:"mr-2",children:"🔍"})," Filtrar Mascotas"]})}),f.jsxs("div",{className:"p-6 space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Tipo de Mascota"}),f.jsxs("select",{name:"species",value:a.species,onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue},children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Perro",children:"Perro"}),f.jsx("option",{value:"Gato",children:"Gato"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Raza"}),f.jsx("input",{type:"text",name:"breed",value:a.breed,placeholder:"Ej. Labrador",onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Edad (años)"}),f.jsx("input",{type:"number",name:"age",value:a.age,placeholder:"Ej. 2",onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Tamaño"}),f.jsxs("select",{name:"size",value:a.size,onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue},children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Pequeño",children:"Pequeño"}),f.jsx("option",{value:"Mediano",children:"Mediano"}),f.jsx("option",{value:"Grande",children:"Grande"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Ubicación"}),f.jsx("input",{type:"text",name:"location",value:a.location,placeholder:"Ej. Madrid",onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Personalidad"}),f.jsx("input",{type:"text",name:"personality",value:a.personality,placeholder:"Ej. Juguetón",onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Compatible con Niños"}),f.jsxs("select",{name:"kidsCompatibility",value:a.kidsCompatibility,onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue},children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Sí",children:"Sí"}),f.jsx("option",{value:"No",children:"No"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Compatible con Mascotas"}),f.jsxs("select",{name:"petsCompatibility",value:a.petsCompatibility,onChange:p,className:"w-full p-3 text-sm bg-gray-50 border border-gray-300 rounded-xl text-gray-700 focus:ring-2 focus:border-transparent",style:{focusRing:c.blue},children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Sí",children:"Sí"}),f.jsx("option",{value:"No",children:"No"})]})]}),f.jsx("button",{onClick:S,className:"w-full mt-4 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-4 rounded-xl shadow transition-all",children:"Limpiar Filtros"})]})]})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[f.jsx("span",{style:{color:c.blue},children:g.length})," mascotas encontradas"]}),f.jsx("div",{className:"text-sm text-gray-500",children:"Mostrando resultados para tus filtros"})]}),g.length===0&&f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:"😢"}),f.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No encontramos mascotas"}),f.jsx("p",{className:"text-gray-500 max-w-md",children:"No hay mascotas que coincidan con los filtros seleccionados. ¿Por qué no intentas con otros criterios?"}),f.jsx("button",{onClick:S,className:"mt-6 text-white font-medium py-2 px-6 rounded-lg transition-all",style:{backgroundColor:c.blue},children:"Mostrar todas las mascotas"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(P=>f.jsx("div",{className:"group",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden h-full border border-gray-100 hover:shadow-2xl transition-all duration-300 transform group-hover:scale-102 relative",children:[f.jsxs("div",{className:"h-56 bg-gray-200 relative overflow-hidden",children:[f.jsx("img",{src:`/api/placeholder/500/400?text=${P.name}`,alt:P.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsxs("div",{className:"absolute top-3 left-3 flex space-x-2",children:[f.jsxs("span",{className:"text-white text-xs font-bold px-3 py-1 rounded-full",style:{backgroundColor:k(P.species)},children:[w(P.species)," ",P.species]}),f.jsxs("span",{className:"text-white text-xs font-bold px-3 py-1 rounded-full",style:{backgroundColor:c.yellow},children:[P.age," ",P.age===1?"año":"años"]})]})]}),f.jsxs("div",{className:"p-5",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P.name}),f.jsx("span",{className:"text-sm font-medium px-3 py-1 rounded-full bg-gray-100 text-gray-700",children:P.location})]}),f.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:P.description}),f.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm mb-4",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:c.blue}}),f.jsx("span",{className:"text-gray-700",children:P.breed})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:c.green}}),f.jsx("span",{className:"text-gray-700",children:P.size})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:c.yellow}}),f.jsx("span",{className:"text-gray-700",children:P.personality})]})]}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-4",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"mr-1",children:"👶"}),f.jsxs("span",{children:["Niños: ",f.jsx("span",{style:{color:P.kidsCompatibility==="Sí"?c.green:c.coral,fontWeight:500},children:P.kidsCompatibility})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"mr-1",children:"🐾"}),f.jsxs("span",{children:["Mascotas: ",f.jsx("span",{style:{color:P.petsCompatibility==="Sí"?c.green:c.coral,fontWeight:500},children:P.petsCompatibility})]})]})]}),f.jsxs("button",{className:"w-full py-3 text-white font-medium rounded-xl shadow transition-all duration-300 transform group-hover:scale-105 flex justify-center items-center space-x-2",onClick:()=>v(P),style:{background:`linear-gradient(to right, ${c.blue}, ${c.coral})`},children:[f.jsxs("span",{children:["Conocer a ",P.name]}),f.jsx("span",{children:"→"})]})]})]})},P.id))})]}),g.length>0&&f.jsx("div",{className:"rounded-2xl shadow-xl p-8 text-white",style:{background:`linear-gradient(to right, ${c.blue}, ${c.yellow})`},children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[f.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"¿Necesitas ayuda para elegir?"}),f.jsx("p",{className:"opacity-90",children:"Nuestro equipo puede ayudarte a encontrar el compañero perfecto para tu hogar y estilo de vida."})]}),f.jsx("div",{className:"shrink-0",children:f.jsx(lt,{to:"/contact",className:"bg-white hover:bg-gray-100 font-bold py-3 px-6 rounded-xl shadow-lg transition-all inline-block",style:{color:c.blue},children:"Contactar Asesor"})})]})})]})]})]})]})}function KC(){const[a,e]=X.useState("donaciones"),[n,i]=X.useState(!1),[o,c]=X.useState(!1),[h,g]=X.useState(!1),[p,v]=X.useState(!1),[x,S]=X.useState(()=>{const oe=localStorage.getItem("volunteerCount");return oe?parseInt(oe,10):42}),[w,k]=X.useState({donation:{name:"",email:"",amount:"",method:"Transferencia",message:""},volunteer:{name:"",email:"",phone:"",availability:"Mañanas",message:""}});X.useEffect(()=>{localStorage.setItem("volunteerCount",x)},[x]);const P=oe=>{const{name:W,value:re}=oe.target;k({...w,donation:{...w.donation,[W]:re}})},K=oe=>{const{name:W,value:re}=oe.target;k({...w,volunteer:{...w.volunteer,[W]:re}})},Q=oe=>{oe.preventDefault(),console.log("Donation submitted:",w.donation),g(!0),setTimeout(()=>{g(!1),i(!1),k({...w,donation:{name:"",email:"",amount:"",method:"Transferencia",message:""}})},5e3)},le=oe=>{oe.preventDefault(),console.log("Volunteer submitted:",w.volunteer),v(!0),S(W=>W+1),setTimeout(()=>{v(!1),c(!1),k({...w,volunteer:{name:"",email:"",phone:"",availability:"Mañanas",message:""}})},5e3)};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-blue-200 dark:from-gray-800 dark:to-gray-900 p-4 md:p-6 lg:p-8",children:f.jsxs("div",{className:"w-full max-w-5xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-4 md:p-6 lg:p-8 mt-16",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center",children:f.jsx("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-full shadow-lg",children:f.jsx(gr,{className:"text-green-600 text-4xl"})})}),f.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 dark:text-white mt-10 mb-4 flex items-center justify-center gap-2",children:[f.jsx(OC,{className:"text-green-600"})," ¡Colabora con Nosotros!"]}),f.jsx("p",{className:"text-sm sm:text-base md:text-lg text-center text-gray-700 dark:text-gray-300 mb-4",children:"❤️ Tu ayuda es fundamental para mejorar la vida de muchos peluditos. ¡Únete a nuestra causa y marca la diferencia! 🐶🐾"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mb-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex flex-col items-center p-2",children:[f.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:"157"}),f.jsx("span",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300 text-center",children:"Animales Rescatados"})]}),f.jsxs("div",{className:"flex flex-col items-center p-2",children:[f.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:"89"}),f.jsx("span",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300 text-center",children:"Adoptados"})]}),f.jsxs("div",{className:"flex flex-col items-center p-2",children:[f.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:x}),f.jsx("span",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300 text-center",children:"Voluntarios"})]}),f.jsxs("div",{className:"flex flex-col items-center p-2",children:[f.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:"28"}),f.jsx("span",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300 text-center",children:"Eventos"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center mb-6 gap-2 sm:gap-0",children:[f.jsxs("button",{className:`px-4 py-2 rounded-lg sm:rounded-t-lg sm:rounded-b-none font-medium text-sm md:text-base ${a==="donaciones"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"} transition-colors duration-300`,onClick:()=>e("donaciones"),children:[f.jsx(r_,{className:"inline mr-2"})," Donaciones"]}),f.jsxs("button",{className:`px-4 py-2 rounded-lg sm:rounded-t-lg sm:rounded-b-none font-medium text-sm md:text-base ${a==="voluntariado"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"} transition-colors duration-300`,onClick:()=>e("voluntariado"),children:[f.jsx(o_,{className:"inline mr-2"})," Voluntariado"]}),f.jsxs("button",{className:`px-4 py-2 rounded-lg sm:rounded-t-lg sm:rounded-b-none font-medium text-sm md:text-base ${a==="tienda"?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"} transition-colors duration-300`,onClick:()=>e("tienda"),children:[f.jsx(s_,{className:"inline mr-2"})," Tienda Solidaria"]})]}),f.jsxs("div",{className:"mb-6",children:[a==="donaciones"&&f.jsxs("div",{className:"bg-green-50 dark:bg-gray-700 p-4 md:p-6 rounded-lg shadow-md animate-fade-in",children:[f.jsxs("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(r_,{className:"text-yellow-500"})," Donaciones"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Transferencia Bancaria"}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3",children:"Realiza una transferencia a nuestra cuenta bancaria. Cada euro ayuda a brindar alimento, refugio y cuidados médicos."}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-md",children:[f.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:"💳 Número de cuenta:"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-mono text-sm mb-2 break-all",children:"ES12 3456 7890 1234 5678 9012"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:"🏦 Banco:"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"CaixaBank"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Bizum / Paypal"}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3",children:"Donaciones rápidas y seguras a través de estos métodos de pago. Perfectos para aportaciones periódicas."}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-md",children:[f.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:"📱 Bizum:"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:"+34 600 123 456"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:"📧 PayPal:"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"donaciones@refugiopeludos.org"})]})]})]}),f.jsx("div",{className:"text-center mt-4",children:!h&&f.jsx("button",{onClick:()=>i(!n),className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-full transition-colors duration-300 text-sm md:text-base",children:n?"Ocultar formulario":"Hacer una donación ahora"})}),n&&!h&&f.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md animate-fade-in",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3",children:"Formulario de Donación"}),f.jsxs("form",{onSubmit:Q,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),f.jsx("input",{type:"text",name:"name",value:w.donation.name,onChange:P,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:w.donation.email,onChange:P,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cantidad (€)"}),f.jsx("input",{type:"number",name:"amount",value:w.donation.amount,onChange:P,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Método de pago"}),f.jsxs("select",{name:"method",value:w.donation.method,onChange:P,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",children:[f.jsx("option",{children:"Transferencia"}),f.jsx("option",{children:"Bizum"}),f.jsx("option",{children:"PayPal"}),f.jsx("option",{children:"Tarjeta de crédito"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje (opcional)"}),f.jsx("textarea",{name:"message",value:w.donation.message,onChange:P,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 h-20"})]}),f.jsx("div",{className:"md:col-span-2 text-center",children:f.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-full transition-colors duration-300",children:"Enviar Donación"})})]})]}),h&&f.jsxs("div",{className:"mt-4 bg-green-100 dark:bg-green-800 p-4 rounded-lg shadow-md text-center animate-fade-in",children:[f.jsx(n_,{className:"text-green-600 dark:text-green-400 text-3xl mb-2"}),f.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"¡Gracias por tu donación!"}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Tu apoyo es invaluable para nosotros."})]})]}),a==="voluntariado"&&f.jsxs("div",{className:"bg-blue-50 dark:bg-gray-700 p-4 md:p-6 rounded-lg shadow-md animate-fade-in",children:[f.jsxs("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(o_,{className:"text-blue-500"})," Voluntariado"]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3",children:"Únete a nuestro equipo de voluntarios y ayuda a mejorar la vida de muchos peluditos."}),f.jsx("div",{className:"text-center mt-4",children:!p&&f.jsx("button",{onClick:()=>c(!o),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-full transition-colors duration-300 text-sm md:text-base",children:o?"Ocultar formulario":"Unirse como voluntario"})}),o&&!p&&f.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md animate-fade-in",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3",children:"Formulario de Voluntariado"}),f.jsxs("form",{onSubmit:le,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),f.jsx("input",{type:"text",name:"name",value:w.volunteer.name,onChange:K,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:w.volunteer.email,onChange:K,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teléfono"}),f.jsx("input",{type:"tel",name:"phone",value:w.volunteer.phone,onChange:K,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Disponibilidad"}),f.jsxs("select",{name:"availability",value:w.volunteer.availability,onChange:K,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700",children:[f.jsx("option",{children:"Mañanas"}),f.jsx("option",{children:"Tardes"}),f.jsx("option",{children:"Fines de semana"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensaje (opcional)"}),f.jsx("textarea",{name:"message",value:w.volunteer.message,onChange:K,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 h-20"})]}),f.jsx("div",{className:"md:col-span-2 text-center",children:f.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-full transition-colors duration-300",children:"Enviar solicitud"})})]})]}),p&&f.jsxs("div",{className:"mt-4 bg-blue-100 dark:bg-blue-800 p-4 rounded-lg shadow-md text-center animate-fade-in",children:[f.jsx(n_,{className:"text-blue-600 dark:text-blue-400 text-3xl mb-2"}),f.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"¡Gracias por unirte como voluntario!"}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Nos pondremos en contacto contigo pronto."})]})]}),a==="tienda"&&f.jsxs("div",{className:"bg-purple-50 dark:bg-gray-700 p-4 md:p-6 rounded-lg shadow-md animate-fade-in",children:[f.jsxs("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(s_,{className:"text-purple-500"})," Tienda Solidaria"]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3",children:"Compra productos solidarios y ayuda a nuestros peludos. Todo lo recaudado se destina a su bienestar."})]})]})]})})}function QC(){return f.jsx("div",{className:"pt-16 sm:pt-20 min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center p-4 sm:p-6",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl overflow-hidden my-8",children:[f.jsxs("div",{className:"relative bg-[#9acd32] h-24 sm:h-32 flex items-center justify-center",children:[f.jsx("div",{className:"absolute w-full bottom-0",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full",children:f.jsx("path",{fill:"#fff",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})}),f.jsx("div",{className:"dark:hidden",children:f.jsx(gr,{className:"text-white text-5xl sm:text-6xl animate-bounce"})}),f.jsx("div",{className:"hidden dark:block",children:f.jsx(gr,{className:"text-gray-900 text-5xl sm:text-6xl animate-bounce"})})]}),f.jsxs("div",{className:"p-6 sm:p-8 lg:p-10 grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[f.jsxs("div",{className:"w-full flex flex-col justify-center",children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-800 dark:text-white mb-6 flex items-center gap-3",children:[f.jsx(gr,{className:"text-[#9acd32] text-3xl sm:text-4xl md:text-5xl"}),f.jsx("span",{children:"Quiénes Somos"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-200 leading-relaxed",children:["En ",f.jsx("span",{className:"font-bold text-[#9acd32] dark:text-blue-400",children:"Guau & Miau"}),f.jsxs("span",{className:"inline-flex items-center ml-2",children:[f.jsx(Wg,{className:"text-[#9acd32] mr-1"}),f.jsx(Xg,{className:"text-[#9acd32]"})]}),", somos un equipo apasionado dedicado a conectar mascotas sin hogar con familias amorosas."]}),f.jsx("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-200 leading-relaxed",children:"Colaboramos con refugios y voluntarios para garantizar que cada animal reciba el cuidado que merece mientras encuentra su hogar ideal."}),f.jsx("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-200 leading-relaxed",children:"Cada historia de adopción es un testimonio de amor y esperanza, y estamos aquí para hacer que esas historias sigan creciendo."})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6 sm:mt-8",children:[f.jsxs("div",{className:"bg-green-50 dark:bg-gray-700 p-4 rounded-lg shadow-md transform transition-transform hover:scale-105",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(ec,{className:"text-red-500 text-2xl"})}),f.jsx("h3",{className:"text-center font-bold text-gray-800 dark:text-white",children:"Amor"}),f.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 text-sm",children:"Por cada mascota"})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-gray-700 p-4 rounded-lg shadow-md transform transition-transform hover:scale-105",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(a_,{className:"text-blue-500 text-2xl"})}),f.jsx("h3",{className:"text-center font-bold text-gray-800 dark:text-white",children:"Compromiso"}),f.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 text-sm",children:"Con su bienestar"})]}),f.jsxs("div",{className:"bg-yellow-50 dark:bg-gray-700 p-4 rounded-lg shadow-md transform transition-transform hover:scale-105",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(MC,{className:"text-yellow-500 text-2xl"})}),f.jsx("h3",{className:"text-center font-bold text-gray-800 dark:text-white",children:"Hogar"}),f.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 text-sm",children:"Para cada uno"})]})]})]}),f.jsxs("div",{className:"w-full flex flex-col justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl shadow-lg p-6 animate-fade-in",children:[f.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-3",children:[f.jsx(ec,{className:"text-red-500 text-2xl sm:text-3xl md:text-4xl animate-pulse"}),f.jsx("span",{children:"Nuestra Misión"})]}),f.jsxs("div",{className:"space-y-4 mb-6 sm:mb-8",children:[f.jsxs("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-200 leading-relaxed",children:["💡 Promover la ",f.jsx("span",{className:"font-bold text-[#9acd32] dark:text-blue-400",children:"adopción responsable"})," y mejorar la vida de las mascotas sin hogar en todo el mundo."]}),f.jsx("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-200 leading-relaxed",children:"🤝 Imaginamos un futuro donde cada peludo tenga un lugar seguro y lleno de cariño, trabajando junto a comunidades y refugios para lograrlo."})]}),f.jsxs(lt,{to:"/contact",className:"bg-[#9acd32] hover:bg-green-600 text-white py-3 px-6 rounded-lg font-semibold text-lg transition duration-300 transform hover:scale-105 flex items-center justify-center gap-3 mx-auto shadow-md w-full sm:w-auto",children:[f.jsx(a_,{className:"text-xl"})," Contáctanos"]})]})]}),f.jsxs("div",{className:"relative bg-[#9acd32] h-16 sm:h-24",children:[f.jsx("div",{className:"absolute w-full top-0 transform rotate-180",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full",children:f.jsx("path",{fill:"#fff",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})}),f.jsx("div",{className:"flex justify-center items-center h-full relative",children:f.jsxs("p",{className:"text-white text-sm sm:text-base font-medium",children:["Guau & Miau © ",new Date().getFullYear()," - Con amor por los animales"]})})]})]})})}function $C(a){return He({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(a)}const YC=()=>{const[a,e]=X.useState(""),[n,i]=X.useState(""),[o,c]=X.useState(null),h=ca(),g=async x=>{x.preventDefault();try{const S=await kS(pr,a,n);console.log("Usuario logueado:",S.user),h("/")}catch(S){c(S.message),console.error("Error al iniciar sesión:",S)}},p=async()=>{var S,w;const x=new Jr;try{const k=await Gv(pr,x);console.log("Usuario logueado con Google:",k.user);const P=oo(lo,"users",k.user.uid);(await Km(P)).exists()||(await Qm(P,{firstName:((S=k.user.displayName)==null?void 0:S.split(" ")[0])||"",lastName:((w=k.user.displayName)==null?void 0:w.split(" ")[1])||"",email:k.user.email,createdAt:new Date}),console.log("Datos guardados en Firestore para usuario de Google")),h("/")}catch(k){k.code==="auth/account-exists-with-different-credential"?c("Ya existe una cuenta con este correo. Por favor, inicia sesión con el método original (por ejemplo, email/contraseña o Facebook)."):c(k.message),console.error("Error al iniciar sesión con Google:",k)}},v=async()=>{var S,w;const x=new Zr;try{const k=await Gv(pr,x);console.log("Usuario logueado con Facebook:",k.user);const P=oo(lo,"users",k.user.uid);(await Km(P)).exists()||(await Qm(P,{firstName:((S=k.user.displayName)==null?void 0:S.split(" ")[0])||"",lastName:((w=k.user.displayName)==null?void 0:w.split(" ")[1])||"",email:k.user.email,createdAt:new Date}),console.log("Datos guardados en Firestore para usuario de Facebook")),h("/")}catch(k){k.code==="auth/account-exists-with-different-credential"?c("Ya existe una cuenta con este correo. Por favor, inicia sesión con el método original (por ejemplo, email/contraseña o Google)."):c(k.message),console.error("Error al iniciar sesión con Facebook:",k)}};return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl p-6 flex flex-col md:flex-row items-center md:items-stretch md:gap-8",children:[f.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col justify-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6 text-center",children:"¡Bienvenido de nuevo!"}),f.jsxs("form",{onSubmit:g,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail"}),f.jsx("input",{type:"email",value:a,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"tucorreo@ejemplo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contraseña"}),f.jsx("input",{type:"password",value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••",required:!0})]}),o&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:o}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Ingresar"}),f.jsx("div",{className:"text-center",children:f.jsx(lt,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400",children:"¿Olvidaste tu contraseña?"})})]}),f.jsxs("div",{className:"flex items-center my-6",children:[f.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"}),f.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-gray-400",children:"o"}),f.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center gap-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white py-3 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[f.jsx($C,{className:"text-xl"}),"Ingresa con tu cuenta de Gmail"]}),f.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center gap-3 bg-[#3b5998] text-white py-3 rounded-lg font-medium hover:bg-[#2d4373] transition-colors",children:[f.jsx(d2,{className:"text-xl"}),"Ingresa con tu cuenta de Facebook"]})]})]}),f.jsxs("div",{className:"w-full md:w-1/2 p-8 flex flex-col justify-center items-center bg-[#e8eef4] dark:bg-gray-700 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4 text-center",children:"¡Hola Rescatista!"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center mb-6",children:"Ingresa tu información personal y empieza este hermoso viaje con nosotros."}),f.jsx(lt,{to:"/signup",className:"bg-[#9acd32] hover:bg-green-700 text-white py-2 px-8 rounded-full font-medium transition-colors",children:"SIGN UP"})]})]})})},XC=()=>{const[a,e]=X.useState({firstName:"",lastName:"",email:"",password:""}),[n,i]=X.useState(null),[o,c]=X.useState(null),[h,g]=X.useState(!1),p=ca(),v=S=>{const{name:w,value:k}=S.target;e({...a,[w]:k})},x=async S=>{if(S.preventDefault(),i(null),c(null),a.password.length<6){i("La contraseña debe tener al menos 6 caracteres.");return}g(!0);try{const w=await IS(pr,a.email,a.password);console.log("Usuario creado en Authentication:",w.user),await rb(w.user,{displayName:`${a.firstName} ${a.lastName}`}),console.log("Perfil actualizado");const k={firstName:a.firstName,lastName:a.lastName,email:a.email,createdAt:new Date};console.log("Datos a guardar en Firestore:",k);try{await Qm(oo(lo,"users",w.user.uid),k),console.log("Datos guardados en Firestore")}catch(P){throw console.error("Error al guardar en Firestore:",P),new Error(`Error al guardar datos en Firestore: ${P.message}`)}c("¡Registro exitoso! Redirigiendo al login..."),p("/login")}catch(w){w.code==="auth/email-already-in-use"?i("El correo ya está registrado. Por favor, usa otro correo o inicia sesión."):w.code==="auth/invalid-email"?i("El correo no es válido. Por favor, verifica tu correo."):(i(`Error al registrar: ${w.message}`),console.error("Error completo:",w))}finally{g(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl p-6 flex flex-col md:flex-row items-center md:items-stretch md:gap-8",children:[f.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col justify-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6 text-center",children:"Crear Cuenta"}),f.jsxs("form",{onSubmit:x,className:"space-y-5",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx($m,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),f.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:v,placeholder:"Nombre",className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx($m,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),f.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:v,placeholder:"Apellido",className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),f.jsx("input",{type:"email",name:"email",value:a.email,onChange:v,placeholder:"Email",className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(VC,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),f.jsx("input",{type:"password",name:"password",value:a.password,onChange:v,placeholder:"Contraseña",className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),n&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:n}),o&&f.jsx("p",{className:"text-green-500 text-sm text-center",children:o}),f.jsx("button",{type:"submit",disabled:h,className:`w-full ${h?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white py-3 rounded-lg font-medium transition-colors`,children:h?"Registrando...":"Registrarse"}),f.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-300 mt-4",children:["¿Ya tienes cuenta?"," ",f.jsx(lt,{to:"/login",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400",children:"Inicia Sesión"})]})]})]}),f.jsxs("div",{className:"w-full md:w-1/2 p-8 flex flex-col justify-center items-center bg-gray-200 dark:bg-gray-700 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4 text-center",children:"¡Bienvenido de nuevo!"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center mb-6",children:"Para seguir conectado con nosotros por favor ingresa con tu información personal."}),f.jsx(lt,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white py-2 px-8 rounded-lg font-medium transition-colors",children:"SIGN IN"})]})]})})};class WC extends ra.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught in ErrorBoundary:",e,n)}render(){return this.state.hasError?f.jsx("h1",{children:"Algo salió mal."}):this.props.children}}function ZC(){const[a,e]=X.useState([{id:1,nombre:"Refugio Madrid Patitas",direccion:"Calle Gran Vía 28",ciudad:"Madrid",pais:"España",latLng:[40.416775,-3.70379],telefono:"+34 91 123 45 67",horario:"Lunes a Domingo: 8:00 - 20:00",servicios:["Adopción de perros y gatos","Atención veterinaria","Voluntariado","Donaciones"],descripcion:"Un refugio dedicado a rescatar y rehabilitar perros y gatos abandonados en Madrid."},{id:2,nombre:"Refugio Veracruz Huellitas",direccion:"Av. Independencia 730",ciudad:"Veracruz",pais:"México",latLng:[19.172464,-96.134316],telefono:"+52 229 123 4567",horario:"Lunes a Viernes: 9:00 - 18:00",servicios:["Rescate de animales","Esterilización gratuita","Adopciones","Educación comunitaria"],descripcion:"Comprometidos con el bienestar animal en Veracruz, rescatamos y encontramos hogares amorosos."},{id:3,nombre:"Refugio Buenos Aires Peludos",direccion:"Av. 9 de Julio 1000",ciudad:"Buenos Aires",pais:"Argentina",latLng:[-34.603722,-58.381592],telefono:"+54 11 1234 5678",horario:"Lunes a Sábado: 10:00 - 19:00",servicios:["Albergue para animales","Campañas de adopción","Atención médica","Rehabilitación"],descripcion:"Un hogar temporal para animales en busca de una familia en el corazón de Buenos Aires."}]),[n,i]=X.useState(!1),[o,c]=X.useState(null),[h,g]=X.useState(!1);X.useEffect(()=>{const w=document.createElement("link");w.rel="stylesheet",w.href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/leaflet.css",document.head.appendChild(w);const k=document.createElement("script");return k.src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/leaflet.js",k.onload=p,document.body.appendChild(k),()=>{document.head.contains(w)&&document.head.removeChild(w),document.body.contains(k)&&document.body.removeChild(k)}},[]);function p(){if(typeof window<"u"&&!n&&window.L){const w=window.L,k=w.map("mapa").setView([0,0],2);w.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(k);const P=[];if(a.forEach(K=>{const Q=w.marker(K.latLng).addTo(k).bindPopup(`<b>${K.nombre}</b><br>${K.direccion}<br>${K.ciudad}, ${K.pais}`);Q.on("click",()=>{c(K),g(!1)}),P.push(Q)}),P.length>0){const K=w.featureGroup(P);k.fitBounds(K.getBounds(),{padding:[20,20]})}i(!0),window.mapaLeaflet=k}}const v=w=>{const k=`${w.direccion}, ${w.ciudad}, ${w.pais}`,P=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k)}`;window.open(P,"_blank")},x=w=>{g(!0)},S=()=>{g(!1)};return f.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-200 to-green-100 dark:from-gray-700 dark:to-gray-800",children:[f.jsx(Fd,{})," ",f.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8",children:f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl shadow-lg w-full max-w-5xl mx-auto p-4 sm:p-6 md:p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-4 text-center animate-slide-down",children:"Refugios de Mascotas"}),f.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-300 mb-6 text-center animate-slide-up",children:"Descubre refugios de animales cerca de ti. Haz clic en un marcador para más detalles."}),f.jsxs("div",{className:"bg-[#e8eef4] dark:bg-gray-600 h-60 sm:h-72 md:h-96 rounded-lg overflow-hidden mb-4 sm:mb-6 animate-slide-left relative",children:[f.jsx("div",{id:"mapa",className:"w-full h-full z-10"}),!n&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-slide-up",children:a.map(w=>f.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all hover:shadow-md ${(o==null?void 0:o.id)===w.id?"bg-blue-100 dark:bg-blue-900":"bg-gray-100 dark:bg-gray-600"}`,onClick:()=>{c(w),g(!1)},children:[f.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-100 text-base sm:text-lg flex items-center gap-2",children:[f.jsx(gr,{className:"text-blue-500"})," ",w.nombre]}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 flex items-center gap-2",children:[f.jsx(Za,{className:"text-gray-500"})," ",w.direccion]}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.ciudad,", ",w.pais]})]},w.id))}),o&&!h&&f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg animate-fade-in",children:[f.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[f.jsx(gr,{className:"text-blue-500"})," ",o.nombre]}),f.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4 flex items-center gap-2",children:[f.jsx(Za,{className:"text-gray-500"}),o.direccion,", ",o.ciudad,", ",o.pais]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("button",{onClick:()=>v(o),className:"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm sm:text-base flex items-center justify-center gap-2",children:[f.jsx(Za,{})," Cómo llegar"]}),f.jsxs("button",{onClick:()=>x(),className:"w-full sm:w-auto px-4 py-2 border border-blue-500 text-blue-500 dark:text-blue-300 rounded-lg hover:bg-blue-500/10 transition-colors text-sm sm:text-base flex items-center justify-center gap-2",children:[f.jsx(i_,{})," Más información"]})]})]}),o&&h&&f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[f.jsx(gr,{className:"text-blue-500"})," ",o.nombre]}),f.jsx("button",{onClick:S,className:"p-2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(Za,{className:"text-blue-500"})," Dirección"]}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:[o.direccion,", ",o.ciudad,", ",o.pais]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(_d,{className:"text-blue-500"})," Contacto"]}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:["Teléfono: ",o.telefono]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(DC,{className:"text-blue-500"})," Horario"]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:o.horario})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(gr,{className:"text-blue-500"})," Servicios"]}),f.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:o.servicios.map((w,k)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(gr,{className:"text-blue-300 text-xs"})," ",w]},k))})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(i_,{className:"text-blue-500"})," Sobre Nosotros"]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:o.descripcion})]})]})]}),f.jsx("div",{className:"mt-6 flex justify-center",children:f.jsxs("button",{onClick:()=>v(o),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm sm:text-base flex items-center gap-2",children:[f.jsx(Za,{})," Cómo llegar"]})})]})]})})]})}const JC=()=>f.jsx(WC,{children:f.jsx(ZC,{})});function e5(){var p,v,x,S,w,k,P,K;const{id:a}=g_(),e=fi(),n=ca(),i=[{id:1,name:"Limón",species:"Gato",breed:"No especificada",age:1,gender:"Macho",status:"Castrado - Vacunado",description:"Un gatito juguetón y adorable que busca un hogar.",compatibility:{kids:!0,cats:!0,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/gato-juguetón-adorable-123456/","https://pixabay.com/es/photos/gato-joven-jugando-654321/"]},{id:2,name:"Melón",species:"Gato",breed:"Siamés",age:2,gender:"Macho",status:"Castrado - Vacunado - Tuxedo",description:"Melón es un gato elegante y curioso.",compatibility:{kids:!0,cats:!1,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/gato-siamés-elegante-789012/","https://pixabay.com/es/photos/gato-siamés-curioso-210987/"]},{id:3,name:"Sandía",species:"Gato",breed:"Persa",age:3,gender:"Hembra",status:"Castrada - Vacunada",description:"Sandía es perfecta para un hogar tranquilo.",compatibility:{kids:!1,cats:!0,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/gato-persa-tranquilo-345678/","https://pixabay.com/es/photos/gato-persa-relajado-876543/"]},{id:4,name:"Canela & Manzana",species:"Perro",breed:"Pitbull",age:2,gender:"Hembras",status:"Castradas - Vacunadas",description:"Dos hermanitas inseparables que buscan un hogar juntas.",compatibility:{kids:!0,cats:!1,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/pitbull-hermanas-123789/","https://pixabay.com/es/photos/pitbull-duo-456123/"]},{id:5,name:"Budín",species:"Perro",breed:"Rottweiler",age:4,gender:"Macho",status:"Castrado - Vacunado",description:"Budín es un perro majestuoso y protector.",compatibility:{kids:!0,cats:!1,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/rottweiler-majestuoso-987654/","https://pixabay.com/es/photos/rottweiler-protector-321987/"]},{id:6,name:"Bufuelo",species:"Perro",breed:"Labrador",age:3,gender:"Macho",status:"Castrado - Vacunado",description:"Bufuelo es un compañero ideal para toda la familia.",compatibility:{kids:!0,cats:!0,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["https://pixabay.com/es/photos/labrador-familiar-654789/","https://pixabay.com/es/photos/labrador-juguetón-987321/"]}],o=(p=e.state)==null?void 0:p.pet,c=i.find(Q=>Q.id===parseInt(a)),h=o||c;if(!h)return f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 px-4 py-8 text-center",children:[f.jsx("div",{children:"La mascota no fue encontrada"}),f.jsx("button",{onClick:()=>n("/adopt"),className:"mt-4 py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Volver a Adoptar"})]});const g=()=>{var le;const Q=((le=e.state)==null?void 0:le.from)||"/search";n(Q)};return f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 px-4 py-8 animate-fade-in",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsx("div",{className:"md:col-span-2",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-4",children:[f.jsxs("div",{className:"flex flex-col items-center border-b border-gray-200 dark:border-gray-700 pb-4 mb-4",children:[f.jsx("img",{src:h.photos?h.photos[0]:`/api/placeholder/400/300?text=${h.name}`||"/assets/placeholder-pet.jpg",alt:h.name,className:"w-24 h-24 object-cover rounded-full bg-gray-200 mb-2 border-2 border-yellow-500"}),f.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:h.name}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[h.gender||h.species," - ",h.age," ",h.age===1?"año":"años"]}),h.status&&f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:h.status})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2",children:[f.jsx(gr,{})," Descripción"]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:h.description}),f.jsxs("h3",{className:"text-md font-medium text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2",children:[f.jsx(ec,{})," Compatibilidad"]}),f.jsxs("ul",{className:"list-none space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[f.jsx(LC,{}),((v=h.compatibility)==null?void 0:v.kids)!==void 0?h.compatibility.kids?"Se lleva bien con niños":"No se lleva bien con niños":h.kidsCompatibility==="Sí"?"Se lleva bien con niños":"No se lleva bien con niños"]}),f.jsxs("li",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[f.jsx(Xg,{}),((x=h.compatibility)==null?void 0:x.cats)!==void 0?h.compatibility.cats?"Se lleva bien con otros gatos":"No se lleva bien con otros gatos":h.petsCompatibility==="Sí"?"Se lleva bien con otros gatos":"No se lleva bien con otros gatos"]}),f.jsxs("li",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[f.jsx(Wg,{}),((S=h.compatibility)==null?void 0:S.dogs)!==void 0?h.compatibility.dogs?"Se lleva bien con perros":"No se lleva bien con perros":h.petsCompatibility==="Sí"?"Se lleva bien con perros":"No se lleva bien con perros"]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.photos?h.photos.map((Q,le)=>f.jsx("img",{src:Q||"/assets/placeholder-pet.jpg",alt:`${h.name} photo ${le+1}`,className:"w-full h-24 object-cover rounded-lg bg-gray-200"},le)):f.jsx("img",{src:`/api/placeholder/400/300?text=${h.name}`,alt:`${h.name} photo 1`,className:"w-full h-24 object-cover rounded-lg bg-gray-200"}),h.photos&&[...Array(6-h.photos.length)].map((Q,le)=>f.jsx("div",{className:"w-full h-24 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400",children:"Placeholder"},le+h.photos.length)),!h.photos&&[...Array(5)].map((Q,le)=>f.jsx("div",{className:"w-full h-24 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400",children:"Placeholder"},le+1))]})]})}),f.jsxs("div",{className:"md:col-span-1",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-4",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsxs("p",{className:"font-medium text-gray-800 dark:text-white mb-2",children:["¿Te gustaría adoptar a ",h.name,"?"]}),f.jsx("div",{className:"text-red-500 dark:text-red-400 text-2xl",children:"❤️"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>n(`/adoption-form/${h.id}`,{state:{pet:h}}),className:"w-full py-2 px-4 rounded-md text-sm text-white transition-colors bg-blue-500 hover:bg-blue-600",children:"Sí, quiero adoptar"}),f.jsx("button",{onClick:g,className:"w-full py-2 px-4 rounded-md text-sm text-gray-800 dark:text-gray-200 transition-colors bg-yellow-300 hover:bg-yellow-400",children:"Aún no, quiero ver más"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[f.jsxs("div",{className:"flex flex-col items-center mb-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 mb-2"}),f.jsx("h2",{className:"font-bold text-lg text-gray-800 dark:text-white",children:((w=h.shelter)==null?void 0:w.name)||"S.O.S. HociCos"}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:((k=h.shelter)==null?void 0:k.description)||"Servicio de rescate de animales"})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsx(Za,{className:"mt-1 mr-2 flex-shrink-0 text-red-500 dark:text-red-400"}),f.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((P=h.shelter)==null?void 0:P.location)||h.location||"Mar del Plata, Buenos Aires, Argentina"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(co,{className:"mr-2 flex-shrink-0 text-blue-500 dark:text-blue-400"}),f.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs",children:((K=h.shelter)==null?void 0:K.email)||"soshocicos.mdp@gmail.com"})]})]}),f.jsx("button",{onClick:()=>n("/collaborate"),className:"w-full py-2 px-4 rounded-md text-sm mt-4 text-white bg-green-500 hover:bg-green-600 transition-colors",children:"Quiero ayudar"})]})]})]})})})}function t5(){var v;const a=fi(),n=((v=new URLSearchParams(a.search).get("species"))==null?void 0:v.toLowerCase())||"",[i,o]=X.useState(()=>JSON.parse(localStorage.getItem("likedPets"))||{});X.useEffect(()=>{localStorage.setItem("likedPets",JSON.stringify(i))},[i]);const c=x=>{o(S=>({...S,[x]:!S[x]}))},h=x=>{const S=`${window.location.origin}/pet/${x}`;navigator.clipboard.writeText(S).then(()=>alert("Enlace copiado al portapapeles: "+S)).catch(w=>console.error("Error al copiar enlace:",w))},p=[{id:1,name:"Limón",species:"Gato",description:"Un gatito juguetón y adorable que busca un hogar."},{id:2,name:"Melón",species:"Gato",description:"Melón es un gato elegante y curioso."},{id:3,name:"Sandía",species:"Gato",description:"Sandía es perfecta para un hogar tranquilo."},{id:4,name:"Canela & Manzana",species:"Perro",description:"Dos hermanitos inseparables que buscan un hogar juntos."},{id:5,name:"Budin",species:"Perro",description:"Budin es un perro majestuoso y protector."},{id:6,name:"Bufuelo",species:"Perro",description:"Bufuelo es un compañero ideal para toda la familia."}].filter(x=>n?x.species.toLowerCase().includes(n):!0);return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center pt-20",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-8 text-center animate-slide-down",children:"¡Quiero ser parte de tu familia!"}),p.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(x=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition transform hover:scale-105 animate-fade-in",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:"/assets/placeholder-pet.jpg",alt:x.name,className:"w-full h-48 object-cover rounded-t-lg"}),f.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[f.jsx("button",{onClick:()=>c(x.id),className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Me gusta",children:f.jsx(ec,{className:i[x.id]?"text-red-500":"text-gray-400"})}),f.jsx("button",{onClick:()=>h(x.id),className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Compartir",children:f.jsx(PC,{className:"text-blue-500"})})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:x.name}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm truncate",children:x.description}),f.jsx(lt,{to:`/pet/${x.id}`,className:"mt-2 inline-block text-[#9acd32] dark:text-blue-400 hover:underline",onClick:()=>console.log("Navigating to:",`/pet/${x.id}`),children:"Ver más"})]})]},x.id))}):f.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-300",children:['No se encontraron mascotas para "',n,'". Prueba con otro término.']})]})})}function n5(){var P,K;const{id:a}=g_(),e=ca(),n=fi(),[i,o]=X.useState(1),c=[{id:1,name:"Limón",species:"Gato",breed:"No especificada",age:1,gender:"Macho",status:"Castrado - Vacunado",description:"Un gatito juguetón y adorable que busca un hogar.",compatibility:{kids:!0,cats:!0,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]},{id:2,name:"Melón",species:"Gato",breed:"Siamés",age:2,gender:"Macho",status:"Castrado - Vacunado - Tuxedo",description:"Melón es un gato elegante y curioso.",compatibility:{kids:!0,cats:!1,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]},{id:3,name:"Sandía",species:"Gato",breed:"Persa",age:3,gender:"Hembra",status:"Castrada - Vacunada",description:"Sandía es perfecta para un hogar tranquilo.",compatibility:{kids:!1,cats:!0,dogs:!1},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]},{id:4,name:"Canela & Manzana",species:"Perro",breed:"Pitbull",age:2,gender:"Hembras",status:"Castradas - Vacunadas",description:"Dos hermanitos inseparables que buscan un hogar juntos.",compatibility:{kids:!0,cats:!1,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]},{id:5,name:"Budin",species:"Perro",breed:"Rottweiler",age:4,gender:"Macho",status:"Castrado - Vacunado",description:"Budin es un perro majestuoso y protector.",compatibility:{kids:!0,cats:!1,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]},{id:6,name:"Bufuelo",species:"Perro",breed:"Labrador",age:3,gender:"Macho",status:"Castrado - Vacunado",description:"Bufuelo es un compañero ideal para toda la familia.",compatibility:{kids:!0,cats:!0,dogs:!0},shelter:{name:"S.O.S. HociCos",description:"Servicio de rescate de animales",location:"Mar del Plata, Buenos Aires, Argentina",email:"soshocicos.mdp@gmail.com"},photos:["/assets/pet1.jpg","/assets/pet2.jpg"]}],h=(P=n.state)==null?void 0:P.pet,g=c.find(Q=>Q.id===parseInt(a)),p=h||g,[v,x]=X.useState({nombreApellido:"",numeroContacto:"",email:"",ciudadProvPais:"",direccion:"",nucleoFamiliar:"",tipoVivienda:"",nombreMascota:(p==null?void 0:p.name)||"",motivosAdopcion:"",experienciaAnimales:"",familiaDeAcuerdo:"",cuidadoVacaciones:"",conoceGastos:"",espacioAireLibre:"",aceptaTerminos:!1}),S=Q=>{const{name:le,value:oe,type:W,checked:re}=Q.target;x({...v,[le]:W==="checkbox"?re:oe})},w=Q=>{Q.preventDefault(),console.log("Formulario enviado:",v),alert("¡Formulario enviado con éxito! El refugio se pondrá en contacto contigo pronto."),e("/")},k=()=>{o(2),window.scrollTo(0,0)};return p?f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 px-4 py-8 animate-fade-in",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("div",{className:"w-full bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6 text-center",children:f.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:["Solicitud de Adopción para ",p.name]})}),i===1&&f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6 border-2 border-blue-500 animate-slide-up",children:[f.jsx("h2",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"REQUISITOS DE ADOPCIÓN"}),f.jsxs("div",{className:"flex flex-col md:flex-row mb-6",children:[f.jsxs("div",{className:"w-full md:w-2/3 pr-0 md:pr-6",children:[f.jsxs("div",{className:"mb-4 flex items-start",children:[f.jsx(Lu,{className:"mt-1 mr-2 flex-shrink-0 text-green-500"}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Una vez completado el formulario de adopción, el refugio se contactará con el adoptante."})]}),f.jsxs("div",{className:"mb-4 flex items-start",children:[f.jsx(Lu,{className:"mt-1 mr-2 flex-shrink-0 text-green-500"}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Los adoptantes deberán suscribir un contrato de adopción, comprometiéndose a garantizar una tenencia responsable a lo largo de la vida del animal."})]}),f.jsxs("div",{className:"mb-4 flex items-start",children:[f.jsx(Lu,{className:"mt-1 mr-2 flex-shrink-0 text-green-500"}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Los animales serán entregados tras una entrevista presencial con el equipo de adopción correspondiente."})]}),f.jsxs("div",{className:"mb-4 flex items-start",children:[f.jsx(Lu,{className:"mt-1 mr-2 flex-shrink-0 text-green-500"}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Cada refugio se reserva el derecho de aprobar o rechazar una postulación según los criterios y valores de su organización."})]})]}),f.jsx("div",{className:"w-full md:w-1/3 flex items-center justify-center mt-6 md:mt-0",children:f.jsx("img",{src:((K=p.photos)==null?void 0:K[0])||"/assets/placeholder-pet.jpg",alt:p.name,className:"w-48 h-48 object-cover rounded-full border-2 border-gray-300"})})]}),f.jsxs("div",{className:"text-center mt-6",children:[f.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300",children:"Si te sentís listo, es momento de comenzar con la postulación para elegir a tu nuevo compañero de vida."}),f.jsx("button",{onClick:k,className:"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white font-medium py-2 px-16 rounded-md transition-colors",children:"ESTOY LISTO"})]})]}),i===2&&f.jsxs("form",{onSubmit:w,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 animate-slide-up",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-md p-2 text-center mb-4",children:f.jsx("h2",{className:"font-bold text-gray-800 dark:text-white",children:"Datos Adoptante"})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Nombre y Apellido"}),f.jsx("input",{type:"text",name:"nombreApellido",value:v.nombreApellido,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Número de contacto"}),f.jsx("input",{type:"tel",name:"numeroContacto",value:v.numeroContacto,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:v.email,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Ciudad, Provincia y País"}),f.jsx("input",{type:"text",name:"ciudadProvPais",value:v.ciudadProvPais,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Dirección"}),f.jsx("input",{type:"text",name:"direccion",value:v.direccion,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-md p-2 text-center mb-4",children:f.jsx("h2",{className:"font-bold text-gray-800 dark:text-white",children:"Datos de la Mascota"})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Nombre de la Mascota"}),f.jsx("input",{type:"text",name:"nombreMascota",value:v.nombreMascota,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white",readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Motivos para adoptar"}),f.jsx("input",{type:"text",name:"motivosAdopcion",value:v.motivosAdopcion,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"¿Tiene experiencia con animales?"}),f.jsx("input",{type:"text",name:"experienciaAnimales",value:v.experienciaAnimales,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"¿Su familia está de acuerdo con la adopción?"}),f.jsx("input",{type:"text",name:"familiaDeAcuerdo",value:v.familiaDeAcuerdo,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"¿Cómo garantizará el cuidado durante las vacaciones?"}),f.jsx("input",{type:"text",name:"cuidadoVacaciones",value:v.cuidadoVacaciones,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"¿Conoce los gastos asociados con la adopción?"}),f.jsx("input",{type:"text",name:"conoceGastos",value:v.conoceGastos,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"¿Cuenta con espacio al aire libre para la mascota?"}),f.jsx("input",{type:"text",name:"espacioAireLibre",value:v.espacioAireLibre,onChange:S,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-white",required:!0})]})]})]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Enviar solicitud"})})]})]})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 px-4 py-8 text-center",children:[f.jsx("div",{children:"Mascota no encontrada"}),f.jsx("button",{onClick:()=>e("/adopt"),className:"mt-4 py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Volver a Adoptar"})]})}function r5(){const[a,e]=X.useState({name:"",email:"",subject:"",message:""}),[n,i]=X.useState(!1),o=h=>{const{name:g,value:p}=h.target;e({...a,[g]:p})},c=h=>{h.preventDefault(),console.log("Formulario enviado:",a),i(!0),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>i(!1),3e3)};return f.jsx("div",{className:"pt-16 sm:pt-20 min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center p-4 sm:p-6",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl overflow-hidden my-8",children:[f.jsxs("div",{className:"relative bg-[#9acd32] h-20 sm:h-28 flex items-center justify-center",children:[f.jsx("div",{className:"absolute w-full bottom-0",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full",children:f.jsx("path",{fill:"#fff",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})}),f.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[f.jsx(Wg,{className:"text-white text-3xl sm:text-4xl"}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Contáctanos"}),f.jsx(Xg,{className:"text-white text-3xl sm:text-4xl"})]})]}),f.jsxs("div",{className:"p-6 sm:p-8 md:p-10",children:[f.jsx("div",{className:"text-center mb-8 max-w-2xl mx-auto",children:f.jsxs("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed",children:["¿Tienes preguntas sobre adopciones o quieres colaborar con nosotros?",f.jsx("span",{className:"inline-flex items-center mx-2",children:f.jsx(ec,{className:"text-red-500 mx-1 animate-pulse"})}),"¡Estamos aquí para ayudarte!"]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-750 dark:to-gray-850 rounded-xl p-6 shadow-lg order-2 lg:order-1",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-3",children:[f.jsx(co,{className:"text-[#9acd32] text-xl"})," Envíanos un mensaje"]}),n?f.jsxs("div",{className:"text-center p-8 bg-green-50 dark:bg-green-900 rounded-lg flex flex-col items-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-700 rounded-full flex items-center justify-center mb-4",children:f.jsx(mm,{className:"text-green-600 dark:text-green-300 text-2xl"})}),f.jsx("p",{className:"text-green-800 dark:text-green-300 font-semibold text-lg mb-2",children:"¡Mensaje enviado con éxito!"}),f.jsx("p",{className:"text-green-700 dark:text-green-400",children:"Gracias por contactarnos. Te responderemos a la brevedad."})]}):f.jsxs("form",{onSubmit:c,className:"space-y-5",children:[f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($m,{className:"text-gray-500 dark:text-gray-400"})}),f.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:o,placeholder:"Tu nombre completo",className:"w-full pl-10 p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#9acd32] shadow-sm",required:!0})]})]}),f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Correo electrónico"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(co,{className:"text-gray-500 dark:text-gray-400"})}),f.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:o,placeholder:"tu.email@ejemplo.com",className:"w-full pl-10 p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#9acd32] shadow-sm",required:!0})]})]}),f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("label",{htmlFor:"subject",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Asunto"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(mm,{className:"text-gray-500 dark:text-gray-400"})}),f.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:o,placeholder:"Asunto de tu mensaje",className:"w-full pl-10 p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#9acd32] shadow-sm",required:!0})]})]}),f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mensaje"}),f.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:o,placeholder:"¿En qué podemos ayudarte?",className:"w-full p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#9acd32] resize-none h-32 shadow-sm",required:!0})]}),f.jsxs("button",{type:"submit",className:"w-full bg-[#9acd32] hover:bg-green-600 text-white py-3 px-6 rounded-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105 shadow-md flex items-center justify-center gap-2",children:[f.jsx(mm,{})," Enviar Mensaje"]})]})]}),f.jsxs("div",{className:"flex flex-col order-1 lg:order-2",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-750 rounded-xl shadow-lg p-6 mb-6",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-3",children:[f.jsx(_d,{className:"text-[#9acd32]"})," Información de Contacto"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(co,{className:"text-blue-600 dark:text-blue-300 text-lg"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),f.jsx("a",{href:"mailto:info@gauymiau.com",className:"text-gray-800 dark:text-gray-200 hover:text-[#9acd32] dark:hover:text-[#9acd32] transition-colors",children:"info@gauymiau.com"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(_d,{className:"text-green-600 dark:text-green-300 text-lg"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Teléfono"}),f.jsx("a",{href:"tel:+5412345678",className:"text-gray-800 dark:text-gray-200 hover:text-[#9acd32] dark:hover:text-[#9acd32] transition-colors",children:"+54 123 456 7890"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:f.jsx(Za,{className:"text-yellow-600 dark:text-yellow-300 text-lg"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dirección"}),f.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:"Av. Siempre Viva 123, Buenos Aires, Argentina"})]})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-750 dark:to-gray-850 rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Síguenos en redes"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("a",{href:"#",className:"flex items-center gap-2 bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm hover:shadow-md transition-all transform hover:scale-105",children:[f.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:f.jsx(jC,{className:"text-white"})}),f.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"WhatsApp"})]}),f.jsxs("a",{href:"#",className:"flex items-center gap-2 bg-white dark:bg-gray-700 p-3 rounded-lg shadow-sm hover:shadow-md transition-all transform hover:scale-105",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f.jsx(h2,{className:"text-white"})}),f.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Instagram"})]})]})]}),f.jsx("div",{className:"mt-6 bg-green-50 dark:bg-gray-700 rounded-xl p-4 shadow-md",children:f.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-center",children:[f.jsx("span",{className:"font-semibold",children:"Horario de atención:"})," Lunes a Viernes de 9:00 a 18:00"]})})]})]})]}),f.jsxs("div",{className:"relative bg-[#9acd32] h-16 sm:h-24 mt-8",children:[f.jsx("div",{className:"absolute w-full top-0 transform rotate-180",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full",children:f.jsx("path",{fill:"#fff",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})}),f.jsx("div",{className:"flex justify-center items-center h-full relative",children:f.jsxs("p",{className:"text-white text-sm sm:text-base font-medium",children:["Guau & Miau © ",new Date().getFullYear()," - Con amor por los animales"]})})]})]})})}const a5=()=>{const[a,e]=X.useState(null),[n,i]=X.useState(null),[o,c]=X.useState(!0),[h,g]=X.useState(null),[p,v]=X.useState("profile"),[x,S]=X.useState(!1),[w,k]=X.useState({}),P=ca();X.useEffect(()=>{const W=ab(pr,async re=>{if(re){e(re);try{const ue=oo(lo,"users",re.uid),Ne=await Km(ue);if(Ne.exists()){const O=Ne.data();i(O),k({firstName:O.firstName||"",lastName:O.lastName||"",phone:O.phone||"",photoURL:re.photoURL||"",displayName:re.displayName||""})}else i({}),k({firstName:"",lastName:"",phone:"",photoURL:re.photoURL||"",displayName:re.displayName||""})}catch(ue){console.error("Error al obtener datos de Firestore:",ue),g("Error al cargar los datos del perfil: "+ue.message)}}else P("/login");c(!1)});return()=>W()},[P]);const K=W=>{const{name:re,value:ue}=W.target;k({...w,[re]:ue})},Q=async()=>{try{const W=pr.currentUser;if(!W)throw new Error("Usuario no autenticado");await rb(W,{displayName:w.displayName,photoURL:w.photoURL});const re=oo(lo,"users",W.uid);await t_(re,{firstName:w.firstName,lastName:w.lastName,phone:w.phone}),i({...n,firstName:w.firstName,lastName:w.lastName,phone:w.phone}),e({...W,displayName:w.displayName,photoURL:w.photoURL}),S(!1),g(null)}catch(W){g("Error al guardar los datos: "+W.message)}},le=async(W,re)=>{try{const ue=oo(lo,"users",a.uid);await t_(ue,{[W]:re}),i({...n,[W]:re})}catch(ue){g("Error al actualizar las preferencias: "+ue.message)}},oe=async()=>{try{if(!(a!=null&&a.email))throw new Error("No se encontró el correo electrónico del usuario.");await CS(pr,a.email),alert("Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.")}catch(W){g("Error al enviar el correo de restablecimiento: "+W.message)}};return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"w-24 h-24 bg-gray-300 dark:bg-gray-700 rounded-full mb-4"}),f.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-32 mb-3"}),f.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-24"})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex flex-col",children:[f.jsx("header",{className:"bg-white dark:bg-gray-800 shadow p-4 md:p-6 sticky top-0 z-10",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-green-600",children:"Guau & Miau"}),f.jsx("button",{className:"focus:outline-none",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),f.jsx("main",{className:"flex-grow overflow-y-auto p-4 md:p-6",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden",children:a&&f.jsxs("div",{className:"flex flex-col md:flex-row",children:[f.jsxs("div",{className:"md:w-1/3 bg-indigo-600 dark:bg-indigo-800 text-white p-6",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:w.photoURL||"https://via.placeholder.com/150",alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-gray-700"}),f.jsx("div",{className:"absolute bottom-0 right-0 bg-green-500 rounded-full w-4 h-4 border-2 border-white dark:border-gray-700"})]}),f.jsx("h2",{className:"text-xl font-bold mt-4",children:w.displayName||(n==null?void 0:n.firstName)||"Usuario"}),f.jsx("p",{className:"text-indigo-200 dark:text-indigo-300 text-sm",children:a.email}),(n==null?void 0:n.createdAt)&&f.jsxs("p",{className:"text-xs text-indigo-200 dark:text-indigo-300 mt-1",children:["Miembro desde ",new Date(n.createdAt.seconds*1e3).toLocaleDateString()]})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>v("profile"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center ${p==="profile"?"bg-white/20 font-medium":"hover:bg-white/10"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Información Personal"]}),f.jsxs("button",{onClick:()=>v("preferences"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center ${p==="preferences"?"bg-white/20 font-medium":"hover:bg-white/10"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Preferencias"]}),f.jsxs("button",{onClick:()=>v("security"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center ${p==="security"?"bg-white/20 font-medium":"hover:bg-white/10"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Seguridad"]})]}),f.jsx("div",{className:"mt-auto pt-6",children:f.jsxs("button",{onClick:()=>pr.signOut(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar sesión"]})})]}),f.jsxs("div",{className:"md:w-2/3 p-6",children:[h&&f.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:f.jsx("p",{children:h})}),p==="profile"&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Información Personal"]}),x?f.jsxs("form",{onSubmit:W=>{W.preventDefault(),Q()},className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Nombre"}),f.jsx("input",{type:"text",name:"firstName",value:w.firstName,onChange:K,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Apellido"}),f.jsx("input",{type:"text",name:"lastName",value:w.lastName,onChange:K,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Correo electrónico"}),f.jsx("input",{type:"email",value:(n==null?void 0:n.email)||a.email,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed",disabled:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Teléfono"}),f.jsx("input",{type:"tel",name:"phone",value:w.phone,onChange:K,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Nombre de visualización"}),f.jsx("input",{type:"text",name:"displayName",value:w.displayName,onChange:K,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"URL de foto de perfil"}),f.jsx("input",{type:"text",name:"photoURL",value:w.photoURL,onChange:K,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"https://example.com/foto.jpg"})]})]}),f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Guardar"}),f.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-gray-400 hover:bg-gray-500 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancelar"})]})]}):f.jsxs("div",{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Nombre"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:(n==null?void 0:n.firstName)||"No especificado"})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Apellido"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:(n==null?void 0:n.lastName)||"No especificado"})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Correo electrónico"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:(n==null?void 0:n.email)||a.email})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Teléfono"}),f.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:(n==null?void 0:n.phone)||"No especificado"})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:()=>S(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Editar información"})})]})]}),p==="preferences"&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Preferencias"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Notificaciones por correo"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recibe notificaciones sobre actualizaciones importantes."})]}),f.jsx("div",{children:f.jsx("input",{type:"checkbox",className:"toggle-checkbox",checked:(n==null?void 0:n.emailNotifications)||!1,onChange:W=>le("emailNotifications",W.target.checked)})})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Modo oscuro"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activa el modo oscuro para una experiencia visual más cómoda."})]}),f.jsx("div",{children:f.jsx("input",{type:"checkbox",className:"toggle-checkbox",checked:(n==null?void 0:n.darkMode)||!1,onChange:W=>le("darkMode",W.target.checked)})})]})]})]}),p==="security"&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Seguridad"]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Restablecer contraseña"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recibirás un correo con instrucciones para restablecer tu contraseña."})]}),f.jsx("div",{children:f.jsx("button",{onClick:oe,className:"bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Restablecer"})})]})})]})]})]})})})]})};function i5(){return f.jsxs(f.Fragment,{children:[f.jsx(Fd,{}),f.jsxs(CT,{children:[f.jsx(_n,{path:"/",element:f.jsx(FC,{})}),f.jsx(_n,{path:"/profile",element:f.jsx(a5,{})}),f.jsx(_n,{path:"/adopt",element:f.jsx(GC,{})}),f.jsx(_n,{path:"/collaborate",element:f.jsx(KC,{})}),f.jsx(_n,{path:"/about",element:f.jsx(QC,{})}),f.jsx(_n,{path:"/contact",element:f.jsx(r5,{})}),f.jsx(_n,{path:"/login",element:f.jsx(YC,{})}),f.jsx(_n,{path:"/signup",element:f.jsx(XC,{})}),f.jsx(_n,{path:"/location",element:f.jsx(JC,{})}),f.jsx(_n,{path:"/search",element:f.jsx(t5,{})}),f.jsx(_n,{path:"/pet/:id",element:f.jsx(e5,{})}),f.jsx(_n,{path:"/adoption-form/:id",element:f.jsx(n5,{})})]}),f.jsx(UC,{})]})}QE.createRoot(document.getElementById("root")).render(f.jsx(ra.StrictMode,{children:f.jsx(OT,{children:f.jsx(i5,{})})}));
